(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1639],{21476:function(e,t,i){"use strict";var o=i(11527),n=i(67030),a=i(93780);t.Z=e=>{let{textClassName:t,policyToShow:i,imageWidth:l,imageHeight:r,fontSize:s,fontWeight:c,defaultTextVariant:d="highEmphasis"}=e,{icon:u,type:m,title:_}=i||{},p=(m||"").toUpperCase();return(0,o.jsxs)(o.Fragment,{children:[!!l&&!!r&&(0,o.jsx)(a.E,{src:u||"/",width:l,height:r,alt:m||"",style:{objectFit:"contain",objectPosition:"center",margin:0}}),(0,o.jsx)(n.x,{className:t,as:"span",size:s||"b1",weight:c||"bold",variant:"FREE_CANCELLATION"===p?"positive":"CANCELLATION_WITH_FEE"===p?"alert":d,children:_||""})]})}},85181:function(e,t,i){"use strict";var o=i(11527);let n=(0,i(50959).memo)(()=>(0,o.jsx)("img",{src:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSI5OTk5OXB4IiBoZWlnaHQ9Ijk5OTk5cHgiIHZpZXdCb3g9IjAgMCA5OTk5OSA5OTk5OSIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj48ZyBzdHJva2U9Im5vbmUiIGZpbGw9Im5vbmUiIGZpbGwtb3BhY2l0eT0iMCI+PHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9Ijk5OTk5IiBoZWlnaHQ9Ijk5OTk5Ij48L3JlY3Q+IDwvZz4gPC9zdmc+",alt:"lcpo",width:"99999",height:"99999",style:{pointerEvents:"none",position:"absolute",top:0,left:0,width:"95vw",height:"95vh",maxWidth:"95vw",maxHeight:"95vh"}}));t.Z=n},93050:function(e,t,i){"use strict";i.d(t,{G:function(){return a},M:function(){return l}});var o=i(50636),n=i(37910);let a=o.createCurrencyFormatter,l=e=>{let{currencyData:t,value:i,rounding:o=!1}=e;return a({locale:n.ZW,currency:(null==t?void 0:t.code)||n.PI.code,scale:(null==t?void 0:t.scale)||n.PI.scale})(i||0).toNumber({rounding:o})}},57870:function(e,t,i){"use strict";i.d(t,{i:function(){return n}});var o=i(37910);let n=(e,t)=>"nha"===e&&(t||"").toUpperCase()===o.$G.ENTIRE_PLACE},47582:function(e,t,i){"use strict";i.d(t,{Bt:function(){return p},H6:function(){return u},Qz:function(){return v},Vj:function(){return _},nx:function(){return m},so:function(){return h}});var o=i(11527),n=i(82187),a=i.n(n),l=i(67030),r=i(37910),s=i(32311),c=i(93050),d=i(35091);let u=e=>{let{isFormattedDisplayedPricesRounded:t=!0,locale:i,currencyData:o,priceDisplayObj:n,rateInfoPriceObj:a}=e,l={formattedStrikethroughPriceWithTax:"",formattedFinalPriceWithTax:"",formattedStrikethroughPriceWithoutTax:"",formattedFinalPriceWithoutTax:"",strikethroughPriceWithTax:0,finalPriceWithTax:0,strikethroughPriceWithoutTax:0,finalPriceWithoutTax:0,discountPercentageWithoutTax:0,discountPercentageWithTax:0,isPricesWithoutTaxPresent:!0},s={formattedStrikethroughPrice:"",formattedFinalPrice:"",strikethroughPrice:0,finalPrice:0,discountPercentage:0},u=(0,c.G)({locale:i,currency:(null==o?void 0:o.code)||(null===r.PI||void 0===r.PI?void 0:r.PI.code),scale:(null==o?void 0:o.scale)||(null===r.PI||void 0===r.PI?void 0:r.PI.scale)}),m=((null==n?void 0:n.type)||"").toLowerCase()===r.lW.TOTAL_PRICE,_=!!(null==n?void 0:n.isDisplayingAfterTax);return m?(l.strikethroughPriceWithoutTax=(null==a?void 0:a.totalBaseRateWithoutTax)||0,l.finalPriceWithoutTax=(null==a?void 0:a.totalRateWithoutTax)||0,l.strikethroughPriceWithTax=(null==a?void 0:a.totalBaseRateWithTax)||0,l.finalPriceWithTax=(null==a?void 0:a.totalRateWithTax)||0):(l.strikethroughPriceWithoutTax=(null==a?void 0:a.baseRateWithoutTax)||0,l.finalPriceWithoutTax=(null==a?void 0:a.rateWithoutTax)||0,l.strikethroughPriceWithTax=(null==a?void 0:a.baseRateWithTax)||0,l.finalPriceWithTax=(null==a?void 0:a.rateWithTax)||0),l.finalPriceWithoutTax||(l.strikethroughPriceWithoutTax=l.strikethroughPriceWithTax,l.finalPriceWithoutTax=l.finalPriceWithTax,l.isPricesWithoutTaxPresent=!1),l.strikethroughPriceWithoutTax<=l.finalPriceWithoutTax&&(l.strikethroughPriceWithoutTax=0),l.strikethroughPriceWithTax<=l.finalPriceWithTax&&(l.strikethroughPriceWithTax=0),l.formattedStrikethroughPriceWithoutTax=u(l.strikethroughPriceWithoutTax).toString({rounding:!!t}),l.formattedFinalPriceWithoutTax=u(l.finalPriceWithoutTax).toString({rounding:!!t}),l.formattedStrikethroughPriceWithTax=u(l.strikethroughPriceWithTax).toString({rounding:!!t}),l.formattedFinalPriceWithTax=u(l.finalPriceWithTax).toString({rounding:!!t}),l.discountPercentageWithoutTax=(0,d.$Q)(l.strikethroughPriceWithoutTax,l.finalPriceWithoutTax),l.discountPercentageWithTax=(0,d.$Q)(l.strikethroughPriceWithTax,l.finalPriceWithTax),_?(s.strikethroughPrice=(null==l?void 0:l.strikethroughPriceWithTax)||0,s.finalPrice=(null==l?void 0:l.finalPriceWithTax)||0,s.discountPercentage=(null==l?void 0:l.discountPercentageWithTax)||0,s.formattedStrikethroughPrice=(null==l?void 0:l.formattedStrikethroughPriceWithTax)||"",s.formattedFinalPrice=(null==l?void 0:l.formattedFinalPriceWithTax)||""):(s.strikethroughPrice=(null==l?void 0:l.strikethroughPriceWithoutTax)||0,s.finalPrice=(null==l?void 0:l.finalPriceWithoutTax)||0,s.discountPercentage=(null==l?void 0:l.discountPercentageWithoutTax)||0,s.formattedStrikethroughPrice=(null==l?void 0:l.formattedStrikethroughPriceWithoutTax)||"",s.formattedFinalPrice=(null==l?void 0:l.formattedFinalPriceWithoutTax)||""),{completePriceObj:l,displayedPriceObj:s}},m=e=>{let{isSupportingNHAEntirePlaceTypeRemark:t=!1,isShowingTypeRemark:i=!0,isShowingTaxRemark:n=!0,taxRemarkPriceTextClassname:s,taxRemarkPriceWrapperClassname:c,taxRemarkPriceWrapperAatClassname:d,i18n:u,priceDisplayObj:m,formattedFinalPriceWithTax:_}=e,p=((null==m?void 0:m.type)||"").toLowerCase()===r.lW.TOTAL_PRICE,h=(null==m?void 0:m.isDisplayingAfterTax)||!(null==m?void 0:m.isDisplayingAfterTax)&&!_;return(0,o.jsxs)(o.Fragment,{children:[i?(0,o.jsxs)(o.Fragment,{children:[u(p?"priceDisplay.type.totalPrice":t?"priceDisplay.type.perNight":"priceDisplay.type.perRoomPerNight")," "]}):null,n?(0,o.jsx)(l.x,{className:a()(c,h&&d),as:"span",children:h?(0,o.jsxs)(o.Fragment,{children:["(",u("priceDisplay.taxDisplay.includingTaxes"),")"]}):(0,o.jsxs)(o.Fragment,{children:["(",u("priceDisplay.taxDisplay.afterTaxes"),":"," ",(0,o.jsx)(l.x,{className:s,as:"span",variant:"highEmphasis",children:_}),")"]})}):null]})},_=e=>{let{enforcedPriceDisplayType:t,priceDisplayType:i}=e;return t||i||r.lW.PER_ROOM_PER_NIGHT},p=e=>{let{isAATQueryParam:t,isDisplayingAfterTax:i}=e;return t?"true"===t:!!i},h=e=>e?"aat":"abt",v=e=>{s.Z.pushGTM({userTaxDisplay:(null==e?void 0:e.isDisplayingAfterTax)?"afterTax":"beforeTax"})}},82045:function(e,t,i){"use strict";i.d(t,{Ci:function(){return a},Ls:function(){return n},kC:function(){return o}});let o=e=>(e||"").toLowerCase().split(" ").map(e=>(e[0]||"").toUpperCase()+(e||"").slice(1)).join(" "),n=e=>(e||"").toLowerCase().split(" ").map(e=>(e[0]||"").toUpperCase()+(e||"").slice(1)).join(" "),a=e=>{let t;return e&&(t=null==e?void 0:e.split(",")),t}},55405:function(e,t,i){"use strict";i.d(t,{E:function(){return u}});var o=i(25005),n=i(50959),a=i(42128),l=i(37910),r=i(47582),s=i(3762),c=i(33381),d=i(33941);let u=e=>{let t=(0,c.QT)(),i=(0,o.useRouter)(),{locale:u}=(0,a.On)(),[m,_]=(0,n.useState)((0,s.Er)(i,l.H1.IS_AAT)),{hydrationSafeValue:p,realTimeValue:h,setValue:v}=(0,d.D)(l.k2,l._U),g=(0,r.Vj)({enforcedPriceDisplayType:null==e?void 0:e.enforcedPriceDisplayType,priceDisplayType:null==p?void 0:p.type}),x=(0,r.Bt)({isAATQueryParam:m,isDisplayingAfterTax:!!(null==p?void 0:p.isDisplayingAfterTax)});return{priceDisplayState:{type:g,isDisplayingAfterTax:x},generateFormattedPriceDisplayObj:e=>{let{isFormattedDisplayedPricesRounded:t=!0,currencyData:i,rateInfoPriceObj:o}=e;return(0,r.H6)({isFormattedDisplayedPricesRounded:t,locale:u,currencyData:i,priceDisplayObj:{type:g,isDisplayingAfterTax:x},rateInfoPriceObj:o})},generatePriceDisplayRemarkTextElement:e=>{let{isSupportingNHAEntirePlaceTypeRemark:i=!1,isShowingTypeRemark:o=!0,isShowingTaxRemark:n=!0,taxRemarkPriceTextClassname:a,taxRemarkPriceWrapperClassname:l,taxRemarkPriceWrapperAatClassname:s,formattedFinalPriceWithTax:c}=e;return(0,r.nx)({isSupportingNHAEntirePlaceTypeRemark:i,isShowingTypeRemark:o,isShowingTaxRemark:n,taxRemarkPriceTextClassname:a,taxRemarkPriceWrapperClassname:l,taxRemarkPriceWrapperAatClassname:s,i18n:t,priceDisplayObj:{type:g,isDisplayingAfterTax:x},formattedFinalPriceWithTax:c})},gtmPushPriceDisplayRelated:()=>{let t=(0,r.Vj)({enforcedPriceDisplayType:null==e?void 0:e.enforcedPriceDisplayType,priceDisplayType:null==h?void 0:h.type}),i=(0,r.Bt)({isAATQueryParam:m,isDisplayingAfterTax:!!(null==h?void 0:h.isDisplayingAfterTax)});(0,r.Qz)({type:t,isDisplayingAfterTax:i})},updatePriceDisplayState:e=>{_(String(!!(null==e?void 0:e.isDisplayingAfterTax))),v({...l._U,...e})}}}},47369:function(e,t,i){"use strict";var o=i(50959);t.Z=e=>{let[t,i]=(0,o.useState)(e);return[t,()=>i(!0),()=>i(!1),e=>i(!e)]}},54929:function(e,t,i){"use strict";var o=i(32311),n=i(32989);t.Z={LOG_IN:()=>{let{isMultiRoom:e}=(0,n.VG)();return{event:o.t.CLICK,eventAction:"clickAddNew",eventCategory:"bookProduct",eventDescription:"enterLoginForm",screenName:"bookingForm1",eventLabel:"singleHotel",isMultiRoom:!!e}},INPUT_DETAIL:()=>{let{isMultiRoom:e,isLoggedIn:t}=(0,n.VG)();return{event:o.t.CLICK,eventAction:"clickAddNew",eventCategory:"bookProduct",eventDescription:"addContactDetails",screenName:"bookingForm1",eventLabel:"singleHotel",loginStatus:t?"loginUser":"nonLoginUser",isMultiRoom:!!e}},SAVE_GUEST_DETAIL:e=>{let{isMultiRoom:t,isLoggedIn:i}=(0,n.VG)()||{};return{event:o.t.SUBMIT,eventAction:"submitDetail",eventCategory:"bookProduct",eventDescription:"submitGuestDetailNew",screenName:"bookingForm1",eventLabel:"singleHotel",roomPosition:e,loginStatus:i?"loginUser":"nonLoginUser",isMultiRoom:!!t}},PRICE_BREAKUP:e=>{let{hotelRoomId:t,hotelRoomName:i,selectedRoomPlanQuantity:a,selectedRoomQuantity:l}=e,{isMultiRoom:r,activePageNumber:s}=(0,n.VG)();return{event:o.t.CLICK,eventAction:"clickExpand",eventCategory:"bookProduct",eventDescription:"viewHotelPriceBreakdown",eventLabel:"singleHotel",hotelRoomId:t,hotelRoomName:i,selectedRoomPlanQuantity:a,selectedRoomQuantity:l,screenName:"bookingForm".concat(s),isMultiRoom:!!r}},CONTINUE:e=>{let{hotelRoomId:t,hotelRoomName:i,selectedRoomPlanQuantity:a,selectedRoomQuantity:l,bedType:r,totalBedRoom:s}=e,{isMultiRoom:c}=(0,n.VG)();return{event:o.t.CLICK,eventAction:"clickButton",eventCategory:"bookProduct",eventDescription:"clickNextBookProduct",eventLabel:"singleHotel",isMultiRoom:!!c,hotelRoomId:t,hotelRoomName:i,selectedRoomPlanQuantity:a,selectedRoomQuantity:l,screenName:"bookingForm1",ctaTitle:"continue",bedType:r,totalBedRoom:s}},SELECT_PAYMENT:e=>{let{hotelRoomId:t,hotelRoomName:i,selectedRoomPlanQuantity:a,selectedRoomQuantity:l,bedType:r,totalBedRoom:s,allowToDisplayLoginPrice:c,showLoginPriceNudges:d}=e,{isMultiRoom:u,activePageNumber:m}=(0,n.VG)();return{event:o.t.CLICK,eventAction:"clickButton",eventCategory:"bookProduct",eventDescription:"clickNextBookProduct",eventLabel:"singleHotel",isMultiRoom:!!u,hotelRoomId:t,hotelRoomName:i,selectedRoomPlanQuantity:a,selectedRoomQuantity:l,screenName:"bookingForm".concat(m),ctaTitle:"selectPayment",bedType:r,totalBedRoom:s,allowToDisplayLoginPrice:c,showLoginPriceNudges:d}},ADDON_ADD:(e,t)=>{let{isMultiRoom:i,isLoggedIn:a}=(0,n.VG)()||{};return{event:o.t.CLICK,eventAction:"clickAddNew",eventCategory:"bookProduct",eventDescription:"addOnsRequestClick",screenName:"bookingForm2",addOnsType:(e||"").toLowerCase(),cardPositions:t+1,eventLabel:"singleHotel",isMultiRoom:!!i,loginStatus:a?"loginUser":"nonLoginUser"}},ADDON_CHANGE_COUNT:(e,t)=>{let{isMultiRoom:i,isLoggedIn:a}=(0,n.VG)();return{event:o.t.CLICK,eventAction:t?"clickIncrease":"clickDecrease",eventCategory:"bookProduct",eventDescription:t?"changeAddOnsIncrease":"changeAddOnsDecrease",addOnsType:(e||"").toLowerCase(),screenName:"bookingForm2",isMultiRoom:!!i,loginStatus:a?"loginUser":"nonLoginUser"}},ADDON_EXPAND:(e,t)=>{let{isMultiRoom:i,isLoggedIn:a}=(0,n.VG)();return{event:o.t.CLICK,eventAction:"clickExpand",eventCategory:"bookProduct",eventDescription:"viewAddOns",screenName:"bookingForm2",addOnsType:(e||"").toLowerCase(),cardPositions:t+1,eventLabel:"singleHotel",isMultiRoom:!!i,loginStatus:a?"loginUser":"nonLoginUser"}},ADDON_SUBMIT_NOTE:e=>{let{addOnsType:t,addOnsItem:i,roomPosition:a,selectedNight:l}=e,{isMultiRoom:r,isLoggedIn:s}=(0,n.VG)()||{};return{event:o.t.SUBMIT,eventAction:"submitDetail",eventCategory:"bookProduct",eventDescription:"submitAddNotes",addOnsItem:i,addOnsType:(t||"").toLowerCase(),roomPosition:a,selectedNight:l,screenName:"bookingForm2",eventLabel:"singleHotel",isMultiRoom:!!r,loginStatus:s?"loginUser":"nonLoginUser"}},INSURANCE_MORE_BENEFITS:(e,t)=>{let{isMultiRoom:i,isLoggedIn:a}=(0,n.VG)()||{};return{event:o.t.CLICK,eventAction:"clickExpand",eventCategory:"bookProduct",eventDescription:"viewInsuranceDetail",screenName:"bookingForm2",insuranceType:e,cardPositions:t+1,eventLabel:"singleHotel",isMultiRoom:!!i,loginStatus:a?"loginUser":"nonLoginUser"}},INSURANCE_ADD:e=>{let{insuranceType:t,cardPositions:i,hotelRoomId:a,hotelRoomName:l,selectedRoomPlanQuantity:r,selectedRoomQuantity:s}=e,{isMultiRoom:c,isLoggedIn:d}=(0,n.VG)();return{event:o.t.CLICK,eventAction:"clickAddNew",eventCategory:"bookProduct",eventDescription:"insuranceDetailNew",insuranceType:t,screenName:"bookingForm2",cardPositions:i+1,hotelRoomId:a,hotelRoomName:l,selectedRoomPlanQuantity:r,selectedRoomQuantity:s,eventLabel:"singleHotel",isMultiRoom:!!c,loginStatus:d?"loginUser":"nonLoginUser"}},INSURANCE_REMOVE:e=>{let{insuranceType:t,cardPositions:i,hotelRoomId:a,hotelRoomName:l,selectedRoomPlanQuantity:r,selectedRoomQuantity:s}=e,{isMultiRoom:c,isLoggedIn:d}=(0,n.VG)();return{event:o.t.CLICK,eventAction:"clickRemove",eventCategory:"bookProduct",eventDescription:"insuranceDetailNew",insuranceType:t,screenName:"bookingForm2",cardPositions:i+1,hotelRoomId:a,hotelRoomName:l,selectedRoomPlanQuantity:r,selectedRoomQuantity:s,eventLabel:"singleHotel",isMultiRoom:!!c,loginStatus:d?"loginUser":"nonLoginUser"}},INSURANCE_POPUP_TAB_CHANGE:e=>{let{isMultiRoom:t,isLoggedIn:i}=(0,n.VG)()||{};return{event:o.t.CLICK,eventAction:"clickTab",eventCategory:"bookProduct",eventDescription:"seeInsurancePackage",screenName:"bookingForm2",insuranceType:e,eventLabel:"singleHotel",isMultiRoom:!!t,loginStatus:i?"loginUser":"nonLoginUser"}},INSURANCE_OPEN_PDF:e=>{let{isMultiRoom:t,isLoggedIn:i}=(0,n.VG)()||{};return{event:o.t.CLICK,eventAction:"clickExpand",eventCategory:"bookProduct",eventDescription:"viewInsurancePackage",insuranceType:e,screenName:"bookingForm2",eventLabel:"singleHotel",isMultiRoom:!!t,loginStatus:i?"loginUser":"nonLoginUser"}},EDIT_CONTACT_DETAILS:()=>{let{isMultiRoom:e}=(0,n.VG)();return{event:o.t.CLICK,eventAction:"clickExpand",eventCategory:"bookProduct",eventDescription:"editContactDetails",screenName:"bookingForm1",eventLabel:"singleHotel",isMultiRoom:!!e}},SAVE_CONTACT_DETAILS:()=>{let{isMultiRoom:e,isLoggedIn:t}=(0,n.VG)();return{event:o.t.SUBMIT,eventAction:"submitDetail",eventCategory:"bookProduct",eventDescription:"submitContactDetails",screenName:"bookingForm1",eventLabel:"singleHotel",isMultiRoom:!!e,loginStatus:t?"loginUser":"nonLoginUser"}},VIEW_SURCHARGE_INFORMATION_CLICK:()=>({event:o.t.CLICK,eventCategory:"viewSurchargeInformation",screenName:"bookingForm1"}),ERROR_PARTIAL_SOLD_OUT:()=>{let{activePageNumber:e}=(0,n.VG)();return{event:o.t.IMPRESSION,eventAction:"impression",eventCategory:"errorMessage",eventDescription:"soldOutPartial",eventLabel:"singleHotel",screenName:"bookingForm".concat(e)}},ERROR_PARTIAL_SOLD_OUT_CTA_CLICK:e=>{let{locale:t}=e,{activePageNumber:i}=(0,n.VG)();return{event:o.t.CLICK,eventAction:"clickAddNewRoom",eventCategory:"errorMessage",eventDescription:"soldOutPartial",eventLabel:"singleHotel",screenName:"bookingForm".concat(i),ctaTitle:"en"===t?"Add other rooms":"Tambah kamar lain"}},ERROR_PARTIAL_SOLD_OUT_SECONDARY_CLICK:()=>{let{activePageNumber:e}=(0,n.VG)();return{event:o.t.CLICK,eventAction:"clickContinueButton",eventCategory:"errorMessage",eventDescription:"soldOutPartial",eventLabel:"singleHotel",screenName:"bookingForm".concat(e),ctaTitle:"Continue booking"}},ERROR_FULLY_BOOKED:()=>{let{activePageNumber:e}=(0,n.VG)();return{event:o.t.IMPRESSION,eventAction:"impression",eventCategory:"errorMessage",eventDescription:"soldOut",eventLabel:"singleHotel",screenName:"bookingForm".concat(e)}},ERROR_FULLY_BOOKED_CTA_CLICK:()=>{let{activePageNumber:e}=(0,n.VG)();return{event:o.t.CLICK,eventAction:"clickAddNewRoom",eventCategory:"errorMessage",eventDescription:"soldOut",eventLabel:"singleHotel",screenName:"bookingForm".concat(e),ctaTitle:"Change and retry the search"}},ERROR_PRICE_UPDATE:(e,t,i)=>({event:o.t.IMPRESSION,eventAction:"impression",eventCategory:"errorMessage",eventDescription:"priceUpdateErrorMessage",eventLabel:"singleHotel",screenName:"bookingForm2",orderType:e,newPrice:i,oldPrice:t}),ERROR_PRICE_UPDATE_CTA_CLICK:(e,t,i)=>({event:o.t.CLICK,eventAction:"clickButton",eventCategory:"errorMessage",eventDescription:"priceUpdateErrorMessage",eventLabel:"singleHotel",screenName:"bookingForm2",orderType:e,newPrice:i,oldPrice:t,ctaTitle:"Go to the Payment Page"}),MULTI_ORDER:{ADDON_SAVE:e=>{let{addOnsType:t,addOnsQty:i,cardPosition:a,totalNight:l,totalPrice:r,totalRoom:s,hotelRoomId:c,hotelRoomName:d,selectedRoomPlanQuantity:u,selectedRoomQuantity:m}=e,{isMultiRoom:_,isLoggedIn:p}=(0,n.VG)();return{event:o.t.CLICK,eventAction:"submitDetail",eventCategory:"bookProduct",eventDescription:"saveAddOnsDetailNew",screenName:"bookingForm2",addOnsType:(t||"").toLowerCase(),addOnsQty:i,cardPositions:a+1,eventLabel:"singleHotel",isMultiRoom:!!_,loginStatus:p?"loginUser":"nonLoginUser",totalNight:l,totalPrice:r,totalRoom:s,hotelRoomId:c,hotelRoomName:d,selectedRoomPlanQuantity:u,selectedRoomQuantity:m}},ADDON_CHANGE_COUNT:e=>{let{addOnsType:t,isIncreasing:i,roomPosition:a,selectedNight:l}=e,{isMultiRoom:r,isLoggedIn:s}=(0,n.VG)()||{};return{event:o.t.CLICK,eventAction:i?"clickIncrease":"clickDecrease",eventCategory:"bookProduct",eventDescription:i?"changeAddOnsIncrease":"changeAddOnsDecrease",addOnsType:(t||"").toLowerCase(),roomPosition:a,selectedNight:l,screenName:"bookingForm2",isMultiRoom:!!r,loginStatus:s?"loginUser":"nonLoginUser"}},ADDON_CLICK_ADD_NOTE:e=>{let{addOnsType:t,cardPositions:i,roomPosition:a,selectedNight:l}=e,{isMultiRoom:r,isLoggedIn:s}=(0,n.VG)()||{};return{event:o.t.CLICK,eventAction:"clickAddNew",eventCategory:"bookProduct",eventDescription:"clickOpenNotesAdd",eventLabel:"singleHotel",addOnsType:(t||"").toLowerCase(),cardPositions:i,roomPosition:a,selectedNight:l,screenName:"bookingForm2",isMultiRoom:!!r,loginStatus:s?"loginUser":"nonLoginUser"}},ADDON_SEE_ALL_NIGHT:e=>{let{addOnsType:t,cardPositions:i,roomPosition:a}=e,{isMultiRoom:l,isLoggedIn:r}=(0,n.VG)();return{event:o.t.CLICK,eventAction:"clickAddNew",eventCategory:"bookProduct",eventDescription:"clickSeeAllAddOns",eventLabel:"singleHotel",addOnsType:(t||"").toLowerCase(),cardPositions:i,roomPosition:a,screenName:"bookingForm2",isMultiRoom:!!l,loginStatus:r?"loginUser":"nonLoginUser"}}}}},99218:function(e,t,i){"use strict";var o=i(11527),n=i(82187),a=i.n(n),l=i(50959),r=i(67030),s=i(82818),c=i(46916),d=i(31352),u=i(74673),m=i(22794),_=i.n(m);let p=(0,l.memo)(e=>{let{className:t,title:i,leftIcon:n,rightIcon:u,onLeftButtonClick:m,onRightButtonClick:p}=e,h=(0,l.useCallback)(()=>{m&&m()},[m]),v=(0,l.useCallback)(()=>{p&&p()},[p]),g=(0,l.useCallback)((e,t)=>{let i={size:"md",className:_().nav_button,role:"nav-button",onClick:t||(()=>{})};return"back"===e?(0,o.jsx)(s.v,{"data-testid":"icon-back-mobile",...i}):"close"===e?(0,o.jsx)(c.b,{...i}):"share"===e?(0,o.jsx)(d.o,{...i}):null},[]);return(0,o.jsxs)("div",{className:a()(_().navigation_bar,t),"data-testid":"mobile-header-navigation-bar",children:[g(n,h),(0,o.jsx)(r.x,{as:"div",size:"h3",weight:"bold",className:_().title,children:i}),g(u,v)]})},(e,t)=>(0,u.Xy)(e,t));t.Z=p},99096:function(e,t,i){"use strict";var o=i(11527),n=i(82187),a=i.n(n),l=i(71001),r=i.n(l),s=i(50959),c=i(15563),d=i(20487),u=i.n(d);t.Z=e=>{let{wrapperClassName:t,className:i,src:n,alt:l,width:d,height:m,fill:_,layout:p,objectFit:h,objectPosition:v,placeholder:g,blurDataURL:x,unoptimized:b,onError:f}=e,[y,N]=(0,s.useState)(n);return(0,s.useEffect)(()=>{N(n)},[n]),(0,o.jsx)("div",{className:a()(u().room_image,{["".concat(t)]:!!t}),children:(0,o.jsx)(r(),{className:i,"data-testid":"room-image",src:y||"/",alt:l,width:d,height:m,fill:_,layout:p,objectFit:h,objectPosition:v,unoptimized:b||!0,placeholder:g||"blur",blurDataURL:x||c.y.HOTEL_IMAGE_ERROR,onError:e=>{e&&f&&f(e),N(c.y.HOTEL_IMAGE_ERROR)}})})}},97948:function(e,t,i){"use strict";i.d(t,{J8:function(){return l},OY:function(){return r},S0:function(){return _},Y3:function(){return d},fN:function(){return c},m1:function(){return s},mh:function(){return m},qe:function(){return u}});var o=i(37910),n=i(15563),a=i(94975);let l=e=>{let{mainItemObj:t,comparatorItemObj:i,isExcludingDateField:o}=e,n=t||{},l=i||{};return n.cartId===l.cartId&&n.category===l.category&&n.id===l.id&&n.roomIdx===l.roomIdx&&n.type===l.type&&(!!o||(0,a.it)(n.date,l.date))},r=e=>{let t=(e||"").toUpperCase();return"MEAL"===t?n.y.ADDON_MEAL_IMAGE_PLACEHOLDER:"ACTIVITY"===t?n.y.ADDON_ACTIVITIES_IMAGE_PLACEHOLDER:"ROOM"===t?n.y.ADDON_ROOM_COMPLIMENT_IMAGE_PLACEHOLDER:"TRANSPORT"===t?n.y.ADDON_TRANSPORATION_IMAGE_PLACEHOLDER:n.y.HOTEL_IMAGE_ERROR},s=e=>{let{i18n:t,isNHAPlaceTypeEntirePlace:i,unitType:o,addOnType:n}=e,a=(o||"short").toLowerCase(),l=(n||"").toLowerCase(),r={accommodationUnit:(t(i?"common.unit":"common.room")||"").toLowerCase()};return"room"===l?t("multiOrder.popupAddOnsFormLanding.unit.room.".concat(a),r):"item"===l?t("multiOrder.popupAddOnsFormLanding.unit.item.".concat(a),r):""},c=e=>{let{i18n:t,isNHAPlaceTypeEntirePlace:i,minAmount:o,maxAmount:n,addOnType:a}=e,l=null!=o?o:0,r=s({i18n:t,isNHAPlaceTypeEntirePlace:i,unitType:"long",addOnType:(a||"").toLowerCase()}),c="".concat(l," ").concat((t("common.item".concat(l>1?"s":""))||"").toLowerCase()),d="".concat(null!=n?n:0," ").concat((t("common.item".concat(l>1?"s":""))||"").toLowerCase());return l>1&&n?t("multiOrder.popupAddOnsFormLanding.minMaxText",{formattedItemMinAmount:c,formattedItemMaxAmount:d,unitText:r}):o>1?t("multiOrder.popupAddOnsFormLanding.minText",{formattedItemAmount:c,unitText:r}):t("multiOrder.popupAddOnsFormLanding.maxText",{formattedItemAmount:d,unitText:r})},d=e=>{let{availableRoomIdentifier:t,rateCode:i,roomId:o}=e;return(t||[]).includes("".concat(i,"|").concat(o))},u=e=>{var t;let{prebookHotelData:i,addOnsFormState:o}=e,n=[];return((null==i?void 0:null===(t=i.detail)||void 0===t?void 0:t.rooms)||[]).forEach(e=>{let t={roomName:(null==e?void 0:e.roomName)||"",addOnInformationText:""},a=[];((null==i?void 0:i.addOnCategoryGroups)||[]).forEach(t=>{((null==t?void 0:t.addOns)||[]).forEach(i=>{let n=(o||[]).reduce((o,n)=>{if((null==n?void 0:n.cartId)===(null==e?void 0:e.cartId)&&(null==n?void 0:n.category)===(null==t?void 0:t.category)&&(null==n?void 0:n.id)===(null==i?void 0:i.id)){var a;return null!==(a=o+(null==n?void 0:n.qty))&&void 0!==a?a:0}return o},0);n&&a.push("".concat(n," ").concat((null==i?void 0:i.name)||""))})}),t.addOnInformationText=a.join(", "),t.addOnInformationText&&n.push(t)}),n},m=e=>{let{prebookData:t,addOnsFormState:i}=e,o={totalStrikethroughPrice:0,totalFinalPrice:0,totalTixPoint:0};return((null==t?void 0:t.hotels)||[]).forEach(e=>{var t;((null==e?void 0:null===(t=e.detail)||void 0===t?void 0:t.rooms)||[]).forEach(t=>{((null==e?void 0:e.addOnCategoryGroups)||[]).forEach(e=>{((null==e?void 0:e.addOns)||[]).forEach(n=>{let a=(i||[]).reduce((i,o)=>{if((null==o?void 0:o.cartId)===(null==t?void 0:t.cartId)&&(null==o?void 0:o.category)===(null==e?void 0:e.category)&&(null==o?void 0:o.id)===(null==n?void 0:n.id)){var a;return null!==(a=i+(null==o?void 0:o.qty))&&void 0!==a?a:0}return i},0);if(a){var l,r,s;let e=(null==n?void 0:n.rateInfo)||{};o.totalStrikethroughPrice+=(null!==(l=null==e?void 0:e.sellRate)&&void 0!==l?l:0)*a,o.totalFinalPrice+=(null!==(r=null==e?void 0:e.sellRate)&&void 0!==r?r:0)*a,o.totalTixPoint+=(null!==(s=null==n?void 0:n.tixPoint)&&void 0!==s?s:0)*a}})})})}),o},_=e=>{let{selectedAddOnItems:t,roomIdx:i,checkinDate:n,nightAmount:l}=e;return[...Array(l)].reduce((e,l,r)=>{let s=(0,a.E4)(n,r),c=t.reduce((e,t)=>{var o,l;return(0,a.it)(s,null!==(o=null==t?void 0:t.date)&&void 0!==o?o:n)&&("number"!=typeof i||"number"==typeof i&&(null==t?void 0:t.roomIdx)===i)?[...e,{id:null==t?void 0:t.id,amount:null!==(l=null==t?void 0:t.qty)&&void 0!==l?l:0,note:(null==t?void 0:t.note)||""}]:e},[]);return c.length>0?[...e,{date:(0,a.ju)(s,o.zT.backend),addons:c}]:e},[])}},4949:function(e,t,i){"use strict";i.d(t,{$R:function(){return z},$V:function(){return N},Ae:function(){return b},Ax:function(){return O},C2:function(){return q},Hw:function(){return L},J5:function(){return X},Re:function(){return U},Sk:function(){return w},Uv:function(){return y},XI:function(){return E},Y0:function(){return V},_6:function(){return k},_K:function(){return Q},a4:function(){return P},bC:function(){return I},bQ:function(){return Y},bw:function(){return m},cG:function(){return v},cw:function(){return x},fy:function(){return B},hz:function(){return Z},jB:function(){return C},jX:function(){return A},je:function(){return F},kQ:function(){return S},nP:function(){return M},oH:function(){return W},qc:function(){return g},s:function(){return R},sb:function(){return K},u1:function(){return D},u2:function(){return J},uv:function(){return f},xY:function(){return H},yA:function(){return G}});var o=i(37910),n=i(15563),a=i(94975),l=i(57870),r=i(35091),s=i(74673),c=i(82045),d=i(3762),u=i(33381);let m=e=>[e("bookingForm.stepper.bookingDetails"),e("bookingForm.stepper.complementaryItems"),e("bookingForm.stepper.selectPayment")],_=e=>/^[a-zA-Z ]*$/.test(e||""),p=e=>(e||"").toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),h=e=>/^-?\d+$/.test(e||""),v=e=>{let t=(0,u.o)(e||o.ZW);return[{label:t("common.mr"),value:o.pW.MR},{label:t("common.mrs"),value:o.pW.MRS},{label:t("common.ms"),value:o.pW.MS}]},g=e=>[o.z.payAtHotel,o.z.payAtHotelWithoutCC].includes((e||"").toLowerCase()),x=e=>{let t=(e||"").split(" ");return(t=t.filter(e=>!!e)).join(" ")},b=(e,t,i,o)=>{let n=Number(null!=o?o:"200");return e?i?null:"SUCCESS"===t?null:n>=500&&n<=599||"INTERNAL_SERVER_ERROR"===t?"SERVER_ERROR":"GENERAL_ERROR":"NO_INTERNET"},f=e=>{let t=(0,c.kC)((null==e?void 0:e.accountSalutationName)||""),i=[(null==e?void 0:e.accountFirstName)||"",(null==e?void 0:e.accountLastName)||""].join(" ").trim(),n=Object.values(o.pW).indexOf(t)>-1;return{profileId:(null==e?void 0:e.id)||"",title:n?t:"",fullName:i.trim()?i:"",email:((null==e?void 0:e.accountEmail)||"").trim(),phone:(null==e?void 0:e.accountPhone)||"",areaCode:(null==e?void 0:e.accountPhoneCode)||o.PR.DEFAULT_COUNTRY_CODE}},y=e=>{let{currentContactDetailData:t,profileObj:i}=e,n=(0,c.kC)((null==i?void 0:i.accountSalutationName)||""),a=[(null==i?void 0:i.accountFirstName)||"",(null==i?void 0:i.accountLastName)||""].join(" ").trim(),l=Object.values(o.pW).indexOf(n)>-1;return{profileId:(null==i?void 0:i.id)||"",title:l?n:"",fullName:a.trim()?a:"",email:(null==t?void 0:t.email)||"",phone:(null==i?void 0:i.accountPhone)||"",areaCode:(null==i?void 0:i.accountPhoneCode)||o.PR.DEFAULT_COUNTRY_CODE}},N=e=>{let{profileObj:t,isSalutationEnabled:i}=e,n=(0,c.kC)((null==t?void 0:t.accountSalutationName)||""),a=[(null==t?void 0:t.accountFirstName)||"",(null==t?void 0:t.accountLastName)||""].join(" ").trim(),l=Object.values(o.pW).indexOf(n)>-1,r=t.accountNationalityCode||o.V3;return{profileId:(null==t?void 0:t.id)||"",title:i?l?n:"":null,fullName:a.trim()?a:"",nationalityCode:r}},T=e=>{let{i18n:t,nightAmount:i}=e,n=i||o.s8.MIN_NIGHT;return"".concat(n," ").concat((0,c.kC)(t(n>1?"common.nights":"common.night")))},E=e=>{let{i18n:t,isNHAPlaceTypeEntirePlace:i,roomAmount:n}=e,a=n||o.s8.MIN_ROOM;return"".concat(a," ").concat((0,c.kC)(t(i?a>1?"common.units":"common.unit":a>1?"common.rooms":"common.room")))},I=e=>{let{i18n:t,locale:i,isNHAPlaceTypeEntirePlace:n,checkinDate:l,roomAmount:r,nightAmount:s}=e,c=l||new Date,d=s||o.s8.MIN_NIGHT,u=r||o.s8.MIN_ROOM,m=(0,a.E4)(c,d),_=(0,a.ju)(c,o.zT.appsFormatCheckin,i);return{checkinDateText:_,checkoutDateText:(0,a.ju)(m,o.zT.appsFormatCheckin,i),nightAmountText:T({i18n:t,nightAmount:d}),roomAmountText:E({i18n:t,isNHAPlaceTypeEntirePlace:n,roomAmount:u})}},C=e=>{let{i18n:t,adultOccupancyAmount:i,childOccupancyAmount:o,isSeparate:n=!0}=e,a=t("common.adult".concat(i>1?"s":"")),l=t("common.child".concat(o>1?"s":"")),r=t("common.guest".concat(i>1?"s":""));return o?n?"".concat(i," ").concat(a).concat(o>0?", ".concat(o," ").concat(l):""):"".concat(i," ").concat(a).concat(o>0?" ".concat(o," ").concat(l):""):i?"".concat(i," ").concat(r):""},j=(e,t)=>(e?t.url:t.mobileUrl)||"",k=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"highEmphasis",i=(e||"").toUpperCase();return"FREE_CANCELLATION"===i?"positive":"CANCELLATION_WITH_FEE"===i?"alert":"NO_CANCELLATION"===i?"lowEmphasis":t},P=(e,t,i)=>(null!=e?e:-1)>-1&&t&&i?"".concat(e,"|").concat(t||"","|").concat(i||""):"",D=e=>{let t={insuranceV2Idx:0,productCode:"",credentialCode:""};if(e){let i=e.split("|");t.insuranceV2Idx=Number(i[0]),t.productCode=i.length>1?i[1]:"",t.credentialCode=i.length>1?i[2]:""}return t},O=e=>{let t=[];return e.forEach((e,i)=>{let o=((null==e?void 0:e.list)||[]).find(e=>!!e.isSelected);o?t.push(P(null!=i?i:-1,(null==o?void 0:o.productCode)||"",(null==o?void 0:o.credentialCode)||"")):t.push("")}),t},F=(e,t,i)=>{let o=(null==i?void 0:i.detail)||{},r=o.rooms||[],s=o.mainImage||{},c=(0,a.jK)((null==i?void 0:i.startDate)||""),d=r.reduce((e,t)=>e+((null==t?void 0:t.numberOfRooms)||0),0);return{hotelId:o.hotelId||"",hotelName:(null==o?void 0:o.name)||"",isNHAPlaceTypeEntirePlace:(0,l.i)(t,o.placeType||""),mainImageUrl:j(e,s)||n.y.HOTEL_PLACEHOLDER_SQUARED,mainImageAlt:(null==s?void 0:s.caption)||"",checkinDate:c,roomAmount:d,nightAmount:(null==i?void 0:i.night)||0}},A=(e,t,i)=>((null==i?void 0:i.hotels)||[]).map(i=>F(e,t,i)),S=(e,t)=>{let i={totalStrikethroughPrice:0,totalFinalPrice:0,totalTixPoint:0},o=t||[];return o.length>0?o.reduce((t,i)=>{var o,n,a;if(!i)return t;let{insuranceV2Idx:l,productCode:r,credentialCode:s}=D(i),c=((null===(o=(e||[])[l])||void 0===o?void 0:o.list)||[]).find(e=>(null==e?void 0:e.productCode)===r&&(null==e?void 0:e.credentialCode)===s)||{};return{totalStrikethroughPrice:(null==t?void 0:t.totalStrikethroughPrice)+(null!==(n=null==c?void 0:c.basePrice)&&void 0!==n?n:0),totalFinalPrice:(null==t?void 0:t.totalFinalPrice)+(null!==(a=null==c?void 0:c.price)&&void 0!==a?a:0),totalTixPoint:null==t?void 0:t.totalTixPoint}},i):i},R=e=>{let{prebookData:t,additionalStrikethroughPrice:i,additionalFinalPrice:o,additionalTixPoints:n}=e,a=i,l=o,r=0,s=n;((null==t?void 0:t.hotels)||[]).forEach(e=>{var t;((null==e?void 0:null===(t=e.detail)||void 0===t?void 0:t.rooms)||[]).forEach(e=>{var t,i,o,n,c;let d=(null==e?void 0:e.rateInfo)||{},u=(null==d?void 0:d.price)||{},m=(null==d?void 0:d.priceSummary)||{};a+=null!==(i=null==u?void 0:u.totalBaseRateWithTax)&&void 0!==i?i:0,l+=null!==(o=null==u?void 0:u.totalRateWithTax)&&void 0!==o?o:0,r+=null!==(n=null==m?void 0:m.taxAndOtherFee)&&void 0!==n?n:0,s+=null!==(c=null==d?void 0:null===(t=d.tixPoint)||void 0===t?void 0:t.value)&&void 0!==c?c:0})});let c=a&&l?a-l:0,d=c&&Math.ceil(c/a*100)||0;return{strikethroughPrice:a,promoPrice:l,taxAndOtherFee:r,tixPoints:s,discountPrice:c,discountPercentage:d}},w=(e,t,i)=>{var o,n;let a=null!==(o=e?null:t)&&void 0!==o?o:0,l=null!==(n=e?null:i)&&void 0!==n?n:0,r=!!t&&t>i;return{footerStrikethroughPrice:a,footerFinalPrice:l,payAtHotelStrikethroughPrice:null!=t?t:0,payAtHotelFinalPrice:null!=i?i:0,hasToDisplayStrikethroughPriceOnFooter:!e&&r,hasToDisplayStrikethroughPriceOnPayAtHotel:r}},L=e=>{var t,i;let{prebookData:n,startDateString:l,hotelId:s,nightString:c,roomString:u,adultString:m,childStringArr:_,utmSource:p,utmClid:h,utmExternal:v,utmMedium:g}=e,x=n||{},b=null==x?void 0:null===(t=x.hotels)||void 0===t?void 0:t[0],f=(null==b?void 0:b.detail)||{};if(!(null==f?void 0:null===(i=f.country)||void 0===i?void 0:i.id))return"";let y=f.country.id.toLowerCase(),N=(null==f?void 0:f.accommodationType)||o.pG.HOTEL,T=Number(c||o.s8.MIN_NIGHT),E=(0,a.jK)(l,o.zT.backend),I=(0,a.E4)(E,T),C=(0,a.ju)(I,o.zT.backend),j=(0,r.Yw)(N),k=(0,d.rq)(j?"hotel":"nha"),P=new URLSearchParams([[o.H1.CHECKIN,l],[o.H1.CHECKOUT,C],[o.Tx.BOOKING_FORM.NIGHT,c],[o.H1.ADULT,m],[o.H1.ROOM,u],...(_||[]).map(e=>[o.H1.CHILD,e||""]),...p?[[o.H1.UTMSOURCE,p.toString()]]:[],...h?[[o.H1.UTMFCLID,h.toString()]]:[],...v?[[o.H1.UTMEXTERNAL,v.toString()]]:[],...g?[[o.H1.UTMMEDIUM,g.toString()]]:[]]).toString();return"".concat(k,"/").concat(y,"/").concat(s).concat(P?"?".concat(P):"")},M=e=>{let{i18n:t,isBookAPI:i,errorHttpStatus:o,errorCode:a,initialPopupObj:l}=e,r="hotelError",c=i?"REFETCH_BOOK":"REFRESH",d=(a||"").toUpperCase(),u=null!=o?o:200,m=u>=500&&u<=599;return(0,s.xb)(l)?"NO_INTERNET"===d?{type:d,image:(null===n.y||void 0===n.y?void 0:n.y.NO_INTERNET)||"/",title:t("dialog.noInternet.title"),body:t("dialog.noInternet.description"),tracker:{eventCategory:r,eventDescription:""},action:{primary:{actionId:c,title:t("dialog.noInternet.primaryButton")},secondary:null}}:m?{type:"SERVER_ERROR",image:(null===n.y||void 0===n.y?void 0:n.y.SERVER_ERROR)||"/",title:t("dialog.serverError.title"),body:t("dialog.serverError.description"),tracker:{eventCategory:r,eventDescription:""},action:{primary:{actionId:c,title:t("dialog.serverError.primaryButton")},secondary:null}}:d&&!m?{type:"GENERAL_ERROR",image:(null===n.y||void 0===n.y?void 0:n.y.GENERAL_ERROR)||"/",title:t("dialog.generalError.title"),body:t("dialog.generalError.description"),tracker:{eventCategory:r,eventDescription:""},action:{primary:{actionId:c,title:t("dialog.generalError.primaryButton")},secondary:null}}:null:l},H=e=>{let{isMultiOrderEnabled:t,activePageNumber:i,popupErrorType:o}=e,n=(o||"").toUpperCase(),a={screenName:2===i?"bookingForm2":"bookingForm1"};return"NO_INTERNET"===n?{...a,eventLabel:"phoneOffline"}:"SERVER_ERROR"===n?{...a,eventLabel:"serverError"}:"GENERAL_ERROR"===n?{...a,eventLabel:"generalError"}:n.includes("ROOM_UNAVAILABLE")||n.includes("SOLD_OUT")?{...a,eventLabel:"singleHotel"}:"INSURANCE_CHANGE"===n||n.includes("PRICE_CHANGE")?{...a,eventLabel:"singleHotel",orderType:t?"multiOrder":"single"}:a},G=e=>{let{locale:t,salutationIdValue:i}=e,o=(0,u.o)(t),n="";return i||(n=o("bookingForm.validation.titleRequired")),n},B=e=>{let{locale:t,isContactDetailsForm:i,fullNameValue:n}=e,a=(0,u.o)(t),l=(n||"").trim(),r=l.length||0,s=o.PR.MIN_NAME_LENGTH,c=i?o.PR.MAX_NAME_LENGTH_CONTACT_DETAIL:o.PR.MAX_NAME_LENGTH_GUEST_DETAIL;return l?r<s||r>c?{fullNameErrorText:a("bookingForm.validation.nameMinAndMaxLength",{minLength:s,maxLength:c}),fullNameErrorType:"not_sufficient_length_full_name"}:_(l)?{fullNameErrorText:"",fullNameErrorType:null}:{fullNameErrorText:a("bookingForm.validation.alphabet"),fullNameErrorType:"not_valid_full_name"}:{fullNameErrorText:a(i?"bookingForm.validation.contactFullNameRequired":"bookingForm.validation.guestFullNameRequired"),fullNameErrorType:"empty_full_name"}},z=e=>{let{locale:t,isNHAPlaceTypeEntirePlace:i,roomNumberIdx:o,currentFullName:n,guestFormData:a}=e,l=(0,u.o)(t),r=n||"",s="";return r&&(a||[]).findIndex((e,t)=>x(((null==e?void 0:e.fullName)||"").toLowerCase())===x(r.toLowerCase())&&t<o)>-1&&(s=l("bookingForm.validation.duplicatedGuestFullName",{accommodationUnit:(l(i?"common.units":"common.rooms")||"").toLowerCase()})),s},U=e=>{let{locale:t,formItemIdx:i,currentFullName:o,stayDetailsFormRoomData:n}=e,a=(0,u.o)(t),l=o||"",r="";return l&&(n||[]).findIndex((e,t)=>!(t>=i)&&((null==e?void 0:e.guestData)||[]).findIndex(e=>x(((null==e?void 0:e.fullName)||"").toLowerCase())===x(l.toLowerCase()))>-1)>-1&&(r=a("multiOrder.validation.duplicatedGuestFullName")),r},V=(e,t)=>{let i=(t||"").trim(),n=i.length||0,a=(null===o.PR||void 0===o.PR?void 0:o.PR.MIN_PHONE_LENGTH)||0,l=(null===o.PR||void 0===o.PR?void 0:o.PR.MAX_PHONE_LENGTH)||0,r="";return i?n<a||n>l?r=e("bookingForm.validation.phoneMinAndMaxLength",{minLength:a,maxLength:l}):h(i)||(r=e("bookingForm.validation.numeric")):r=e("bookingForm.validation.contactPhoneNumberRequired"),r},W=(e,t)=>{let i=(t||"").trim(),o="";return i?p(i)||(o=e("bookingForm.validation.email")):o=e("bookingForm.validation.contactEmailRequired"),o},Z=()=>{window.scrollTo({top:0,left:0,behavior:"instant"})},X=e=>{let{router:t,url:i,as:o}=e;t.push(i,o||i),Z()},K=e=>{let{router:t,url:i,as:o}=e;t.replace(i,o||i),Z()},Y=e=>{let{router:t}=e;t.back(),Z()},Q=e=>{let{orderId:t,orderHash:i,isDesktop:n}=e,a=new URLSearchParams({order_id:t,order_hash:i}).toString();return"".concat(o.Al[n?"PAYMENT_PAGE_DESKTOP":"PAYMENT_PAGE_MOBILE"],"?").concat(a)},q=e=>{let{prebookHotelData:t}=e;if(!Array.isArray(t)||!t.length)return null;let i=[];return t.forEach((e,t)=>{let{detail:o}=e||{},{rooms:n,name:a,accommodationType:l}=o||{};if(!Array.isArray(n)||!n.length)return null;let r=[];n.forEach(e=>{let{roomName:t,surchargeInformation:i}=e||{};i&&r.push({roomTypeName:t||"",surchargeInformation:i})}),i.push({hotelName:a||"",hotelObjIdx:t,surchargeInformationPerRoom:r})}),i},J=e=>Array.isArray(e)&&e.length?e.map(e=>{let{bedType:t,bedTypes:i}=e||{};return{bedTypes:i||[],bedType:t||""}}):[]},10265:function(e,t,i){"use strict";i.d(t,{Z:function(){return c}});var o=i(49532),n=i(71381),a=i(37910),l=i(94067);let r=async e=>{try{let t=await (0,l.he)("".concat(a.QP.COUNTRY_CODES),{...e,opts:{method:"GET"}});return await t.json()}catch(e){return(0,l.vU)(e)}},s=(0,n.h)({name:"hotel-country-codes-fetchers"});var c=()=>{let{isLoading:e,error:t,data:i,refetch:n}=(0,o.useQuery)(["countryCodes"],()=>r({}),{onError:e=>s.error("error fetching country codes",e)});return{isLoading:e,error:t,data:i,refetch:n}}},52025:function(e,t,i){"use strict";i.d(t,{Z:function(){return on}});var o=i(11527),n=i(82187),a=i.n(n),l=i(76906),r=i.n(l),s=i(77518),c=i.n(s),d=i(25005),u=i(50959),m=i(10155),_=i(30964),p=i(41372),h=i(78359),v=i(84723),g=i(50636),x=i(35375),b=i(93780),f=i(85181),y=i(99119),N=i(37910),T=i(15563),E=i(94975),I=i(35091),C=i(78375),j=i(74673),k=i(3762),P=i(93627),D=i(33941),O=i(55405),F=i(47369),A=i(33381),S=i(32311),R=i(54929),w=i(97958),L=i(42128),M=i(67030),H=i(43238),G=i(59536);let B={DISCOUNT_AND_FREE_PROTECTION:"bookingForm.benefitBanner.discountAndFreeProtection",DISCOUNT_ONLY:"bookingForm.benefitBanner.discountOnly",INSURANCE_ONLY:"bookingForm.benefitBanner.insuranceOnly"};var z=i(68385),U=i.n(z);let V=(0,u.memo)(e=>{let{className:t,currencyData:i,backgroundImageSrc:n,iconSrc:l,discountPrice:r,freeProtectionLongName:s}=e,c=(0,A.QT)(),{locale:d}=(0,L.On)(),m=(0,G.$)(d,i),p=(0,u.useMemo)(()=>r>0&&s?B.DISCOUNT_AND_FREE_PROTECTION:r>0?B.DISCOUNT_ONLY:B.INSURANCE_ONLY,[r,s]);return r||s?(0,o.jsx)("div",{style:{backgroundImage:"url(".concat(n||"/",")")},"data-testid":"benefit-banner",children:(0,o.jsxs)(_.W,{className:a()(U().benefit_banner_wrapper,t),children:[(0,o.jsx)("div",{className:U().icon_wrapper,children:(0,o.jsx)(b.E,{src:l||"/",alt:c("bookingForm.benefitBanner.imageAlt"),"data-testid":"benefit-banner-icon",fill:!0,style:{objectFit:"cover",objectPosition:"center"}})}),(0,o.jsx)(M.x,{as:"div",size:"b2",className:U().description_wrapper,children:(0,o.jsx)("span",{"data-testid":"benefit-banner-description",dangerouslySetInnerHTML:{__html:(0,H.Z)(c(p,{price:m(r).toString({rounding:!1}),insurance:s}))}})})]})}):null},(e,t)=>(0,j.Xy)(e,t));var W=i(60013),Z=i(24633),X=i(43484),K=i(4949),Y=i(8448),Q=i.n(Y),q=e=>{let{isPayAtHotel:t,data:i,currencyData:n,strikethroughPrice:l,finalPrice:r,onFinalPriceClick:s}=e,c=(0,A.QT)(),{locale:d}=(0,L.On)(),u=(0,G.$)(d,n),{footerStrikethroughPrice:m,footerFinalPrice:_,payAtHotelStrikethroughPrice:h,payAtHotelFinalPrice:v,hasToDisplayStrikethroughPriceOnFooter:g,hasToDisplayStrikethroughPriceOnPayAtHotel:x}=(0,K.Sk)(t,l,r);return(0,o.jsxs)(W.Zb,{className:Q().booking_detail_card,"data-testid":"booking-summary-card-container",children:[(i||[]).map((e,t)=>{let{hotelName:i,isNHAPlaceTypeEntirePlace:n,mainImageUrl:a,mainImageAlt:l,checkinDate:r,nightAmount:s,roomAmount:u}=e||{},{checkinDateText:m,checkoutDateText:_,nightAmountText:h,roomAmountText:v}=(0,K.bC)({i18n:c,locale:d,isNHAPlaceTypeEntirePlace:n,checkinDate:r,nightAmount:s,roomAmount:u});return(0,o.jsxs)("div",{"data-testid":"booking-summary-item-".concat(t),children:[t>0&&(0,o.jsx)(p.i,{variant:"bold",className:Q().section_divider,"data-testid":"booking-summary-item-divider"}),(0,o.jsxs)("div",{className:Q().header,children:[(0,o.jsx)("div",{className:Q().main_image_wrapper,children:(0,o.jsx)(X.Z,{src:a||T.y.HOTEL_PLACEHOLDER_SQUARED,alt:l||"",className:Q().main_image,errorSrc:T.y.HOTEL_IMAGE_ERROR,loadingSrc:T.y.HOTEL_IMAGE_LOADING,fill:!0,style:{objectFit:"cover",objectPosition:"center"},"data-testid":"item-image"})}),(0,o.jsx)(M.x,{size:"b2",weight:"bold",as:"p",className:Q().hotel_name,"data-testid":"item-name",children:i})]}),(0,o.jsx)(p.i,{className:Q().header_divider}),(0,o.jsx)(M.x,{size:"b3",as:"p","data-testid":"item-date",children:"".concat(m," - ").concat(_)}),(0,o.jsxs)(M.x,{size:"b3",as:"p",variant:"lowEmphasis",className:Q().nights,"data-testid":"item-room-night",children:[h," • ",v]})]},"booking-summary-item-".concat(t))}),(0,o.jsx)(p.i,{variant:"bold",className:Q().section_divider}),t&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:Q().pay_at_hotel_container,"data-testid":"pay-at-hotel-container",children:[(0,o.jsx)(M.x,{size:"sm",children:c("bookingForm.priceFooter.priceDetail.payUponCheckIn")}),(0,o.jsxs)("div",{className:Q().pay_at_hotel_price_detail,children:[x&&(0,o.jsx)(M.x,{size:"sm",variant:"lowEmphasis",as:"p",className:Q().crossed_price,"data-testid":"pay-at-hotel-strikethrough-price",children:u(h).toString({rounding:!1})}),(0,o.jsx)(M.x,{size:"sm",className:Q().pay_at_hotel_price,"data-testid":"pay-at-hotel-total-price",children:u(v).toString({rounding:!1})})]})]}),(0,o.jsx)(p.i,{variant:"dashed",className:Q().pay_at_hotel_divider})]}),(0,o.jsxs)("div",{className:Q().total_price_container,"data-testid":"total-price-footer-container",children:[(0,o.jsx)(M.x,{size:"b3",variant:t?"highEmphasis":"lowEmphasis",weight:"bold","data-testid":"booking-summary-total-price-title",children:t?c("bookingForm.priceFooter.priceDetail.payNow"):"".concat(c("bookingForm.priceFooter.total")," (").concat(c("priceDisplay.taxDisplay.afterTaxes"),")")}),(0,o.jsxs)("div",{children:[g&&(0,o.jsx)(M.x,{size:"sm",variant:"lowEmphasis",as:"p",className:a()(Q().crossed_price,Q().pay_now_crossed_price),"data-testid":"strike-through-price-text",children:u(m).toString({rounding:!1})}),(0,o.jsxs)("div",{className:Q().total_price,"data-testid":"booking-summary-total-price",onClick:()=>{s&&s()},children:[(0,o.jsx)(M.x,{size:"b2",weight:"bold",variant:"alert",className:Q().price,"data-testid":"total-price-text",children:u(_).toString({rounding:!1})}),(0,o.jsx)(Z.C,{})]})]})]})]})},J=i(11574),$=i(72257),ee=i(84549),et=i(97636),ei=i(31075),eo=i(14797),en=i(15615),ea=i(23245),el=i(61318),er=i(43576),es=i(85165),ec=i.n(es);let ed=(0,u.memo)(e=>{let{className:t,profileData:i,highlightedString:n,onListItemClick:l}=e,r=n||"",s=n?(i||[]).filter(e=>[(null==e?void 0:e.accountFirstName)||"",(null==e?void 0:e.accountLastName)||""].join(" ").trim().toLowerCase().includes(r.toLowerCase().trim())):i,c=(e,t)=>{null==e||e.stopPropagation(),l&&l(t)};return(0,o.jsx)("div",{className:a()(ec().smart_contact,t),"data-testid":"smart-profile-list",children:s.map((e,t)=>{let i=t===s.length-1,n=[(null==e?void 0:e.accountFirstName)||"",(null==e?void 0:e.accountLastName)||""].join(" ").trim();if(n)return(0,o.jsx)(er.a,{"data-testid":"smart-profile-list-item",withDivider:!i,title:n,highlightedString:r,isRegularTitle:!0,className:ec().contact_item,onClick:t=>{c(t,e)}},"smart-profile-list-item-".concat(t))})})},(e,t)=>(0,j.Xy)(e,t));var eu=i(80532),em=i.n(eu);let e_={fullName:"",title:N.PR.DEFAULT_SALUTATION_ID,areaCode:N.PR.DEFAULT_COUNTRY_CODE,phone:"",email:"",profileId:""},ep={title:"",fullName:"",phone:"",email:""},eh=r()(()=>i.e(7382).then(i.bind(i,77382)),{loadableGenerated:{webpack:()=>[77382]},ssr:!1});var ev=e=>{let{className:t,isDesktop:i,isLoggedIn:n,isGTMClickInputIgnored:l,salutationOptions:r,countryCodesData:s,profileData:c,data:d,errorData:m,setData:_,setErrorData:p}=e,h=(0,A.QT)(),{locale:v}=(0,L.On)(),[g,x]=(0,u.useState)(!1),[b,f]=(0,u.useState)(l),y=g&&((null==d?void 0:d.fullName)||"").length>=N.PR.MIN_NAME_LENGTH,T=!!(null==m?void 0:m.title),E=!!(null==m?void 0:m.fullName),I=!!(null==m?void 0:m.phone),C=!!(null==m?void 0:m.email),k=()=>{b||S.Z.pushObject(R.Z.INPUT_DETAIL()),f(!0)};return(0,o.jsxs)("div",{className:a()(em().form_container,t),"data-testid":"contact-details-form",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)(ea.E,{name:"title",onChange:(e,t)=>{k(),_(t=>{let i=(0,j.Xh)(t||{});return i.title=e,i})},value:null==d?void 0:d.title,children:(r||[]).map((e,t)=>{let{label:i,value:n}=e;return(0,o.jsx)(en.Y,{checked:n===(null==d?void 0:d.title),value:n,marginVariant:"none",wrapperProps:{className:em().radio},children:i},"contact-form-radio-".concat(t))})}),!!T&&(0,o.jsx)(M.x,{as:"p",variant:"alert",size:"b3",children:null==m?void 0:m.title})]}),(0,o.jsxs)("div",{style:{position:"relative"},children:[(0,o.jsx)(el.o,{label:h("bookingForm.contactForm.label.fullName"),name:"fullName",value:(null==d?void 0:d.fullName)||"",autoComplete:"off",errorText:E?null==m?void 0:m.fullName:"",onChange:e=>{var t;let i=(null==e?void 0:null===(t=e.target)||void 0===t?void 0:t.value)||"";_(e=>{let t=(0,j.Xh)(e||{});return t.fullName=i,t})},onFocus:()=>{x(!0),k()},onBlur:()=>{let e=(0,K.cw)((null==d?void 0:d.fullName)||""),t=(0,K.fy)({locale:v,isContactDetailsForm:!0,fullNameValue:e});_(t=>{let i=(0,j.Xh)(t||{});return i.fullName=e,i}),p(e=>{let i=(0,j.Xh)(e||{});return i.fullName=t.fullNameErrorText,i}),setTimeout(()=>{x(!1)},150)}}),y&&(0,o.jsx)(ed,{className:em().smart_contact_popover,profileData:c||[],highlightedString:(null==d?void 0:d.fullName)||"",onListItemClick:e=>{_(t=>(0,K.Uv)({currentContactDetailData:t,profileObj:e})),p(ep)}})]}),(0,o.jsx)(eh,{isDesktop:i,errorText:I?null==m?void 0:m.phone:"",countryCodesData:s||[],countryCode:null==d?void 0:d.areaCode,number:null==d?void 0:d.phone,onClick:k,onCountryCodeChange:e=>{let t=e||N.PR.DEFAULT_COUNTRY_CODE;_(e=>{let i=(0,j.Xh)(e||{});return i.areaCode=t,i})},onNumberChange:e=>{let t=e||"";_(e=>{let i=(0,j.Xh)(e||{});return i.phone=t,i})},onNumberBlur:()=>{let e=((null==d?void 0:d.phone)||"").trim(),t=(0,K.Y0)(h,e);_(t=>{let i=(0,j.Xh)(t||{});return i.phone=e,i}),p(e=>{let i=(0,j.Xh)(e||{});return i.phone=t,i})}}),(0,o.jsx)(el.o,{className:em().email_text_input,label:h("bookingForm.contactForm.label.email"),name:"email",value:(null==d?void 0:d.email)||"",disabled:n,errorText:C?null==m?void 0:m.email:"",onChange:e=>{var t;let i=(null==e?void 0:null===(t=e.target)||void 0===t?void 0:t.value)||"";_(e=>{let t=(0,j.Xh)(e||{});return t.email=i,t})},onBlur:()=>{let e=((null==d?void 0:d.email)||"").trim(),t=(0,K.oH)(h,e);_(t=>{let i=(0,j.Xh)(t||{});return i.email=e,i}),p(e=>{let i=(0,j.Xh)(e||{});return i.email=t,i})},onFocus:()=>{k()}})]})},eg=i(48663),ex=i(67077),eb=i(73014),ef=i.n(eb),ey=e=>{let{isDesktop:t,isOpen:i,isLoggedIn:n,salutationOptions:a,countryCodesData:l,profileData:r,data:s,errorData:c,onSave:d,onClose:m}=e,_=(0,A.QT)(),{locale:p}=(0,L.On)(),[h,v]=(0,u.useState)(s),[g,x]=(0,u.useState)(ep),b=()=>{let e=(0,K.yA)({locale:p,salutationIdValue:null==h?void 0:h.title}),{fullNameErrorText:t,fullNameErrorType:i}=(0,K.fy)({locale:p,isContactDetailsForm:!0,fullNameValue:null==h?void 0:h.fullName}),o=(0,K.Y0)(_,null==h?void 0:h.phone),n=(0,K.oH)(_,null==h?void 0:h.email),a=!!e||!!t||!!o||!!n;return x({title:e,fullName:t,phone:o,email:n}),!a},f=()=>{m&&m()};return(0,u.useEffect)(()=>{i&&!(0,j.Xy)(s,h)&&v(s)},[i,(0,C.lh)(s)]),(0,u.useEffect)(()=>{(0,j.Xy)(c,g)||x(c)},[i,(0,C.lh)(c)]),(0,o.jsxs)(eg.R,{isOpen:i,onClose:f,title:_("bookingForm.contactForm.title"),children:[(0,o.jsx)(ev,{className:ef().form,isDesktop:t,isLoggedIn:n,isGTMClickInputIgnored:!0,salutationOptions:a||[],countryCodesData:l||[],profileData:r||[],data:h,errorData:g,setData:v,setErrorData:x}),(0,o.jsx)(ex.z,{className:ef().button_save,fullWidth:!0,size:"large",onClick:()=>{b()&&(d&&d(h),f())},children:_("common.save")})]})},eN=i(5290),eT=i.n(eN),eE=e=>{let{className:t,isDesktop:i,isLoggedIn:n,countryCodesData:l,profileData:r,data:s,setData:c,formHandlerEmitterRef:d}=e,m=(0,A.QT)(),{locale:_}=(0,L.On)(),p=l||[],h=r||[],[v,g]=(0,u.useState)(s),[x,b]=(0,u.useState)(ep),[f,y,N]=(0,F.Z)(!1),T=(0,K.cG)(_),E=(T.find(e=>(null==e?void 0:e.value)===(null==s?void 0:s.title))||{}).label||"",I=!!(null==s?void 0:s.fullName),k=!!(null==x?void 0:x.title),P=!!(null==x?void 0:x.fullName),D=!!(null==x?void 0:x.phone),O=!!(null==x?void 0:x.email),w=k||P||D||O,H=n&&!i;return((null==d?void 0:d.current)&&(d.current.onValidateAll=()=>{let e=(0,K.yA)({locale:_,salutationIdValue:null==s?void 0:s.title}),{fullNameErrorText:t}=(0,K.fy)({locale:_,isContactDetailsForm:!0,fullNameValue:null==s?void 0:s.fullName}),i=(0,K.Y0)(m,null==s?void 0:s.phone),o=(0,K.oH)(m,null==s?void 0:s.email),n=!!e||!!t||!!i||!!o;return b({title:e,fullName:t,phone:i,email:o}),!n}),(0,u.useEffect)(()=>{(0,j.Xy)(s,v)||g(s)},[(0,C.lh)(s)]),(0,u.useEffect)(()=>{H||(0,j.Xy)(s,v)||c(v)},[(0,C.lh)(v)]),H)?(0,o.jsxs)("div",{className:a()(t),"data-testid":"contact-details-group-field",children:[(0,o.jsx)(M.x,{className:eT().contact_detail_title_mobile,size:"h3",as:"h3",children:m("bookingForm.contactForm.title")}),(0,o.jsx)(J.N,{errorText:w?m("bookingForm.validation.notCompleteForm"):void 0,children:(0,o.jsxs)($.b,{onClick:()=>{S.Z.pushObject(R.Z.EDIT_CONTACT_DETAILS()),y()},children:[(0,o.jsxs)(ee.U,{children:[(0,o.jsx)(et.A,{color:P?"alert":"highEmphasis",children:I?"".concat(E," ").concat(null==s?void 0:s.fullName):"-"}),(0,o.jsx)(ei.h,{color:D?"alert":"highEmphasis",children:"".concat(null==s?void 0:s.areaCode).concat(null==s?void 0:s.phone)}),(0,o.jsx)(ei.h,{color:O?"alert":"highEmphasis",children:(null==s?void 0:s.email)||"-"})]}),(0,o.jsx)(eo.W,{color:w?"alert":"high-emphasis"})]})}),(0,o.jsx)(ey,{isDesktop:i,isOpen:f,isLoggedIn:n,salutationOptions:T,countryCodesData:p,profileData:h,data:v,errorData:x,onSave:e=>{S.Z.pushObject(R.Z.SAVE_CONTACT_DETAILS()),c(e),b(ep),N()},onClose:N})]}):(0,o.jsxs)("div",{className:a()(t),"data-testid":"contact-detail-container",children:[(0,o.jsx)(M.x,{size:"h3",as:"h3",children:m("bookingForm.contactForm.title")}),i&&(0,o.jsx)(M.x,{className:eT().contact_detail_description_desktop,size:"b2",as:"p",variant:"lowEmphasis",children:m("bookingForm.contactForm.desc")}),(0,o.jsx)(W.Zb,{className:eT().contact_detail_card,children:(0,o.jsx)(ev,{isDesktop:i,isLoggedIn:n,salutationOptions:T,countryCodesData:p,profileData:h,data:v,errorData:x,setData:g,setErrorData:b})})]})},eI=i(14283),eC=i(99218),ej=i(62526),ek=i(2271),eP=i.n(ek);let eD=(0,u.memo)(e=>{let{className:t,data:i,activeIndex:n}=e,l=i||[];return(0,o.jsx)("div",{className:a()(eP().stepper_container,t),children:l.map((e,t)=>{let i=t<n,r=t===n,s=t===l.length-1;return(0,o.jsxs)("div",{className:eP().stepper_item,"data-testid":"stepper-item-".concat(t),children:[(0,o.jsx)("div",{className:a()(eP().bullet,{[eP().completed]:i,[eP().active]:r}),children:i?(0,o.jsx)(ej.o,{size:"md",color:"activity","data-testid":"stepper-check-icon"}):(0,o.jsx)(M.x,{as:"span",size:"sm",variant:r?"invert":"lowEmphasis",weight:"semibold","data-testid":"stepper-number",children:t+1})}),(0,o.jsx)(M.x,{className:eP().label,as:"div",size:"b3",variant:r?"highEmphasis":"lowEmphasis",weight:"regular",children:e}),!s&&(0,o.jsx)("div",{className:a()(eP().divider,{[eP().blue]:i}),"data-testid":"stepper-divider"})]},"stepper-item-".concat(t))})})},(e,t)=>(0,j.Xy)(e,t));var eO=i(79496),eF=i.n(eO);let eA=(0,u.memo)(e=>{let{isDesktop:t,isStepperShown:i,activePageNumber:n,onMobileBackButtonClick:a}=e,l=(0,A.QT)();return(0,o.jsxs)(o.Fragment,{children:[t?(0,o.jsx)(eI.L,{hideLanguageAndCurrency:!0,tiketLogo:T.y.TIKET_LOGO,promoText:l("common.promo")}):(0,o.jsx)(eC.Z,{className:eF().header_mobile,leftIcon:"back",title:l("bookingForm.header.navigationBar.title"),onLeftButtonClick:()=>{a&&a()}}),i&&(0,o.jsx)("div",{className:eF().stepper_outer_wrapper,"data-testid":"stepper-container",children:(0,o.jsx)(_.W,{className:eF().stepper_inner_wrapper,children:(0,o.jsx)(eD,{className:eF().stepper,data:(0,K.bw)(l),activeIndex:n-1})})})]})},(e,t)=>(0,j.Xy)(e,t));var eS=i(89381),eR=i(67138),ew=i.n(eR),eL=e=>{let{className:t,isDesktop:i,onClick:n}=e,l=(0,A.QT)();return(0,o.jsx)("div",{className:a()(ew().login_banner_wrapper,t),children:(0,o.jsx)(eS.X,{className:ew().login_banner,"data-testid":"login-banner",isOpen:!0,icon:i?T.y.REFERRAL_POINT_ICON:T.y.DATA_PROFILE_ICON,content:(0,o.jsx)("span",{dangerouslySetInnerHTML:{__html:l(i?"bookingForm.loginBanner.desktop.title":"bookingForm.loginBanner.mobile.title")}}),actionText:l(i?"bookingForm.loginBanner.desktop.actionText":"bookingForm.loginBanner.mobile.actionText"),onClickAction:()=>{S.Z.pushObject(R.Z.LOG_IN()),n&&n()}})})},eM=i(97948),eH=i(39044),eG=e=>{var t,i;let{isDesktop:n,isOpen:a,popupData:l,popupHandlerMappingData:r,additionalGTMProperties:s,...c}=e,d="NONE",m=(null==l?void 0:l.tracker)||{},_=(null==l?void 0:null===(t=l.action)||void 0===t?void 0:t.primary)||{},p=(null==l?void 0:null===(i=l.action)||void 0===i?void 0:i.secondary)||{},v=r||{},g=a&&!(0,j.xb)(l),x=(null==l?void 0:l.image)||"",f=(null==l?void 0:l.title)||"",y=(null==l?void 0:l.body)||"",N=(null==_?void 0:_.title)||"",T=(null==p?void 0:p.title)||"",E=(null==_?void 0:_.actionId)||d,I=(null==p?void 0:p.actionId)||d,k=(0,u.useMemo)(()=>({...(0,j.xb)(s)?{}:s,eventCategory:(null==m?void 0:m.eventCategory)||"",eventDescription:(null==m?void 0:m.eventDescription)||""}),[(0,C.lh)(s),(0,C.lh)(m)]),P=(0,u.useMemo)(()=>x?(0,o.jsx)(b.E,{lightroomLoaderDisabled:!0,src:x,alt:f,style:{objectFit:"contain"},width:n?eH.X4.DESKTOP.WIDTH:eH.X4.MOBILE.WIDTH,height:n?eH.X4.DESKTOP.HEIGHT:eH.X4.MOBILE.HEIGHT}):null,[n,x,f]);(0,u.useEffect)(()=>{g&&S.Z.pushObject({...k,eventAction:"impression",event:S.t.IMPRESSION})},[g]);let D=(0,u.useCallback)(()=>{S.Z.pushObject({...k,eventAction:"REFETCH_BOOK"===E.toUpperCase()?"REFRESH":E,event:S.t.CLICK}),(null==r?void 0:r[E])&&r[E]()},[(0,C.lh)(k),(0,C.lh)(E),(0,C.lh)(v)]),O=(0,u.useCallback)(()=>{S.Z.pushObject({...k,eventAction:"REFETCH_BOOK"===I.toUpperCase()?"REFRESH":I,event:S.t.CLICK}),(null==r?void 0:r[I])&&r[I]()},[(0,C.lh)(k),(0,C.lh)(I),(0,C.lh)(v)]);return(0,o.jsx)(h.V,{isOpen:g,image:P,title:f,description:(0,o.jsx)("span",{dangerouslySetInnerHTML:{__html:(0,H.Z)(y||"")}}),primaryButtonText:N,secondaryButtonText:T,onPrimaryButtonClick:D,onSecondaryButtonClick:O,...c})},eB=i(19382),ez=i(54347),eU=i(69794),eV=i(26136),eW=i.n(eV);let eZ=(0,u.memo)(e=>{let{className:t,isDesktop:i,isPayAtHotel:n,isShowPhoneVerificationBanner:l,submitButtonText:r,bannerData:s,currencyData:c,localCurrencyData:d,strikethroughPrice:m,finalPrice:_,localCurrencyPrice:p,tiketPoints:h,onFinalPriceClick:v,onButtonClick:x}=e,f=(0,A.QT)(),{withForwardParams:y}=(0,g.useForwardParams)(),{locale:E}=(0,L.On)(),I=(0,G.$)(E,c),j=(0,G.$)(E,d),k=(0,u.useMemo)(()=>{let e=[];return s&&e.push((0,o.jsx)(eB.L,{color:N.Gt[(null==s?void 0:s.enum)||"GRADIENT_VIOLA"],icon:(0,o.jsx)("div",{className:eW().icon_wrapper,children:(0,o.jsx)(b.E,{src:(null==s?void 0:s.iconUrl)||T.y.CAMPAIGN_ICON_INVERT,alt:null==s?void 0:s.subtitle,fill:!0,style:{objectFit:"contain",objectPosition:"center"}})}),href:y((null==s?void 0:s.url)||"/"),children:(0,o.jsx)(M.x,{variant:"invert",size:"b3",children:(0,o.jsx)("span",{className:eW().gradient_banner_text,style:{color:null==s?void 0:s.textColor},children:null==s?void 0:s.subtitle})})},"gradient-banner-api-data")),l&&e.push((0,o.jsx)(eB.L,{color:"purple",icon:(0,o.jsx)("div",{className:eW().icon_wrapper,children:(0,o.jsx)(b.E,{src:T.y.PHONE_VERIFICATION_ICON,alt:"phone-verification-icon",fill:!0,style:{objectFit:"contain",objectPosition:"center"}})}),children:(0,o.jsx)(M.x,{variant:"invert",size:"b3","data-testid":"phone-verification-banner-text",children:(0,o.jsx)("span",{className:eW().gradient_banner_text,dangerouslySetInnerHTML:{__html:(0,H.Z)(f("bookingForm.priceFooter.phoneVerificationBanner",{tiketPoints:(0,eU.t0)(h)}))}})})},"gradient-banner-phone-verification")),e},[l,(0,C.lh)(s)]),{footerStrikethroughPrice:P,footerFinalPrice:D,payAtHotelStrikethroughPrice:O,payAtHotelFinalPrice:F,hasToDisplayStrikethroughPriceOnFooter:S,hasToDisplayStrikethroughPriceOnPayAtHotel:R}=(0,K.Sk)(n,m,_);return(0,o.jsxs)("div",{className:a()(eW().price_footer_container,t),"data-testid":"price-footer-container",children:[(0,o.jsx)(ez.Z,{borderBottomRadius:0,className:eW().gradient_banner_container,children:k}),(0,o.jsxs)("div",{className:eW().price_footer_inner_container,children:[n&&(0,o.jsxs)("div",{className:eW().special_content,"data-testid":"pay-at-hotel-container",children:[(0,o.jsxs)("div",{className:eW().special_content_item,children:[(0,o.jsx)("div",{className:eW().label_wrapper,children:(0,o.jsx)(M.x,{className:eW().label_text,as:"h4",size:"b3",variant:"highEmphasis",weight:"regular",children:f("common.payAtHotel")})}),(0,o.jsxs)("div",{className:a()(eW().value_wrapper,eW().pay_at_hotel),children:[R&&(0,o.jsx)(M.x,{className:eW().strikethrough_price_text,as:"span",size:"b3",variant:"lowEmphasis",weight:"semibold",children:I(O).toString({rounding:!1})}),(0,o.jsx)(M.x,{className:eW().final_price_text,as:"span",size:"b3",variant:"highEmphasis",weight:"semibold",children:I(F).toString({rounding:!1})})]})]}),!!p&&p>0&&(0,o.jsxs)("div",{className:eW().special_content_item,"data-testid":"local-currency-price-container",children:[(0,o.jsx)("div",{className:eW().label_wrapper,children:(0,o.jsx)(M.x,{className:eW().label_text,as:"h4",size:"b3",variant:"highEmphasis",weight:"regular",children:f("bookingForm.priceFooter.priceDetail.approximateInLocalCurrency")})}),(0,o.jsx)("div",{className:eW().value_wrapper,children:(0,o.jsx)(M.x,{className:eW().final_price_text,as:"span",size:"b3",variant:"highEmphasis",weight:"semibold",children:j(p).toString({rounding:!1})})})]})]}),(0,o.jsxs)("div",{className:eW().content,children:[(0,o.jsxs)("div",{className:eW().info_container,children:[(0,o.jsx)(M.x,{className:eW().price_label,as:"h4",size:"b3",variant:"highEmphasis",weight:"bold",children:n?f("bookingForm.priceFooter.priceDetail.payNow"):"".concat(f("bookingForm.priceFooter.total")," (").concat(f("priceDisplay.taxDisplay.afterTaxes"),")")}),S&&(0,o.jsx)(M.x,{className:eW().strikethrough_price_text,as:"p",size:"b3",variant:"lowEmphasis",weight:"regular",children:I(P).toString({rounding:!1})}),(0,o.jsxs)("div",{className:eW().final_price_container,onClick:()=>{v&&v()},"data-testid":"price-footer-final-price-container",children:[(0,o.jsx)(M.x,{className:eW().final_price_text,as:"p",size:"b1",variant:"alert",weight:"bold",children:I(D).toString({rounding:!1})}),(0,o.jsx)(Z.C,{size:"md",color:"high-emphasis"})]})]}),(0,o.jsxs)("div",{className:eW().action_container,"data-testid":"button-action-container",children:[(0,o.jsx)(ex.z,{size:"large",onClick:()=>{x&&x()},children:r||f("bookingForm.priceFooter.continue")}),!!h&&h>0&&(0,o.jsxs)("div",{className:eW().points_container,children:[(0,o.jsx)("div",{className:eW().icon_wrapper,children:(0,o.jsx)(b.E,{src:T.y.TIKET_POINT_ICON,alt:f("common.tiketPoints.longName"),fill:!0})}),(0,o.jsx)(M.x,{as:"span",size:i?"sm":"b3",variant:"lowEmphasis",weight:i?"semibold":"regular",children:"".concat(f("bookingForm.priceFooter.getTiketPoints",{price:(0,eU.t0)(h)}))})]})]})]})]})]})},(e,t)=>(0,j.Xy)(e,t));var eX=i(48594),eK=i(57870),eY=i(23576),eQ=i(31925),eq=i(92568),eJ=i(90368),e$=i(82045);let e0=e=>{if(!e)return null;let t=e.area,i=e.city,o=e.region,n=e.country,a=(null==t?void 0:t.name)||"",l=(null==i?void 0:i.name)||"",r=(null==o?void 0:o.name)||"",s=(null==n?void 0:n.name)||"",c=e=>!!(null==e?void 0:e.length);return c(a)&&c(l)?"".concat(a,", ").concat(l):c(a)?a:c(l)?l:c(r)?r:c(s)?s:""};var e1=e=>{let{i18n:t,numberOfAdult:i,numberOfChild:o,showChild:n,isSeparate:a=!0}=e,l=(0,e$.kC)(t("common.adult".concat(i>1?"s":""))),r=(0,e$.kC)(t("common.child".concat(o>1?"s":""))),s=(0,e$.kC)(t("common.guest".concat(i>1?"s":"")));return n?a?"".concat(i," ").concat(l).concat(o>0?", ".concat(o," ").concat(r):""):"".concat(i," ").concat(l).concat(o>0?" ".concat(o," ").concat(r):""):"".concat(i," ").concat(s)};let e3=(e,t)=>{let i=null!=t?t:0;return i>1?"".concat(e("bookingForm.bookingDetails.see")," ").concat(e("bookingForm.bookingDetails.morePolicies",{count:i})):1===i?"".concat(e("bookingForm.bookingDetails.see")," ").concat(e("bookingForm.bookingDetails.onePolicy")):"".concat(e("bookingForm.bookingDetails.seeMoreDetails"))};var e2=i(20571),e9=i.n(e2),e5=e=>{var t;let{wrapperClassName:i,mainFacilities:n,maxDisplayCount:l}=e;return(0,o.jsx)("div",{className:a()(e9().facility_list,{["".concat(i)]:!!i}),children:null==n?void 0:null===(t=n.slice(0,l))||void 0===t?void 0:t.map((e,t)=>(0,o.jsxs)("div",{className:e9().row_icon_text,children:[(0,o.jsx)("div",{className:e9().row_icon_wrapper,children:(0,o.jsx)(b.E,{src:(null==e?void 0:e.icon)||"/",fill:!0,alt:"facility-icon","data-testid":"facility-item-icon-img"})}),(0,o.jsx)(M.x,{as:"p",size:"b3",children:null==e?void 0:e.name})]},"facility-".concat(t)))})},e4=i(79220),e7=i(63620),e8=i.n(e7);let e6=e=>{var t;let{isDesktop:i,bedTypeText:n,bedTypesData:l,wrapperClassName:r}=e;return Array.isArray(l)&&l.length||n?(0,o.jsxs)("div",{className:a()(e8().bedroom_type_container,r),"data-testid":"bedroom-content-container",children:[(0,o.jsx)("div",{className:e8().icon_wrapper,children:(0,o.jsx)(e4.N,{size:"md"})}),Array.isArray(l)&&l.length?(0,o.jsx)(o.Fragment,{children:l.length>=2?(0,o.jsx)("div",{className:e8().bedroom_type_list,children:l.map((e,t)=>{let{bedType:i,roomCategory:n}=e||{};return(0,o.jsx)(M.x,{className:e8().bedroom_label_text,as:"p",size:"b3",variant:"highEmphasis",weight:"regular","data-testid":"new-bedroom-type-text",children:"".concat(n||"",": ").concat(i||"")},"bed-type-".concat(t))})}):(0,o.jsx)(M.x,{className:e8().bedroom_label_text,as:"p",size:"b3",variant:"highEmphasis",weight:"regular","data-testid":"new-bedroom-type-text",children:(null===(t=l[0])||void 0===t?void 0:t.bedType)||""})}):(0,o.jsx)(M.x,{className:e8().bedroom_label_text,as:"p",size:"b3",variant:"highEmphasis",weight:"regular","data-testid":"new-bedroom-type-text",children:n||""})]}):null};var te=i(28129),tt=i.n(te),ti=e=>{var t;let{isDesktop:i,roomItemIdx:n,isNHAPlaceTypeEntirePlace:l,prebookHotelData:r}=e,s=(0,A.QT)(),{detail:c,night:d=1}=r||{},{roomName:m,bedType:_,bedTypes:p,maxOccupancy:h,maxChildOccupancy:v,numberOfRooms:g,featureAdded:x,valueAdded:b}=(null==c?void 0:null===(t=c.rooms)||void 0===t?void 0:t[n])||{},f=(0,u.useMemo)(()=>e1({i18n:s,numberOfAdult:h||0,numberOfChild:v||0,showChild:!!v}),[h,v]);return(0,o.jsxs)("div",{"data-testid":"additional-info-container",children:[(0,o.jsx)(M.x,{className:tt().title,as:"p",size:"b1",weight:"bold",variant:"highEmphasis",children:m}),(0,o.jsxs)("div",{className:tt().list,children:[(0,o.jsxs)("div",{className:a()(tt().list_item,tt().capitalized),"data-testid":"number-of-room-info-content",children:[(0,o.jsx)(eY.C,{size:"md"}),(0,o.jsxs)(M.x,{as:"p",size:"b3",variant:"highEmphasis",children:[g," ",s(l?"common.unit".concat(g>1?"s":""):"common.room".concat(g>1?"s":""))]})]}),(0,o.jsxs)("div",{className:a()(tt().list_item,tt().capitalized),"data-testid":"number-of-night-info-content",children:[(0,o.jsx)(eQ.A,{size:"md"}),(0,o.jsxs)(M.x,{as:"p",size:"b3",variant:"highEmphasis",children:[d," ",s("common.night".concat(d>1?"s":""))]})]}),(0,o.jsxs)("div",{className:tt().list_item,"data-testid":"number-of-guests-info-content",children:[(0,o.jsx)(eq.c,{size:"md"}),(0,o.jsxs)(M.x,{as:"p",size:"b3",variant:"highEmphasis",children:[(0,e$.kC)(s("common.max")),". ",f," /",(s(l?"common.unit":"common.room")||"").toLowerCase()]})]}),(0,o.jsx)(e6,{isDesktop:i,wrapperClassName:tt().list_item,bedTypeText:_||"",bedTypesData:p||[]}),!!(null==x?void 0:x.length)&&(0,o.jsx)(e5,{wrapperClassName:tt().feature_list,mainFacilities:x,maxDisplayCount:(null==x?void 0:x.length)||0}),!!(null==b?void 0:b.length)&&(0,o.jsxs)("div",{className:tt().list_item,children:[(0,o.jsx)(eJ.G,{size:"md"}),(0,o.jsx)(M.x,{as:"p",size:"b3",variant:"highEmphasis",children:b.join(", ")})]})]})]})},to=i(88601),tn=i(80268),ta=i(14711),tl=i(76859),tr=i(47905),ts=i(21476),tc=i(6325),td=i.n(tc);let tu=e=>["FREE","PAY_FULL"].includes((e||"").toUpperCase()),tm=e=>"FREE"===(e||"").toUpperCase();var t_=e=>{let{titleClassName:t,titleFontSize:i,titleFontWeight:n,policyToShowObj:l,cpV3AdditionalItemsText:r}=e,s=l||{},c=(null==s?void 0:s.policies)||[],d=!!c.length;return(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:td().title,children:(0,o.jsx)(ts.Z,{textClassName:t,fontSize:i,fontWeight:n,policyToShow:s,imageWidth:24,imageHeight:24})}),d&&(0,o.jsx)("ul",{className:td().cancellation_policies,children:c.map((e,t)=>{let i=(null==e?void 0:e.type)||"",n=tu(i),l=tm(i),r=n?20:10;return(0,o.jsxs)("li",{children:[(0,o.jsx)("div",{className:a()(td().icon_wrapper,{[td().green]:l}),children:(0,o.jsx)("div",{className:td().icon_policy,children:(0,o.jsx)(b.E,{src:(null==e?void 0:e.icon)||"/",alt:(null==e?void 0:e.title)||"",width:r,height:r})})}),(0,o.jsx)(M.x,{className:td().description_text,as:"span",size:"b3",children:(0,o.jsx)("span",{dangerouslySetInnerHTML:{__html:(0,H.Z)(null==e?void 0:e.title)}})})]},"cancellation-policy-item-".concat(t))})}),r&&(0,o.jsx)(M.x,{as:"p",size:"sm",variant:"lowEmphasis",className:td().additional_info,children:(0,o.jsx)("span",{dangerouslySetInnerHTML:{__html:(0,H.Z)(r)}})})]})},tp=i(85874),th=i.n(tp),tv=e=>{var t,i,n,a,l,r;let{roomItemIdx:s,prebookHotelData:c}=e,d=(0,A.QT)(),{locale:u}=(0,L.On)(),m=(0,E.jK)(c.startDate||"",N.zT.backend),{checkinDateText:_,checkoutDateText:h}=(0,K.bC)({i18n:d,locale:u,isNHAPlaceTypeEntirePlace:!1,checkinDate:m,nightAmount:null!==(r=null==c?void 0:c.night)&&void 0!==r?r:0,roomAmount:0}),v=(null==c?void 0:c.detail)||{},g=(null==v?void 0:v.generalInfo)||{},x=(null==v?void 0:null===(t=v.rooms)||void 0===t?void 0:t[null!=s?s:-1])||{},b=(null==g?void 0:g.checkIn)||"",f=(null==g?void 0:g.checkOut)||"",y=!!(null==b?void 0:b.length)||!!(null==f?void 0:f.length),T=(null==x?void 0:null===(i=x.cancellationPoliciesV3)||void 0===i?void 0:i.policyToShow)||{},I=(null==x?void 0:null===(n=x.cancellationPoliciesV3)||void 0===n?void 0:n.additionalItems)||"",C=(null==c?void 0:null===(l=c.detail)||void 0===l?void 0:null===(a=l.covidInformation)||void 0===a?void 0:a.text)||"",j=(null==x?void 0:x.checkInInstruction)||"",k=(null==x?void 0:x.childrenPolicy)||"",P=(null==g?void 0:g.policy)||"";return(0,o.jsxs)("div",{"data-testid":"cancellation-policy-popup",children:[(0,o.jsx)("div",{className:th().cancellation_policy,children:(0,o.jsx)(t_,{titleFontSize:"b1",titleFontWeight:"bold",policyToShowObj:T,cpV3AdditionalItemsText:I})}),!!C&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(p.i,{}),(0,o.jsxs)("div",{className:th().covid_info,children:[(0,o.jsxs)("div",{className:th().title,children:[(0,o.jsx)(to.O,{size:"md"}),(0,o.jsx)(M.x,{as:"span",size:"b1",weight:"bold",children:d("bookingForm.importantInformation.policyRegardingCovid")})]}),(0,o.jsx)(M.x,{as:"p",size:"b2",variant:"lowEmphasis",weight:"regular",className:th().subtitle,children:(0,o.jsx)("span",{dangerouslySetInnerHTML:{__html:(0,H.Z)(C)}})})]})]}),(y||!!j)&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(p.i,{}),(0,o.jsxs)("div",{className:th().check_in_procedure,children:[(0,o.jsxs)("div",{className:th().title,children:[(0,o.jsx)(tl.q,{size:"md"}),(0,o.jsx)(M.x,{as:"span",size:"b1",weight:"bold",children:d("bookingForm.importantInformation.checkInProcedure")})]}),y&&(0,o.jsxs)("div",{className:th().check_in_procedure_content,children:[(0,o.jsxs)("div",{className:th().item,children:[(0,o.jsx)(M.x,{as:"p",size:"b3",variant:"lowEmphasis",weight:"regular",children:"Check in"}),(0,o.jsx)(M.x,{as:"p",size:"b2",weight:"bold",children:_||""}),(0,o.jsx)(M.x,{as:"p",size:"b2",weight:"regular",children:b||"-"})]}),(0,o.jsxs)("div",{className:th().item,children:[(0,o.jsx)(M.x,{as:"p",size:"b3",variant:"lowEmphasis",weight:"regular",children:"Check out"}),(0,o.jsx)(M.x,{as:"p",size:"b2",weight:"bold",children:h||""}),(0,o.jsx)(M.x,{as:"p",size:"b2",weight:"regular",children:f||"-"})]})]}),j&&(0,o.jsx)(M.x,{as:"p",size:"b2",variant:"lowEmphasis",weight:"regular",className:th().subtitle,children:(0,o.jsx)("span",{dangerouslySetInnerHTML:{__html:(0,H.Z)(j)}})})]})]}),!!k&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(p.i,{}),(0,o.jsxs)("div",{className:th().children,children:[(0,o.jsxs)("div",{className:th().title,children:[(0,o.jsx)(ta.Y,{size:"md"}),(0,o.jsx)(M.x,{as:"span",size:"b1",weight:"bold",children:d("bookingForm.importantInformation.childrenAndExtraBed")})]}),(0,o.jsx)(M.x,{as:"p",size:"b2",variant:"lowEmphasis",weight:"regular",className:th().subtitle,children:(0,o.jsx)("span",{dangerouslySetInnerHTML:{__html:(0,H.Z)(k)}})})]})]}),!!P&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(p.i,{}),(0,o.jsxs)("div",{className:th().more_policy,children:[(0,o.jsxs)("div",{className:th().title,children:[(0,o.jsx)(tr.Y,{size:"md"}),(0,o.jsx)(M.x,{as:"span",size:"b1",weight:"bold",children:d("bookingForm.importantInformation.morePolicies")})]}),(0,o.jsx)(M.x,{as:"p",size:"b2",weight:"regular",className:th().subtitle,children:(0,o.jsx)("span",{dangerouslySetInnerHTML:{__html:(0,H.Z)(P)}})})]})]})]})},tg=i(236),tx=i.n(tg),tb=e=>{var t,i,n,a,l,r;let{isDesktop:s,roomItemIdx:c,prebookHotelData:d}=e,m=(0,A.QT)(),[_,p]=(0,u.useState)(!1),h=(null==d?void 0:d.detail)||{},v=(null==h?void 0:h.generalInfo)||{},g=(null==h?void 0:null===(t=h.rooms)||void 0===t?void 0:t[c])||{},b=(null==v?void 0:v.checkIn)||"",f=(null==v?void 0:v.checkOut)||"",y=!!(null==b?void 0:b.length)||!!(null==f?void 0:f.length),N=!!(null==v?void 0:v.policy),T=!!(null==g?void 0:null===(i=g.checkInInstruction)||void 0===i?void 0:i.length),E=!!(null==g?void 0:null===(n=g.childrenPolicy)||void 0===n?void 0:n.length),I=(0,u.useMemo)(()=>{let e=[];return b&&e.push("Check-in ".concat(b)),f&&e.push("Check-out ".concat(f)),e.join(", ")},[b,f]),C=(null==g?void 0:null===(a=g.cancellationPoliciesV3)||void 0===a?void 0:a.policyToShow)||{},j=(null==g?void 0:null===(l=g.cancellationPoliciesV3)||void 0===l?void 0:l.additionalItems)||"",k=null==h?void 0:null===(r=h.covidInformation)||void 0===r?void 0:r.text,P=T||y?y?I:m("bookingForm.bookingDetails.checkinInstruction"):"",D=E?m("bookingForm.bookingDetails.childrenPolicyApplies"):"",O=(0,u.useMemo)(()=>{let e=[];return k&&e.push((0,o.jsxs)("div",{className:tx().misc_policy_item_container,children:[(0,o.jsx)(to.O,{size:"md"}),(0,o.jsx)(M.x,{as:"p",size:"b3",weight:"regular",className:tx().subtitle_text,children:(0,o.jsx)("span",{dangerouslySetInnerHTML:{__html:(0,H.Z)(k)}})})]})),P&&e.push((0,o.jsxs)("div",{className:tx().misc_policy_item_container,"data-testid":"check-in-instruction-text-content",children:[(0,o.jsx)(tn.z,{size:"md"}),(0,o.jsx)(M.x,{as:"p",size:"b3",weight:"regular",className:tx().subtitle_text,children:(0,o.jsx)("span",{dangerouslySetInnerHTML:{__html:(0,H.Z)(P)}})})]})),D&&e.push((0,o.jsxs)("div",{className:tx().misc_policy_item_container,"data-testid":"children-policy-text-content",children:[(0,o.jsx)(ta.Y,{size:"md"}),(0,o.jsx)(M.x,{as:"p",size:"b3",weight:"regular",className:tx().subtitle_text,children:(0,o.jsx)("span",{dangerouslySetInnerHTML:{__html:(0,H.Z)(D)}})})]})),e},[k,P,D]),F=(O.length?O.length-1:0)+Number(N);return(0,o.jsxs)("div",{className:tx().cancellation_stay_policy_container,"data-testid":"cancellation-stay-policies-container",children:[(0,o.jsx)(M.x,{as:"p",size:"b1",weight:"bold",children:m("bookingForm.importantInformation.cancellationAndStayPolicy")}),(0,o.jsx)(t_,{titleClassName:tx().title_text,titleFontSize:"b3",titleFontWeight:"regular",policyToShowObj:C,cpV3AdditionalItemsText:j}),O.slice(0,1),(0,o.jsx)(ex.z,{onClick:()=>p(!0),variant:"tertiary",size:"small",className:tx().see_all_button,"data-testid":"see-all-cancellation-policy-button",children:e3(m,F)}),(0,o.jsx)(x.Z,{title:m("bookingForm.bookingDetails.cancellationStayPolicies"),isDesktop:s,isOpen:_,onClose:()=>p(!1),children:(0,o.jsx)(tv,{roomItemIdx:c,prebookHotelData:d})})]})},tf=i(25862),ty=i.n(tf),tN=e=>{let{facilities:t}=e,i=(0,A.QT)();return(0,o.jsxs)("div",{"data-testid":"facility-info-container",children:[(0,o.jsx)(M.x,{className:ty().title,as:"p",size:"b1",weight:"bold",children:i("bookingForm.bookingDetails.otherFacilities")}),(0,o.jsx)(e5,{mainFacilities:t,maxDisplayCount:7})]})},tT=i(94345),tE=i(99096),tI=i(94744),tC=i.n(tI),tj=e=>{let{images:t}=e,i={hasSingleImage:(null==t?void 0:t.length)===1,hasTwoImages:(null==t?void 0:t.length)===2,hasSeveralImages:(null==t?void 0:t.length)>2},n=(0,u.useMemo)(()=>(null==i?void 0:i.hasSingleImage)?1:(null==i?void 0:i.hasTwoImages)?2:2.25,[JSON.stringify(i)]);return(null==t?void 0:t.length)?(0,o.jsx)("div",{className:tC().image_gallery,children:(0,o.jsx)(tT.l,{visibleItems:{base:n},carouselClassName:tC().carousel_wrapper,sliderClassName:a()(tC().slider_wrapper,{[tC().slider_wrapper_singular]:null==i?void 0:i.hasSingleImage,[tC().slider_wrapper_pair]:null==i?void 0:i.hasTwoImages,[tC().slider_wrapper_several]:null==i?void 0:i.hasSeveralImages}),slideClassName:tC().slide_wrapper,children:null==t?void 0:t.map((e,t)=>{let{mobileUrl:i,caption:n}=e;return(0,o.jsx)(tE.Z,{src:i||"/",alt:n,fill:!0},"image-gallery-item-".concat(t))})})}):(0,o.jsx)("div",{className:tC().image_error,"data-testid":"placeholder-image",children:(0,o.jsx)(X.Z,{src:T.y.HOTEL_PLACEHOLDER_SQUARED,alt:T.y.HOTEL_PLACEHOLDER_SQUARED,fill:!0,style:{objectFit:"cover"}})})},tk=i(81798),tP=i(80103),tD=i.n(tP),tO=e=>{let{selectedPaymentOption:t}=e,i=(0,A.QT)();return t?(0,o.jsxs)("div",{className:tD().pay_at_hotel,"data-testid":"pay-at-hotel-container",children:[(0,o.jsx)(M.x,{as:"p",size:"b1",weight:"bold",children:i("bookingForm.bookingDetails.noPrepaymentNeeded")}),(0,o.jsx)(tk._,{color:"green",variant:"default",children:"".concat(t.name," ").concat((null==t?void 0:t.subName)?t.subName:"")}),(0,o.jsx)(M.x,{as:"p",size:"b2",variant:"lowEmphasis","data-testid":"pay-at-hotel-description-text",children:(0,o.jsx)("span",{dangerouslySetInnerHTML:{__html:(0,H.Z)(t.description||"")}})})]}):null},tF=i(37804),tA=i(43932),tS=i(88976),tR=i.n(tS),tw=e=>{let{isDesktop:t,prebookHotelData:i}=e,n=(0,A.QT)(),{locale:a}=(0,L.On)(),l=t?"b3":"b2",{detail:r,startDate:s="",endDate:c=""}=i||{},{accommodationType:d,name:m,starRating:_,generalInfo:p}=r||{},h=(0,u.useMemo)(()=>[...Array(_||0)].map((e,t)=>(0,o.jsx)(tF.j,{size:"xxs"},"review-star-full-".concat(t))),[_]),v=(0,u.useMemo)(()=>e0(r||null),[JSON.stringify(r)]),g=!(0,I.Yw)(d),x=!!_,b=!!(null==v?void 0:v.length),f=(0,E.ju)(s,N.zT.appsFormatCheckin,a),y=(0,E.ju)(c,N.zT.appsFormatCheckin,a),T=null==p?void 0:p.checkIn,C=null==p?void 0:p.checkOut,j=!!(null==T?void 0:T.length)||!!(null==C?void 0:C.length);return(0,o.jsxs)("div",{children:[(0,o.jsx)(M.x,{className:tR().title,as:"h3",size:"h3",variant:"highEmphasis",weight:"bold","data-testid":"reservation-info-hotel-name-text",children:m||""}),(x||b)&&(0,o.jsxs)("div",{className:tR().subtitle_container,children:[x&&(g?(0,o.jsx)(tA.u,{size:"sm",value:_}):(0,o.jsx)("div",{className:tR().hotel_star_rating_container,"data-testid":"hotel-star-rating",children:h})),x&&b&&(0,o.jsx)("div",{className:tR().subtitle_circle_separator}),b&&(0,o.jsx)(M.x,{as:"p",size:l,variant:"lowEmphasis",className:tR().subtitle,children:v})]}),(0,o.jsxs)("div",{className:tR().date_info,children:[(0,o.jsxs)("div",{className:tR().date_info_item,children:[(0,o.jsx)(M.x,{className:tR().date_info_title,as:"p",size:l,variant:"lowEmphasis",children:n("common.checkIn")}),(0,o.jsx)(M.x,{as:"p",size:"b1",variant:"highEmphasis",weight:"bold",children:f}),j&&(0,o.jsx)(M.x,{as:"p",size:"b2",variant:"highEmphasis",children:T||"-"})]}),(0,o.jsxs)("div",{className:tR().date_info_item,children:[(0,o.jsx)(M.x,{className:tR().date_info_title,as:"p",size:l,variant:"lowEmphasis",children:n("common.checkOut")}),(0,o.jsx)(M.x,{as:"p",size:"b1",variant:"highEmphasis",weight:"bold",children:y}),j&&(0,o.jsx)(M.x,{as:"p",size:"b2",variant:"highEmphasis",children:C||"-"})]})]})]})},tL=i(33959),tM=i.n(tL),tH=e=>{var t,i,n;let{isDesktop:a,productType:l,prebookData:r,hotelItemIdx:s,roomItemIdx:c}=e,d=null!=c?c:-1,m=(null===(t=(r||{}).hotels)||void 0===t?void 0:t[null!=s?s:-1])||{},_=m.detail||{},h=(null===(i=_.rooms)||void 0===i?void 0:i[d])||{},v=m.paymentOptionList||[],{paymentOption:g,mainFacilities:x}=h,b=[N.z.payAtHotel,N.z.payAtHotelWithoutCC].includes((null==g?void 0:g.toLowerCase())||""),f=(0,eK.i)(l,_.placeType||""),y=(0,u.useMemo)(()=>v.find(e=>(null==e?void 0:e.id)===g),[(0,C.lh)(v)]);return(0,o.jsxs)("div",{children:[(0,o.jsx)(tj,{images:(null==h?void 0:null===(n=h.images)||void 0===n?void 0:n.slice(0,10))||[]}),(0,o.jsx)("div",{className:tM().section_wrapper,children:(0,o.jsx)(tw,{isDesktop:a,prebookHotelData:m})}),(0,o.jsx)(p.i,{variant:"bold"}),(0,o.jsx)("div",{className:tM().section_wrapper,children:(0,o.jsx)(ti,{isDesktop:a,roomItemIdx:d,isNHAPlaceTypeEntirePlace:f,prebookHotelData:m})}),(0,o.jsx)(p.i,{variant:"bold"}),(0,o.jsx)("div",{className:tM().section_wrapper,children:(0,o.jsx)(tb,{isDesktop:a,roomItemIdx:d,prebookHotelData:m})}),b&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(p.i,{variant:"bold"}),(0,o.jsx)("div",{className:tM().section_wrapper,children:(0,o.jsx)(tO,{selectedPaymentOption:y})})]}),!!(null==x?void 0:x.length)&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(p.i,{variant:"bold"}),(0,o.jsx)("div",{className:tM().section_wrapper,children:(0,o.jsx)(tN,{facilities:x})})]})]})},tG=i(10103),tB=i(55957),tz=i(67806),tU=i(40872),tV=i(97748),tW=i(90464),tZ=i(55923),tX=i(94949),tK=i(78190),tY=i(97719),tQ=i(16886),tq=i.n(tQ);let tJ=(0,u.memo)(e=>{let{isDesktop:t,className:i,itemIdx:n,roomNumberIdx:l,isNHAPlaceTypeEntirePlace:r,salutationOptions:s,profileData:c,roomFormData:d,data:m,errorData:_,onStateChange:p,countryListData:h,isSalutationEnabled:v}=e,g=(0,A.QT)(),{locale:b}=(0,L.On)(),[f,y]=(0,u.useState)(!1),[T,E]=(0,u.useState)(!1),I=d||[],C=f&&((null==m?void 0:m.fullName)||"").length>=N.PR.MIN_NAME_LENGTH,k=!!(null==_?void 0:_.title),P=!!(null==_?void 0:_.fullName),D=(0,u.useMemo)(()=>{var e;let t=m.nationalityCode;return(null===(e=(h||[]).find(e=>(null==e?void 0:e.countriesIsoCode)===t))||void 0===e?void 0:e.countriesName)||N.dh},[m.nationalityCode,h]),O=e=>{let t=(0,K.yA)({locale:b,salutationIdValue:e}),i=(0,j.Xh)(_||{});return i.title=t,i},F=e=>{var t;let i=(0,K.cw)(e||""),o=(0,K.fy)({locale:b,isContactDetailsForm:!1,fullNameValue:i}),a=(0,K.$R)({locale:b,isNHAPlaceTypeEntirePlace:r,roomNumberIdx:l,currentFullName:i,guestFormData:(null==I?void 0:null===(t=I[n])||void 0===t?void 0:t.guestData)||[]}),s=(0,K.Re)({locale:b,formItemIdx:n,currentFullName:i,stayDetailsFormRoomData:I}),c=(0,j.Xh)(_||{});return c.fullName=o.fullNameErrorText||a||s,c.errorTypeFullName=o.fullNameErrorType||null,c},S=e=>{let t=(0,j.Xh)(m||{});t.nationalityCode=e,p(t,null)},R=()=>{E(!1)};return(0,o.jsxs)("div",{className:a()(tq().form_item,i),"data-testid":"popup-stay-details-guest-form-item",children:[(0,o.jsx)(M.x,{className:tq().form_item_header,as:"h4",size:"b2",variant:"highEmphasis",weight:"bold",children:g(r?"common.unitNumber":"common.roomNumber",{number:(l||0)+1})}),(0,o.jsxs)("div",{className:tq().form_item_content,children:[!!v&&(0,o.jsxs)("div",{className:tq().radio_input_container,"data-testid":"salutation-options-radio-input-container",children:[(0,o.jsx)(ea.E,{name:"guest-details-form-".concat(n,"-").concat(l,"-title"),value:(null==m?void 0:m.title)||"",onChange:(e,t)=>{let i=(0,j.Xh)(m||{}),o=O(e);i.title=e,p(i,o)},children:(s||[]).map((e,t)=>(0,o.jsx)(en.Y,{value:null==e?void 0:e.value,marginVariant:"none",wrapperProps:{className:tq().radio_input},children:(null==e?void 0:e.label)||"-"},"form-radio-item-".concat(t)))}),!!k&&(0,o.jsx)(M.x,{className:tq().radio_group_error_text,as:"p",variant:"alert",size:"b3",children:null==_?void 0:_.title})]}),(0,o.jsxs)("div",{className:tq().text_input_container,children:[(0,o.jsx)(el.o,{label:g("bookingForm.guestDetail.guestForm.fullName"),"data-testid":"guest-form-full-name-text-input",name:"guest-details-form-".concat(n,"-").concat(l,"-fullName"),value:(null==m?void 0:m.fullName)||"",autoComplete:"off",errorText:P?null==_?void 0:_.fullName:"",onFocus:()=>{y(!0)},onBlur:()=>{let e=(0,K.cw)((null==m?void 0:m.fullName)||""),t=(0,j.Xh)(m||{}),i=F(e);t.fullName=e,p(t,i),setTimeout(()=>{y(!1)},150)},onChange:e=>{var t;let i=(null==e?void 0:null===(t=e.target)||void 0===t?void 0:t.value)||"",o=(0,j.Xh)(m||{});o.fullName=i,p(o,null)},"aria-label":g("bookingForm.guestDetail.guestForm.fullName")}),(0,o.jsxs)("div",{className:tq().nationality_field_wrapper,children:[(0,o.jsx)(tK.e,{label:g("bookingForm.guestDetail.guestForm.nationality"),isOpen:T,onClick:()=>E(!0),value:D}),(0,o.jsx)(x.Z,{isOpen:T,title:g("bookingForm.guestDetail.guestForm.nationality"),isDesktop:t,onClose:R,modalProps:{defaultPopupHeight:"full",disableContentScrolling:!0},bottomSheetProps:{defaultPopupHeight:"full",variant:"noShadow"},children:(0,o.jsx)(tY.i,{children:(0,o.jsx)(tY.S,{searchInputPlaceholder:g("bookingForm.guestDetail.searchNationalityPlaceholder"),data:h,onSelect:e=>{S(e.countriesIsoCode||N.V3),R()}})})})]}),C&&(0,o.jsx)(ed,{className:tq().smart_contact_popover,profileData:c||[],highlightedString:(null==m?void 0:m.fullName)||"",onListItemClick:e=>{let t=(0,K.$V)({profileObj:e,isSalutationEnabled:v}),i=F((null==t?void 0:t.fullName)||"");p(t,i)}})]})]})]})},(e,t)=>(0,j.Xy)(e,t));var t$=i(48387),t0=i.n(t$);let t1=(0,u.memo)(e=>{var t,i;let{isDesktop:n,isOpen:a,initialActiveTabIdx:l,productType:r,hotelId:s,salutationOptions:c,profileData:d,prebookHotelData:m,selectedRatePlanPosition:_,formData:p,onSave:h,onClose:v,countryListData:g,isSalutationEnabled:b}=e,f=(0,A.QT)(),y=c||[],N=d||[],T=m||{},E=(null===(t=T.detail)||void 0===t?void 0:t.rooms)||[],I=p||[],[k,P]=(0,u.useState)(null!=l?l:0),[D,O]=(0,u.useState)(I),{profileList:F}=(0,tZ.Z)(),w=(0,eK.i)(r,(null==T?void 0:null===(i=T.detail)||void 0===i?void 0:i.placeType)||""),L=(0,u.useCallback)(()=>{v&&v()},[]),H=(0,u.useCallback)(()=>{let e=-1,t=(0,j.Xh)(D);(t||[]).forEach((t,i)=>{let o=(null==t?void 0:t.guestErrorData)||[],n=!1;o.forEach(e=>{e&&!n&&(n=!!e.title||!!e.fullName)}),e<0&&n&&(e=i)}),e<0?(S.Z.pushObject(R.Z.SAVE_GUEST_DETAIL(_)),D.forEach(e=>{let{guestData:t}=e;t.forEach(e=>{(0,tX.h4)({data:{profile:(0,tW.t)({guestDetail:e,profileList:F})},source:tX.By})})}),h&&h(s,D),L()):(P(e),O(t))},[s,_,(0,C.lh)(D),L]),G=(0,u.useCallback)(e=>{let{itemIdx:t,roomIdx:i,guestData:o,guestErrorData:n}=e;O(e=>{var a,l,r,s;let c=(0,j.Xh)(e);return o&&(null==c?void 0:null===(l=c[t])||void 0===l?void 0:null===(a=l.guestData)||void 0===a?void 0:a[i])&&(c[t].guestData[i]=o),n&&(null==c?void 0:null===(s=c[t])||void 0===s?void 0:null===(r=s.guestErrorData)||void 0===r?void 0:r[i])&&(c[t].guestErrorData[i]=n),c})},[]);return(0,u.useEffect)(()=>{a&&k!==l&&P(null!=l?l:0)},[a,l]),(0,u.useEffect)(()=>{a&&!(0,j.Xy)(I,D)&&O(I)},[a,(0,C.lh)(I)]),(0,o.jsx)(x.Z,{isDesktop:n,isOpen:a,title:f("bookingForm.guestDetail.title"),onClose:L,bottomSheetProps:{variant:"clean",stickyFooter:(0,o.jsx)("div",{className:t0().bottom_sheet_sticky_footer,children:(0,o.jsx)(ex.z,{fullWidth:!0,size:"large",onClick:H,children:f("common.save")})})},modalProps:{paddingVariant:"noPadding",primaryButtonText:f("common.save"),onClickPrimaryButton:H},children:(0,o.jsx)("div",{className:t0().container,"data-testid":"popup-guest-detail-form-container",children:(0,o.jsxs)(tG.mQ,{index:k,onTabChange:P,children:[E.length>1&&(0,o.jsx)(tB.t,{className:t0().tab_list,children:E.map((e,t)=>(0,o.jsx)(tz.O,{children:f(w?"multiOrder.popupGuestDetailForm.unitTypeNumber":"multiOrder.popupGuestDetailForm.roomTypeNumber",{typeNumber:t+1})},"popup-stay-details-tab-list-item-".concat(t)))}),(0,o.jsx)(tU.n,{innerContainerClassName:t0().tab_panel_inner_container,children:E.map((e,t)=>{var i;let a=D[t]||{};return(0,o.jsx)(tV.x,{children:(0,o.jsxs)("div",{className:t0().form_container,"data-testid":"popup-stay-details-tab-panel-item",children:[(0,o.jsx)(M.x,{className:t0().form_header,as:"h3",size:"b2",variant:"highEmphasis",weight:"bold",children:null==e?void 0:e.roomName}),[...Array(null!==(i=null==e?void 0:e.numberOfRooms)&&void 0!==i?i:0)].map((e,i)=>{var l;let r=((null==a?void 0:a.guestData)||[])[i]||{},s=(null==a?void 0:null===(l=a.guestErrorData)||void 0===l?void 0:l[i])||{};return(0,o.jsx)(tJ,{isDesktop:n,className:t0().form_item,itemIdx:t,roomNumberIdx:i,isNHAPlaceTypeEntirePlace:w,salutationOptions:y,profileData:N,roomFormData:D,data:r,errorData:s,onStateChange:(e,o)=>{G({itemIdx:t,roomIdx:i,guestData:e,guestErrorData:o})},countryListData:g,isSalutationEnabled:b},"popup-stay-details-guest-form-item-".concat(t,"-").concat(i))})]})},"popup-stay-details-tab-panels-item-".concat(t))})})]})})})},(e,t)=>(0,j.Xy)(e,t));var t3=i(57406),t2=i.n(t3);let t9=(0,u.memo)(e=>{let{className:t,isNHAPlaceTypeEntirePlace:i,hotelName:n,mainImageUrl:l,mainImageAlt:r,checkinDate:s,roomAmount:c,nightAmount:d}=e,u=(0,A.QT)(),{locale:m}=(0,L.On)(),{checkinDateText:_,checkoutDateText:p,nightAmountText:h,roomAmountText:v}=(0,K.bC)({i18n:u,locale:m,isNHAPlaceTypeEntirePlace:i,checkinDate:s,nightAmount:d,roomAmount:c});return(0,o.jsxs)("div",{className:a()(t2().form_heading,t),"data-testid":"form-heading",children:[(0,o.jsx)("div",{className:t2().image_wrapper,children:(0,o.jsx)(X.Z,{src:l,alt:r,errorSrc:T.y.HOTEL_IMAGE_ERROR,loadingSrc:T.y.HOTEL_IMAGE_LOADING,"data-testid":"item-image",fill:!0,style:{objectFit:"cover",objectPosition:"center"}})}),(0,o.jsxs)("div",{className:t2().label_container,children:[(0,o.jsx)(M.x,{className:t2().title_text,as:"h3",size:"b2",variant:"highEmphasis",weight:"bold","data-testid":"item-name",children:n}),(0,o.jsx)(M.x,{className:t2().subtitle_text,as:"p",size:"b2",variant:"highEmphasis",weight:"regular","data-testid":"item-date",children:"".concat(_," - ").concat(p)}),(0,o.jsxs)(M.x,{className:a()(t2().subtitle_text,t2().date),as:"p",size:"b2",variant:"lowEmphasis",weight:"regular","data-testid":"item-room-night",children:[h," • ",v]})]})]})},(e,t)=>(0,j.Xy)(e,t));var t5=i(67099),t4=i.n(t5);let t7=e=>!!e,t8=e=>{let t=(e||"").toUpperCase();return[N.aG.DROPDOWN_LIST,N.aG.SELECT_DATE].indexOf(t)>-1},t6=e=>{let t=(e||"").toUpperCase();return[N.aG.DROPDOWN_LIST,N.aG.OPTION,N.aG.SELECT_DATE].indexOf(t)>-1},ie=e=>{let t=(e||"").toUpperCase();return[N.aG.TEXTAREA].indexOf(t)>-1},it=e=>{let{locale:t,preferenceFormData:i,inputName:o,inputValue:n}=e,a="",l=(i||[]).find(e=>(null==e?void 0:e.name)===o)||{},r=null==l?void 0:l.type;if(r){if(r===N.aG.DROPDOWN_LIST){if(t7(n)){let e=((null==l?void 0:l.inputSources)||[]).find(e=>(null==e?void 0:e.value)===n)||{};a=null==e?void 0:e.name}else a=null==l?void 0:l.title}else if(r===N.aG.SELECT_DATE){let e=((null==l?void 0:l.inputSources)||[])[0]||{},i=n?(0,E.jK)(n,eH.d3):null;a=(i?"".concat(null==e?void 0:e.name," (").concat((0,E.ju)(i,"DD MMM YYYY, HH:mm",t),")"):null)||(null==l?void 0:l.title)}else a=r===N.aG.TEXTAREA?n||"":null==l?void 0:l.title}else a="";return a},ii=(0,u.memo)(e=>{let{className:t,isDesktop:i,isNHAPlaceTypeEntirePlace:n,salutationOptions:l,preferenceFormData:r,guestData:s,guestErrorData:c,preferenceData:d,onGuestNameClick:m,onSpecialRequestClick:_}=e,h=(0,A.QT)(),{locale:v}=(0,L.On)(),g=l||[],x=r||[],b=s||[],f=c||[],y=d||{},N=(0,u.useMemo)(()=>Object.entries(y).map(e=>{let[t,i]=e;return it({locale:v,preferenceFormData:x,inputName:t||"-",inputValue:i||""})}).join(", "),[(0,C.lh)(x),(0,C.lh)(y)]),T=(0,u.useMemo)(()=>!!b.length&&b.reduce((e,t)=>(null==t?void 0:t.fullName)?e+1:e,0)===b.length,[(0,C.lh)(b)]),E=(0,u.useCallback)(()=>{m&&m()},[m]),I=(0,u.useCallback)(()=>{_&&_()},[_]);return(0,o.jsxs)("div",{className:a()(t4().form_item_container,t),"data-testid":"stay-details-form-item-container",children:[b.map((e,t)=>{let i=f[t]||{},l=(g.find(t=>(null==t?void 0:t.value)===(null==e?void 0:e.title))||{}).label||"",r=!!(null==e?void 0:e.fullName),s=Object.values(i).findIndex(e=>!!e)>-1,c=r?"".concat(l," ").concat(null==e?void 0:e.fullName):h("bookingForm.stayDetails.enterTheGuestNameHere");return(0,o.jsx)(u.Fragment,{children:(0,o.jsxs)("div",{className:t4().room_guest_row,children:[(0,o.jsxs)(M.x,{className:t4().room_number_text,as:"span",size:"b2",variant:"highEmphasis",weight:"regular",children:[h(n?"common.unitNumber":"common.roomNumber",{number:t+1})," ",":"]}),(0,o.jsx)(M.x,{className:a()(t4().guest_name_text,{[t4().filled]:r}),as:"span",size:"b2",variant:s?"alert":r?"highEmphasis":"activity",weight:"bold",onClick:()=>{E()},children:c})]})},"form-item-guest-item-".concat(t))}),T&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(p.i,{className:t4().divider,variant:"dashed"}),(0,o.jsx)("div",{className:t4().special_request_wrapper,children:r&&r.length>0?(0,o.jsx)(M.x,{className:a()(t4().special_request_text,{[t4().filled]:!!N}),as:"span",size:i?"b3":"b2",variant:N?"highEmphasis":"activity",weight:"regular",onClick:I,children:N||h("bookingForm.stayDetails.anySpecialRequest")}):(0,o.jsx)(M.x,{as:"span",size:"b3",variant:"disabled",weight:"regular",children:h("bookingForm.stayDetails.specialRequestNotAvailable")})})]})]})},(e,t)=>(0,j.Xy)(e,t));var io=i(52501),ia=i.n(io),il=i(35859),ir=i.n(il);let is=e=>{var t;let{isDesktop:i,bedTypeText:n,bedTypesData:l,wrapperClassName:r}=e;return Array.isArray(l)&&l.length||n?(0,o.jsxs)("div",{className:a()(ir().bedroom_type_container,r),"data-testid":"bedroom-content-container",children:[(0,o.jsx)("div",{className:ir().icon_wrapper,children:(0,o.jsx)(e4.N,{size:"xs"})}),Array.isArray(l)&&l.length?(0,o.jsx)(o.Fragment,{children:l.length>=2?(0,o.jsx)("div",{className:ir().bedroom_type_list,children:l.map((e,t)=>{let{bedType:i,roomCategory:n}=e||{};return(0,o.jsx)(M.x,{className:ir().text_truncated_single_row,as:"p",size:"b3",variant:"highEmphasis",weight:"regular","data-testid":"new-bedroom-type-text",children:"".concat(n||"",": ").concat(i||"")},"bed-type-".concat(t))})}):(0,o.jsx)(M.x,{className:ir().text_truncated_single_row,as:"p",size:"b3",variant:"highEmphasis",weight:"regular","data-testid":"new-bedroom-type-text",children:(null===(t=l[0])||void 0===t?void 0:t.bedType)||""})}):(0,o.jsx)(M.x,{className:ir().text_truncated_multi_row,as:"p",size:"b3",variant:"highEmphasis",weight:"regular","data-testid":"old-bedroom-type-text",children:n||""})]}):null},ic=(0,u.memo)(e=>{let{className:t,variant:i,isDesktop:n,roomName:l,roomAmountText:r,cancellationPolicyV3Text:s,cancellationPolicyV3TextVariant:c,maxOccupancyText:d,bedTypeText:u,bedTypesData:m,featureAddedData:_,valueAddedText:p}=e,h="multiple-book"===i.toLowerCase(),v=h?"".concat(r," • ").concat(l):l;return(0,o.jsxs)("div",{className:a()(ia().form_subheading,t),"data-testid":"form-sub-heading-container",children:[(0,o.jsxs)("div",{className:ia().heading_container,children:[(0,o.jsx)(M.x,{className:ia().title_text,as:"h4",size:"b2",variant:"highEmphasis",weight:"regular",children:v}),(0,o.jsx)(M.x,{className:ia().subtitle_text,as:"p",size:n?"sm":"b2",variant:c,weight:"regular",children:s})]}),!h&&(0,o.jsxs)("div",{className:ia().facility_list_container,children:[d&&(0,o.jsxs)("div",{className:ia().list_item,children:[(0,o.jsx)("div",{className:ia().icon_wrapper,children:(0,o.jsx)(eq.c,{size:"xs"})}),(0,o.jsx)(M.x,{className:ia().label_text,as:"span",size:"b3",variant:"highEmphasis",weight:"regular",children:d})]}),(0,o.jsx)(is,{isDesktop:n,wrapperClassName:ia().list_item,bedTypeText:u||"",bedTypesData:m||[]}),_.map((e,t)=>(0,o.jsxs)("div",{className:ia().list_item,"data-testid":"feature-added-item-container",children:[(0,o.jsx)("div",{className:ia().icon_wrapper,children:(0,o.jsx)(b.E,{src:(null==e?void 0:e.icon)||"/",alt:(null==e?void 0:e.name)||"",fill:!0,style:{objectFit:"contain",objectPosition:"center"},"data-testid":"feature-added-item-image"})}),(0,o.jsx)(M.x,{className:ia().label_text,as:"span",size:"b3",variant:(null==e?void 0:e.available)?"highEmphasis":"lowEmphasis",weight:"regular","data-testid":"feature-added-item-name",children:(null==e?void 0:e.name)||""})]},"feature-added-item-".concat(t))),p&&(0,o.jsxs)("div",{className:ia().list_item,children:[(0,o.jsx)("div",{className:ia().icon_wrapper,children:(0,o.jsx)(eJ.G,{size:"xs"})}),(0,o.jsx)(M.x,{className:ia().label_text,as:"span",size:"b3",variant:"highEmphasis",weight:"regular",children:p})]})]})]})},(e,t)=>(0,j.Xy)(e,t));var id=i(90006),iu=i(82690),im=i(23557),i_=i(78817),ip=i.n(i_);let ih="DD MMMM YYYY",iv=(0,u.memo)(e=>{let{formContainerClassName:t,initialDate:i,minDate:n,maxDate:l,value:r,onSave:s,onChange:c,onReset:d}=e,m=(0,A.QT)(),{locale:_}=(0,L.On)(),[p,h]=(0,u.useState)(r),[v,g]=(0,u.useState)(!1),[x,b]=(0,u.useState)(!1),f=(0,E.cG)(p,i),y=(0,E.ju)(p,v?"H":"HH",_),N=(0,E.ju)(p,x?"m":"mm",_),T=(0,u.useCallback)((e,t)=>{let i=t?1:-1,o=(e||"").toLowerCase();h(e=>{let t=new Date;return("date"===o&&(t=(0,E.E4)(e,i)),"hour"===o&&(t=(0,E.TR)(e,i)),"minute"===o&&(t=(0,E.mH)(e,i)),(0,E.xi)(t,l))?l:(0,E.Sf)(t,n)?n:t})},[]),I=(0,u.useCallback)((e,t)=>{var i;let o=(e||"").toLowerCase(),a=parseInt((null==t?void 0:null===(i=t.target)||void 0===i?void 0:i.value)||"0",10);Number.isNaN(a)&&(a=0),h(e=>{let t=new Date;return("hour"===o&&(t=(0,E.Bq)(e,a)),"minute"===o&&(t=(0,E.HZ)(e,a)),(0,E.xi)(t,l))?l:(0,E.Sf)(t,n)?n:t})},[]),j=(0,u.useCallback)(()=>{h(i),d()},[d]),k=(0,u.useCallback)(()=>{s&&s()},[s]);return(0,u.useEffect)(()=>{h(r)},[(0,C.lh)(r)]),(0,u.useEffect)(()=>{c&&c(p)},[(0,C.lh)(p)]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:a()(ip().form_desktop,t),children:[(0,o.jsxs)("div",{className:ip().input_date_container,children:[(0,o.jsx)("button",{className:ip().button_navigation,onClick:()=>{T("date",!1)},"data-testid":"chevron-up-date-btn",children:(0,o.jsx)(im.y,{color:"high-emphasis",size:"lg"})}),(0,o.jsx)(M.x,{className:ip().text_date_value,as:"div",size:"b1",variant:"highEmphasis",weight:"regular",children:(0,E.ju)(p,ih,_)}),(0,o.jsx)("button",{className:ip().button_navigation,onClick:()=>{T("date",!0)},"data-testid":"chevron-down-date-btn",children:(0,o.jsx)(Z.C,{color:"high-emphasis",size:"lg"})})]}),(0,o.jsxs)("div",{className:ip().input_time_container,children:[(0,o.jsxs)("div",{className:ip().input_hour_container,"data-testid":"input-hour-container",children:[(0,o.jsx)("button",{className:ip().button_navigation,onClick:()=>{T("hour",!1)},"data-testid":"chevron-up-hour-btn",children:(0,o.jsx)(im.y,{color:"high-emphasis",size:"lg"})}),(0,o.jsx)("input",{className:ip().time_input,type:"text",value:y,onFocus:()=>{g(!0)},onBlur:()=>{g(!1)},onChange:e=>{I("hour",e)}}),(0,o.jsx)("button",{className:ip().button_navigation,onClick:()=>{T("hour",!0)},"data-testid":"chevron-down-hour-btn",children:(0,o.jsx)(Z.C,{color:"high-emphasis",size:"lg"})})]}),(0,o.jsx)("div",{className:ip().time_divider,children:":"}),(0,o.jsxs)("div",{className:ip().input_minute_container,"data-testid":"input-minute-container",children:[(0,o.jsx)("button",{className:ip().button_navigation,onClick:()=>{T("minute",!1)},"data-testid":"chevron-up-minute-btn",children:(0,o.jsx)(im.y,{color:"high-emphasis",size:"lg"})}),(0,o.jsx)("input",{className:ip().time_input,type:"text",value:N,onFocus:()=>{b(!0)},onBlur:()=>{b(!1)},onChange:e=>{I("minute",e)}}),(0,o.jsx)("button",{className:ip().button_navigation,onClick:()=>{T("minute",!0)},"data-testid":"chevron-down-minute-btn",children:(0,o.jsx)(Z.C,{color:"high-emphasis",size:"lg"})})]})]})]}),(0,o.jsxs)("div",{className:ip().action_container,children:[f?(0,o.jsx)("div",{}):(0,o.jsx)(M.x,{className:ip().button_reset,as:"span",size:"b1",variant:"activity",weight:"bold",onClick:j,children:m("common.reset")}),(0,o.jsx)(ex.z,{variant:"primary",size:"medium",onClick:k,children:m("common.save")})]})]})},(e,t)=>(0,j.Xy)(e,t));var ig=i(17597),ix=i(87630),ib=i(83175),iy=i(67206),iN=i.n(iy);let iT=e=>{let t=e.getFullYear(),i=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(i,"-").concat(o)},iE=(e,t)=>{let i={},o=new Date(e);for(;o<=t;){let e=iT(o),t=String(o.getHours()),n=String(o.getMinutes());i[e]||(i[e]={}),i[e][t]||(i[e][t]=[]),i[e][t].push(String(n)),o.setTime(o.getTime()+6e4)}return i};i(49769);let iI=(0,u.memo)(e=>{var t;let{formContainerClassName:i,initialDate:n,minDate:l,maxDate:r,value:s,onChange:c,emitterRef:d}=e,m=(0,A.QT)(),{locale:_}=(0,L.On)(),[p,h]=(0,u.useState)(s),v=(0,E.ju)(p,N.zT.backend,_),g=(0,E.ju)(p,"H",_),x=(0,E.ju)(p,"m",_),b=new Date,f=l||b,y=r||(0,E.E4)(b,1),T=(0,u.useMemo)(()=>iE(f,y),[(0,C.lh)(f),(0,C.lh)(y)]),I=(0,u.useCallback)((e,t,i)=>{let o=(0,E.jK)(e,N.zT.backend),n=parseInt(t,10),a=parseInt(i,10);Number.isNaN(n)&&(n=0),Number.isNaN(a)&&(a=0),o=(0,E.Bq)(o,n),h(o=(0,E.HZ)(o,a)),c&&c(o)},[c]);return(null==d?void 0:d.current)&&(d.current.isDirty=!(0,E.cG)(p,n)),(0,u.useEffect)(()=>{h(s)},[(0,C.lh)(s)]),(0,o.jsxs)("div",{className:a()(iN().form_mobile,i),"data-testid":"popup-date-select-form-mobile-container",children:[(0,o.jsxs)("div",{className:iN().label_container,children:[(0,o.jsx)(M.x,{className:iN().date_label,as:"span",size:"b1",variant:"highEmphasis",weight:"bold",align:"center",children:m("common.time.date")}),(0,o.jsx)(M.x,{className:iN().hour_label,as:"span",size:"b1",variant:"highEmphasis",weight:"bold",align:"center",children:m("common.time.hour")}),(0,o.jsx)(M.x,{className:iN().minute_label,as:"span",size:"b1",variant:"highEmphasis",weight:"bold",align:"center",children:m("common.time.minute")})]}),(0,o.jsx)("div",{className:iN().picker_wrapper,children:(0,o.jsxs)(ig.Z,{className:a()(iN().multi_picker),onValueChange:e=>{let[t,i,o]=e;I(t,i,o)},selectedValue:[v,g,x],children:[(0,o.jsx)(ix.Z,{className:iN().date_picker,indicatorClassName:iN().picker_indicator,itemStyle:{color:ib.O9.N800},children:Object.entries(T||{}).map((e,t)=>{let[i]=e,n=(0,E.jK)(i,N.zT.backend),a=(0,E.ju)(n,ih,_);return(0,o.jsx)(ix.Z.Item,{value:i,children:a},"picker-date-".concat(t))})}),(0,o.jsx)(ix.Z,{className:iN().hour_picker,indicatorClassName:iN().picker_indicator,itemStyle:{color:ib.O9.N800},children:Object.entries((null==T?void 0:T[v])||{}).map((e,t)=>{let[i]=e,n=i.padStart(2,"0");return(0,o.jsx)(ix.Z.Item,{value:i,children:n},"picker-hour-".concat(t))})}),(0,o.jsx)(ix.Z,{className:iN().minute_picker,indicatorClassName:iN().picker_indicator,itemStyle:{color:ib.O9.N800},children:((null==T?void 0:null===(t=T[v])||void 0===t?void 0:t[g])||[]).map((e,t)=>{let i=e.padStart(2,"0");return(0,o.jsx)(ix.Z.Item,{value:e,children:i},"picker-minute-".concat(t))})})]})})]})},(e,t)=>(0,j.Xy)(e,t));var iC=i(36269),ij=i.n(iC);let ik=(0,u.memo)(e=>{var t;let{isDesktop:i,isOpen:n,inputName:a,title:l,initialDate:r,minDate:s,maxDate:c,value:d,onSave:m,onClose:_}=e,p=(0,A.QT)(),{locale:h}=(0,L.On)(),[v,g]=(0,u.useState)(d),b=(0,u.useRef)({isDirty:!1}),f=a||"-",y=(0,u.useCallback)(e=>{g(e)},[]),N=(0,u.useCallback)(()=>{_&&_()},[_]),T=(0,u.useCallback)(()=>{let e=(0,E.ju)(v,eH.d3,h);m&&m(f,e),N()},[f,(0,C.lh)(v),m,N]),I=(0,u.useCallback)(()=>{g(r),m&&m(f,null),N()},[f,(0,C.lh)(r),m,N]);return(0,u.useEffect)(()=>{n&&!(0,j.Xy)(d,v)&&g(d)},[n,(0,C.lh)(d)]),(0,o.jsx)(x.Z,{isDesktop:i,isOpen:n,title:l||"",onClose:N,bottomSheetProps:{variant:"noPadding",textButtonText:(null==b?void 0:null===(t=b.current)||void 0===t?void 0:t.isDirty)?p("common.reset"):"",textButtonOnClick:I,stickyFooter:(0,o.jsx)("div",{className:ij().bottom_sheet_sticky_footer,children:(0,o.jsx)(ex.z,{fullWidth:!0,size:"large",onClick:T,children:p("common.done")})})},modalProps:{paddingVariant:"noPadding"},children:(0,o.jsx)("div",{className:ij().form_container,"data-testid":"popup-special-request-select-date-container",children:i?(0,o.jsx)(iv,{formContainerClassName:ij().form_desktop,initialDate:r,minDate:s,maxDate:c,value:v,onChange:y,onSave:T,onReset:I}):(0,o.jsx)(iI,{formContainerClassName:ij().form_mobile,initialDate:r,minDate:s,maxDate:c,value:v,onChange:y,emitterRef:b})})})},(e,t)=>(0,j.Xy)(e,t));var iP=i(46493),iD=i.n(iP);let iO=(0,u.memo)(e=>{let{isDesktop:t,isOpen:i,inputName:n,title:a,optionData:l,value:r,onSave:s,onClose:c}=e,d=(0,A.QT)(),[m,_]=(0,u.useState)(null),p=l||"",h=n||"-",v=(0,u.useCallback)(e=>{_(e)},[c]),g=(0,u.useCallback)(()=>{c&&c()},[c]),b=(0,u.useCallback)(()=>{s&&s(h,m),g()},[h,m,s,g]);return(0,u.useEffect)(()=>{i?(0,j.Xy)(r,m)||_(r):_(null)},[i,(0,C.lh)(r)]),(0,o.jsx)(x.Z,{isDesktop:t,isOpen:i,title:a||"",onClose:g,bottomSheetProps:{variant:"noPadding",stickyFooter:(0,o.jsx)("div",{className:iD().bottom_sheet_sticky_footer,children:(0,o.jsx)(ex.z,{fullWidth:!0,size:"large",onClick:b,children:d("common.done")})})},modalProps:{paddingVariant:"noPadding",primaryButtonText:d("common.done"),onClickPrimaryButton:b},children:(0,o.jsx)("div",{className:iD().form_container,"data-testid":"popup-special-request-dropdown-list-container",children:(0,o.jsx)("div",{className:iD().form_list_container,children:(0,o.jsx)(ea.E,{name:"special-request-dropdown-list",value:"string"==typeof m?m:void 0,children:p.map((e,i)=>{let n=String((null==e?void 0:e.value)||""),a=i===p.length-1;return(0,o.jsx)(er.a,{className:iD().list_item,isRegularTitle:!0,withDivider:!t&&!a,title:null==e?void 0:e.label,onClick:()=>{v(n)},children:(0,o.jsx)(en.Y,{value:n})},"special-request-dropdown-list-item-".concat(i))})})})})})},(e,t)=>(0,j.Xy)(e,t)),iF={isOpen:!1,inputName:null,title:null,initialDate:null,minDate:null,maxDate:null,value:null},iA={isOpen:!1,inputName:null,title:null,optionsData:[],value:null};var iS=i(69204),iR=i.n(iS);let iw=(0,u.memo)(e=>{let{isDesktop:t,isOpen:i,isNHAPlaceTypeEntirePlace:n,hotelId:a,formItemIdx:l,roomName:r,preferenceFormData:s,preferenceData:c,onSave:d,onClose:m}=e,_=(0,A.QT)(),{locale:p}=(0,L.On)(),[h,v]=(0,u.useState)(c),[g,b]=(0,u.useState)({}),[f,y]=(0,u.useState)(iA),[T,I]=(0,u.useState)(iF),k=a||"",P=null!=l?l:-1,D=s||[],O=(0,u.useMemo)(()=>new Date,[i]),F=(0,u.useMemo)(()=>D.reduce((e,t)=>{let i=t6((null==t?void 0:t.type)||""),o=ie((null==t?void 0:t.type)||"");return i?{...e,chipInputElements:[...e.chipInputElements,t]}:o?{...e,textAreaInputElements:[...e.textAreaInputElements,t]}:e},{chipInputElements:[],textAreaInputElements:[]}),[(0,C.lh)(D)]),S=!!((null==F?void 0:F.chipInputElements)||[]).length,R=!!((null==F?void 0:F.chipInputElements)||[]).length,w=(0,u.useCallback)((e,t)=>{let i=e||"-";v(e=>{let o=(0,j.Xh)(e||{});return o[i]=t,o})},[]),H=(0,u.useCallback)(e=>{let t=(null==e?void 0:e.title)||(null==e?void 0:e.placeholder)||"",i=(null==e?void 0:e.name)||"-",o=((null==e?void 0:e.type)||N.aG.OPTION).toUpperCase();if(o===N.aG.DROPDOWN_LIST)y({isOpen:!0,inputName:i,title:t,optionsData:((null==e?void 0:e.inputSources)||[]).map(e=>({label:null==e?void 0:e.name,value:null==e?void 0:e.value})),value:null==h?void 0:h[i]});else if(o===N.aG.SELECT_DATE){var n;let o=(null===(n=((null==e?void 0:e.inputSources)||[])[0])||void 0===n?void 0:n.valueRange)||{},a=(0,E.jK)((null==o?void 0:o.value)||O,eH.d3),l=(0,E.jK)((null==o?void 0:o.start)||O,eH.d3),r=(0,E.jK)((null==o?void 0:o.end)||(0,E.E4)(O,1),eH.d3),s=(null==h?void 0:h[i])?(0,E.jK)(h[i],eH.d3):a;I({isOpen:!0,inputName:i,title:t,initialDate:a,minDate:l,maxDate:r,value:s})}else{let e=(null==h?void 0:h[i])?null:i;w(i,e)}},[(0,C.lh)(O),(0,C.lh)(h),w]),G=(0,u.useCallback)(()=>{m&&m()},[m]),B=(0,u.useCallback)(()=>{if(!(Object.values(g||{}).filter(e=>!!e).length>0)){let e=Object.entries(h||{}).reduce((e,t)=>{let[i,o]=t;return t7(o)?{...e,[i]:o}:e},{});d&&d(k,P,e),G()}},[k,P,(0,C.lh)(h),(0,C.lh)(g),G]),z=(0,u.useCallback)(()=>{v({}),b({})},[]),U=(0,u.useCallback)(()=>{I(iF)},[]),V=(0,u.useCallback)(()=>{y(iA)},[]);return(0,u.useEffect)(()=>{i&&!(0,j.Xy)(c,h)&&v(c)},[i,(0,C.lh)(c)]),(0,u.useEffect)(()=>{i&&b({})},[i]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(x.Z,{isDesktop:t,isOpen:i,title:_("bookingForm.specialRequest.title"),onClose:G,bottomSheetProps:{variant:"noPadding",stickyFooter:(0,o.jsx)("div",{className:iR().bottom_sheet_sticky_footer,children:(0,o.jsx)(ex.z,{fullWidth:!0,size:"large",onClick:B,children:_("common.save")})}),textButtonText:_("common.reset"),textButtonOnClick:z},modalProps:{paddingVariant:"noPadding"},children:(0,o.jsxs)("div",{className:iR().form_container,"data-testid":"popup-special-request-form-container",children:[(0,o.jsxs)("div",{className:iR().form_heading,children:[(0,o.jsx)(M.x,{as:"h3",size:"b2",variant:"highEmphasis",weight:"bold",children:r||""}),(0,o.jsx)(M.x,{className:iR().heading_description,as:"p",size:"b2",variant:"lowEmphasis",weight:"regular",children:_("bookingForm.specialRequest.description",{accommodationUnit:_(n?"common.units":"common.rooms").toLowerCase()})})]}),S&&(0,o.jsx)("div",{className:iR().form_chips_container,"data-testid":"special-request-chips-container",children:(null==F?void 0:F.chipInputElements).map((e,t)=>{let i=(null==e?void 0:e.name)||"-",n=(null==e?void 0:e.type)||N.aG.OPTION,a=h[i]||"",l=t7(a),r=t8(n),s=it({locale:p,preferenceFormData:D,inputName:i,inputValue:a});return(0,o.jsx)(id.A,{className:iR().form_chips_item,isActive:l,suffixIcon:r?(0,o.jsx)(Z.C,{}):void 0,onClick:()=>{H(e)},children:s},"popup-stay-details-preference-form-chip-input-item-".concat(t))})}),R&&(0,o.jsx)("div",{className:iR().form_additional_note_wrapper,"data-testid":"special-request-text-area-container",children:(null==F?void 0:F.textAreaInputElements).map((e,t)=>{var i,n,a;let l=(null==e?void 0:e.name)||"-",r=(null==e?void 0:e.caption)||(null==e?void 0:e.title)||"",s=parseInt((null==e?void 0:null===(n=e.validators)||void 0===n?void 0:null===(i=n.find(e=>(null==e?void 0:e.name)==="maxLength"))||void 0===i?void 0:i.parameter)||"0",10),c=(null==e?void 0:null===(a=e.validators)||void 0===a?void 0:a.find(e=>(null==e?void 0:e.name)==="regex"))||{};return(0,o.jsx)(iu.K,{label:r,value:(null==h?void 0:h[l])||"",onChange:e=>{var t;let i=(null==e?void 0:null===(t=e.target)||void 0===t?void 0:t.value)||"",o=!!i;if(null==c?void 0:c.parameter){let e=new RegExp(null==c?void 0:c.parameter).test(i);b(t=>{let i=(0,j.Xh)(t||{});return i[l]=e?"":(null==c?void 0:c.message)||"-",i})}w(l,o?i:null)},showCounter:!!s,maxLength:s||void 0,errorText:(null==g?void 0:g[l])||""},"popup-stay-details-preference-form-textare-input-item-".concat(t))})}),t&&(0,o.jsxs)("div",{className:iR().action_container,"data-testid":"action-container",children:[(0,o.jsx)(M.x,{as:"span",size:"b1",variant:"activity",weight:"bold",onClick:z,children:_("common.reset")}),(0,o.jsx)(ex.z,{size:"large",variant:"primary",onClick:B,children:_("common.save")})]})]})}),(0,o.jsx)(iO,{isDesktop:t,isOpen:!!(null==f?void 0:f.isOpen),title:(null==f?void 0:f.title)||"",inputName:(null==f?void 0:f.inputName)||"-",optionData:(null==f?void 0:f.optionsData)||[],value:(null==f?void 0:f.value)||"",onSave:w,onClose:V}),(0,o.jsx)(ik,{isDesktop:t,isOpen:!!(null==T?void 0:T.isOpen),inputName:(null==T?void 0:T.inputName)||"-",title:(null==T?void 0:T.title)||"",initialDate:(null==T?void 0:T.initialDate)||O,minDate:(null==T?void 0:T.minDate)||O,maxDate:(null==T?void 0:T.maxDate)||(0,E.E4)(O,1),value:(null==T?void 0:T.value)||O,onSave:w,onClose:U})]})},(e,t)=>(0,j.Xy)(e,t)),iL=e=>({profileId:"",title:e?N.PR.DEFAULT_SALUTATION_ID:null,fullName:"",nationalityCode:N.V3}),iM={title:"",fullName:"",errorTypeFullName:null},iH={isOpen:!1,hotelItemIdx:-1,roomItemIdx:-1},iG={isOpen:!1,initialActiveTabIndex:-1,hotelId:"",prebookHotelData:null,formData:null},iB={isOpen:!1,isNHAPlaceTypeEntirePlace:!1,hotelId:"",formItemIdx:-1,roomName:"",preferenceFormData:null,data:null},iz=e=>{let{prebookData:t,isSalutationEnabled:i}=e,o={};return((null==t?void 0:t.hotels)||[]).forEach(e=>{var t,n;o[(null==e?void 0:null===(t=e.detail)||void 0===t?void 0:t.hotelId)||"-"]=((null==e?void 0:null===(n=e.detail)||void 0===n?void 0:n.rooms)||[]).map(e=>{let t=(null==e?void 0:e.numberOfRooms)||0;return{cartId:(null==e?void 0:e.cartId)||"",guestData:[...Array(t)].map(()=>(0,j.Xh)(iL(i))),guestErrorData:[...Array(t)].map(()=>(0,j.Xh)(iM)),preferenceData:{}}})}),o},iU=e=>{let{formData:t}=e,i=!1,o=null;return Object.entries(t||{}).forEach(e=>{let[,t]=e;(t||[]).forEach(e=>{((null==e?void 0:e.guestErrorData)||[]).forEach(e=>{let t=!!e.title||!!e.fullName||!!e.errorTypeFullName;i?"empty_full_name"!==o&&t&&(o=e.errorTypeFullName||"empty_full_name"):(i=t,t&&(o=e.errorTypeFullName||"empty_full_name"))})})}),{hasError:i,fullNameErrorType:o}};var iV=i(1420),iW=i.n(iV);let iZ=(0,u.memo)(e=>{var t,i,n,l,r,s,c,d;let{rootClassName:m,sectionItemClassName:_,isDesktop:p,productType:h,profileData:v,prebookData:g,formData:b,setFormData:f,formHandlerEmitterRef:y,countryListData:T,isSalutationEnabled:I}=e,k=(0,A.QT)(),{locale:P}=(0,L.On)(),[D,O]=(0,u.useState)(1),[F,S]=(0,u.useState)(iH),[R,w]=(0,u.useState)(iG),[H,G]=(0,u.useState)(iB),B=(0,K.cG)(P),z=g||{},U=b||{},V=(0,u.useMemo)(()=>{let{hasError:e,fullNameErrorType:t}=iU({formData:U});return e&&t?"not_sufficient_length_full_name"===t?k("bookingForm.validation.nameMinAndMaxLength",{minLength:N.PR.MIN_NAME_LENGTH,maxLength:N.PR.MAX_NAME_LENGTH_GUEST_DETAIL}):k("bookingForm.validation.notCompleteForm"):""},[(0,C.lh)(U),k]),W=(0,eK.i)(h,(null===(n=z.hotels)||void 0===n?void 0:null===(i=n[null!==(l=null==F?void 0:F.hotelItemIdx)&&void 0!==l?l:-1])||void 0===i?void 0:null===(t=i.detail)||void 0===t?void 0:t.placeType)||""),Z=(0,u.useCallback)((e,t)=>{S({isOpen:!0,hotelItemIdx:e,roomItemIdx:t})},[]),X=(0,u.useCallback)(e=>{let{hotelId:t,formItemIdx:i,prebookHotelData:o,roomObj:n}=e,a=U[t]||[];w({isOpen:!0,initialActiveTabIndex:i,hotelId:t,prebookHotelData:o,formData:a})},[(0,C.lh)(U)]),Y=(0,u.useCallback)(e=>{var t,i;let{isNHAPlaceTypeEntirePlace:o,hotelId:n,formItemIdx:a,roomObj:l}=e,r=(null==l?void 0:l.roomName)||"",s=(null==l?void 0:l.preferenceForm)||[],c=(null===(i=U[n])||void 0===i?void 0:null===(t=i[a])||void 0===t?void 0:t.preferenceData)||{};G({isOpen:!0,isNHAPlaceTypeEntirePlace:o,hotelId:n,formItemIdx:a,roomName:r,preferenceFormData:s,data:c})},[(0,C.lh)(z),(0,C.lh)(U)]),Q=(0,u.useCallback)((e,t)=>{f(i=>{let o=(0,j.Xh)(i||{});return(null==o?void 0:o[e])&&(o[e]=t),o})},[]),q=(0,u.useCallback)((e,t,i)=>{f(o=>{var n;let a=(0,j.Xh)(o||{});return(null===(n=a[e])||void 0===n?void 0:n[t])&&(a[e][t].preferenceData=i),a})},[]),et=(0,u.useCallback)(()=>{S(iH)},[]),ei=(0,u.useCallback)(()=>{w(iG)},[]),en=(0,u.useCallback)(()=>{G(iB)},[]);return(null==y?void 0:y.current)&&(y.current.onValidateAll=()=>{let e=(0,j.Xh)(b||{}),t=!1;return Object.entries(e).forEach(e=>{let[,i]=e;(i||[]).forEach((e,i)=>{let o=(null==e?void 0:e.guestData)||[],n=(null==e?void 0:e.guestErrorData)||[];o.forEach((e,i)=>{let o=I?(0,K.yA)({locale:P,salutationIdValue:(null==e?void 0:e.title)||""}):"",{fullNameErrorText:a,fullNameErrorType:l}=(0,K.fy)({locale:P,isContactDetailsForm:!1,fullNameValue:(null==e?void 0:e.fullName)||""});t||(t=!!a&&!!l||!!o),n[i]&&(n[i].title=o,n[i].fullName=a,n[i].errorTypeFullName=l)})})}),f(e),!t}),(0,o.jsxs)("div",{className:a()(iW().stay_details,m),"data-testid":"booking-form-stay-details-container",children:[(z.hotels||[]).map((e,t)=>{var i;let{hotelId:n,hotelName:l,isNHAPlaceTypeEntirePlace:r,mainImageUrl:s,mainImageAlt:c,nightAmount:d,roomAmount:m}=(0,K.je)(p,h,e),v=(null==e?void 0:null===(i=e.detail)||void 0===i?void 0:i.rooms)||[],g=(0,E.jK)((null==e?void 0:e.startDate)||""),x=1===v.length,b=p||!p&&0===t;return(0,o.jsxs)("div",{className:a()(iW().section_item,_),children:[b&&(0,o.jsxs)("div",{className:iW().heading,children:[(0,o.jsx)(M.x,{size:"h3",as:"h3",variant:"highEmphasis",weight:"bold","data-testid":"stay-details-title",children:p?k("bookingForm.stayDetails.titleDesktop",{propertyName:l}):k("bookingForm.stayDetails.titleMobile")}),p&&(0,o.jsx)(M.x,{className:iW().heading_description,size:"b2",as:"p",variant:"lowEmphasis","data-testid":"stay-details-description",children:k("bookingForm.stayDetails.description")})]}),(0,o.jsx)("div",{className:iW().content,children:(0,o.jsxs)(J.N,{errorText:V,children:[!p&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t9,{className:iW().form_heading,isNHAPlaceTypeEntirePlace:r,hotelName:l,mainImageUrl:s,mainImageAlt:c,checkinDate:g,nightAmount:d,roomAmount:m}),(0,o.jsx)(eX.E,{variant:"bold"})]}),v.map((i,l)=>{var s,c,d;let m=(null===(s=U[n])||void 0===s?void 0:s[l])||{},_=(null==i?void 0:null===(c=i.cancellationPoliciesV3)||void 0===c?void 0:c.policyToShow)||{},h=m.guestData||[],v=m.guestErrorData||[],g=m.preferenceData||[];return(0,o.jsxs)(u.Fragment,{children:[l>0&&!x&&(0,o.jsx)(eX.E,{}),(0,o.jsxs)($.b,{onClick:()=>{Z(t,l)},children:[(0,o.jsx)(ee.U,{children:(0,o.jsx)(ic,{className:iW().form_subheading,isDesktop:p,variant:x?"single-book":"multiple-book",roomName:null==i?void 0:i.roomName,roomAmountText:(0,K.XI)({i18n:k,isNHAPlaceTypeEntirePlace:r,roomAmount:(null==i?void 0:i.numberOfRooms)||0}),cancellationPolicyV3Text:_.title||"",cancellationPolicyV3TextVariant:(0,K._6)(_.type||""),maxOccupancyText:(0,K.jB)({i18n:k,adultOccupancyAmount:(null==i?void 0:i.maxOccupancy)||0,childOccupancyAmount:(null==i?void 0:i.maxChildOccupancy)||0}),bedTypeText:(null==i?void 0:i.bedType)||"",bedTypesData:(null==i?void 0:i.bedTypes)||[],featureAddedData:(null==i?void 0:i.featureAdded)||[],valueAddedText:(null==i?void 0:null===(d=i.valueAdded)||void 0===d?void 0:d.join(", "))||""})}),(0,o.jsx)(eo.W,{color:"high-emphasis"})]}),x&&(0,o.jsx)(eX.E,{}),(0,o.jsx)(ii,{className:a()(iW().form_item,{[iW().no_top_padding]:!x}),isNHAPlaceTypeEntirePlace:r,salutationOptions:B,preferenceFormData:(null==i?void 0:i.preferenceForm)||[],guestData:h,guestErrorData:v,preferenceData:g,isDesktop:p,onGuestNameClick:()=>{O(l+1),X({hotelId:n,formItemIdx:l,prebookHotelData:e,roomObj:i})},onSpecialRequestClick:()=>{Y({isNHAPlaceTypeEntirePlace:r,hotelId:n,formItemIdx:l,roomObj:i})}})]},"stay-details-item-".concat(t,"-room-type-item-").concat(l))})]})})]},"stay-details-item-".concat(t))}),(0,o.jsx)(x.Z,{title:k(W?"bookingForm.bookingDetails.unitDetailTitle":"bookingForm.bookingDetails.roomDetailTitle"),isDesktop:p,isOpen:!!(null==F?void 0:F.isOpen),modalProps:{paddingVariant:"noPadding"},bottomSheetProps:{variant:"noPadding"},onClose:et,children:(0,o.jsx)(tH,{isDesktop:p,productType:h,prebookData:g,hotelItemIdx:null!==(r=null==F?void 0:F.hotelItemIdx)&&void 0!==r?r:-1,roomItemIdx:null!==(s=null==F?void 0:F.roomItemIdx)&&void 0!==s?s:-1})}),(0,o.jsx)(t1,{isDesktop:p,isOpen:!!(null==R?void 0:R.isOpen),initialActiveTabIdx:null!==(c=null==R?void 0:R.initialActiveTabIndex)&&void 0!==c?c:-1,productType:h,hotelId:(null==R?void 0:R.hotelId)||"",salutationOptions:B,profileData:v||[],prebookHotelData:(null==R?void 0:R.prebookHotelData)||{},selectedRatePlanPosition:D,formData:(null==R?void 0:R.formData)||[],onSave:Q,onClose:ei,countryListData:T,isSalutationEnabled:I}),(0,o.jsx)(iw,{isDesktop:p,isOpen:!!(null==H?void 0:H.isOpen),isNHAPlaceTypeEntirePlace:!!(null==H?void 0:H.isNHAPlaceTypeEntirePlace),hotelId:(null==H?void 0:H.hotelId)||"",formItemIdx:null!==(d=null==H?void 0:H.formItemIdx)&&void 0!==d?d:-1,roomName:(null==H?void 0:H.roomName)||"",preferenceFormData:(null==H?void 0:H.preferenceFormData)||[],preferenceData:(null==H?void 0:H.data)||{},onSave:q,onClose:en})]})},(e,t)=>(0,j.Xy)(e,t));var iX=i(75497),iK=i(16411),iY=i.n(iK),iQ=e=>{let{shouldShowRoomNameAndExpandable:t,surchargeInformationData:i}=e,{forwardParamsRef:n}=(0,g.useForwardParams)(),{surchargeInformationPerRoom:a}=i,{surchargeInformation:l}=(null==a?void 0:a[0])||{};return(0,o.jsx)("div",{ref:n,"data-testid":"surcharge-information-popup-container",children:t?(0,o.jsx)("div",{className:iY().surcharge_info_per_room_list_container,"data-testid":"surcharge-info-card-per-room-list-container",children:(a||[]).map((e,t)=>{let{roomTypeName:i,surchargeInformation:n}=e||{};return(0,o.jsx)(W.Zb,{padding:"large",variant:"outline","data-testid":"surcharge-info-card-per-room-item-container",children:(0,o.jsx)(iX.UQ,{children:(0,o.jsxs)(iX.Qd,{defaultOpen:0===t,children:[(0,o.jsxs)(iX.KF,{children:[(0,o.jsx)(M.x,{as:"h4",size:"b1",weight:"bold",variant:"highEmphasis",className:iY().room_type_name,"data-testid":"room-type-name-text",children:i||""}),(0,o.jsx)(iX.XE,{})]}),(0,o.jsxs)(iX.Hk,{children:[(0,o.jsx)(p.i,{className:iY().divider}),(0,o.jsx)("span",{dangerouslySetInnerHTML:{__html:(0,H.Z)(n||"")},"data-testid":"surcharge-information-text"})]})]})})},"surcharge-info-accordion-card-".concat(t))})}):(0,o.jsx)("span",{dangerouslySetInnerHTML:{__html:(0,H.Z)(l||"")}})})};let iq=(0,u.memo)(e=>{let{className:t,surchargeInformationData:i,isDesktop:n,isMultiOrderEnabled:l}=e,r=(0,A.QT)(),[s,c]=(0,u.useState)(!1),d=(0,u.useMemo)(()=>{var e;return!!Array.isArray(i)&&!!i.length&&!!((null===(e=i[0])||void 0===e?void 0:e.surchargeInformationPerRoom)||[]).length},[(0,C.lh)(i)]);if(!d)return null;let m=(null==i?void 0:i[0])||{};return(0,o.jsxs)("div",{className:a()(t),"data-testid":"surcharge-information-container",children:[(0,o.jsx)(eS.X,{actionText:r("bookingForm.surchargeInformation.infoBanner.actionButtonText"),content:r("bookingForm.surchargeInformation.infoBanner.description"),title:"",isOpen:!!d,onClickAction:()=>{S.Z.pushObject(R.Z.VIEW_SURCHARGE_INFORMATION_CLICK()),c(!0)}}),(0,o.jsx)(x.Z,{isDesktop:n,isOpen:!!s,onClose:()=>c(!1),title:r("bookingForm.surchargeInformation.popup.title"),bottomSheetProps:{defaultPopupHeight:"full"},modalProps:{defaultPopupHeight:"full"},children:(0,o.jsx)(iQ,{surchargeInformationData:m,shouldShowRoomNameAndExpandable:!!l})})]})},(e,t)=>(0,j.Xy)(e,t));var iJ=i(49532),i$=i(71381),i0=i(94067);i(78251);let i1=async(e,t)=>{try{var i,o,n;let a=null==t?void 0:null===(i=t.utmSource)||void 0===i?void 0:i.toString(),l=null==t?void 0:null===(o=t.utmFclid)||void 0===o?void 0:o.toString(),r=null==t?void 0:t.searchSessionId.toString(),s=await (0,i0.he)("".concat(N.QP.HOTEL_PREBOOK_V4),{...e,opts:{method:"POST",body:JSON.stringify(t),headers:{...(null==e?void 0:null===(n=e.opts)||void 0===n?void 0:n.headers)||{},[N.OT]:"5",[N.dz]:r,...a?{"X-Discovery-Platform":a}:{},...l?{"X-Discovery-Id":l}:{}}}});return await s.json()}catch(e){return(0,i0.vU)(e)}},i3=async(e,t)=>{try{var i;let o=await (0,i0.he)("".concat(N.QP.HOTEL_BOOK_V2),{...e,opts:{method:"POST",body:JSON.stringify(t),headers:{...(null==e?void 0:null===(i=e.opts)||void 0===i?void 0:i.headers)||{},[N.OT]:"2"}}});return await (null==o?void 0:o.json())}catch(e){return(0,i0.vU)(e)}},i2=(0,i$.h)({name:"hotel-book-fetchers"}),i9=(e,t,i)=>(0,iJ.useMutation)(i=>i3({opts:{headers:{[N.M7]:e||N.PI.code,...t?{[N.dz]:t}:{}}}},i),{onSuccess:null==i?void 0:i.onSuccess,onError:e=>i2.error("error post book v2",e)});var i5=i(10265);let i4=(0,i$.h)({name:"hotel-prebook-fetchers"});var i7=(e,t)=>{let i={...t,ABTest:{enableNHAStarRatingCalculation:"true"}},{isLoading:o,error:n,data:a,refetch:l}=(0,iJ.useQuery)(["prebookV4",JSON.stringify(i)],()=>i1({},i),{enabled:e,onError:e=>i4.error("error fetching prebook v4",e)});return{isLoading:o,error:n,data:a,refetch:l}},i8=i(6291),i6=i.n(i8);let oe=r()(()=>i.e(6490).then(i.bind(i,76490)).then(e=>e.default),{loadableGenerated:{webpack:()=>[76490]}}),ot=r()(()=>Promise.all([i.e(5843),i.e(6049)]).then(i.bind(i,91034)),{loadableGenerated:{webpack:()=>[91034]}}),oi=r()(()=>i.e(175).then(i.bind(i,70175)).then(e=>e.default),{loadableGenerated:{webpack:()=>[70175]}}),oo=r()(()=>i.e(6705).then(i.bind(i,46705)).then(e=>e.PriceDetail),{loadableGenerated:{webpack:()=>[46705]}});var on=e=>{var t,i,n,l,r,s,L,M,H,G,B,z,U,W,Z,X,Y,Q,J,$,ee;let{productType:et,deviceType:ei,initialCurrency:eo,sessionData:en,profileData:ea}=e,{withForwardParams:el}=(0,g.useForwardParams)(),er=(0,d.useRouter)(),es=(0,A.QT)(),{isDesktop:ec}=(0,P.hU)(),{gtmPushPriceDisplayRelated:ed}=(0,O.E)(),{realTimeValue:eu}=(0,D.D)(N.Xi,{}),{realTimeValue:em,setValue:ep}=(0,D.D)(N.jq,[]),eh=(em||[]).length,ev=(0,u.useMemo)(()=>(em||[]).reduce((e,t)=>{let{hotelRoomId:i,hotelRoomName:o,selectedRoomQuantity:n,selectedRoomPlanQuantity:a}=e||{},{roomId:l,roomName:r,amount:s}=t||{};return{hotelRoomId:i?"".concat(i,",").concat(l):l,hotelRoomName:o?"".concat(o,",").concat(r):r,selectedRoomQuantity:n+s,selectedRoomPlanQuantity:a+1}},{hotelRoomId:"",hotelRoomName:"",selectedRoomQuantity:0,selectedRoomPlanQuantity:0}),[(0,C.lh)(em)]),eg=(0,u.useRef)({onValidateAll:()=>!0}),ex=(0,u.useRef)({onValidateAll:()=>!0}),eb=(0,k.Er)(er,N.Tx.BOOKING_FORM.HOTEL_ID),ef=(0,k.Er)(er,N.Tx.BOOKING_FORM.ROOM_ID),ey=(0,k.Er)(er,N.Tx.ROOM_DETAIL.RATE_CODE),eN=(0,k.Er)(er,N.Tx.BOOKING_FORM.URL_REFERER),eT=(0,k.Er)(er,N.Tx.BOOKING_FORM.TRANSACTION_STATUS),eI=(0,k.Er)(er,N.H1.UTMSOURCE),eC=(0,k.Er)(er,N.H1.UTMFCLID),ej=(0,k.Er)(er,N.H1.UTMEXTERNAL),ek=(0,k.Er)(er,N.H1.UTMMEDIUM),eP=(0,k.Er)(er,N.H1.SEARCH_SESSION_ID),eD=(0,k.Er)(er,N.Tx.BOOKING_FORM.START_DATE),eO=(0,k.Er)(er,N.Tx.BOOKING_FORM.NIGHT),eF=(0,k.Er)(er,N.H1.ROOM),eS=(0,k.Er)(er,N.H1.ADULT),eR=(0,k.h9)(er,N.H1.CHILD),ew=(0,k.Er)(er,N.Tx.BOOKING_FORM.PAGE),eB=(0,k.Er)(er,N.Tx.BOOKING_FORM.FILTER_ROOM_AMOUNT),ez=(0,k.Er)(er,N.Tx.BOOKING_FORM.FILTER_ADULT_AMOUNT),eU=(0,k.h9)(er,N.Tx.BOOKING_FORM.FILTER_CHILD_AGE),eV=Number(eO||N.s8.MIN_NIGHT);eF||N.s8.MIN_ROOM;let eW=Number(eS||N.s8.MIN_ADULT),eX=(eR||[]).map(e=>parseInt(e,10)),eK=Number(ew||1),eY=Number(eB||N.s8.MIN_ROOM),eQ=Number(ez||N.s8.MIN_ADULT),eq=(em||[])[0]||{},eJ=eh>1,e$=!!eh&&eq.roomId===ef&&eq.rateCode===ey,e0={isMultiOrder:eJ,hotels:[{adult:eW,childAges:eX,hotelId:eb,night:eV,rooms:e$?(em||[]).map(e=>{var t,i,o;let n=e||{};return{roomId:n.roomId||"",rateCode:n.rateCode||"",qty:null!==(t=n.amount)&&void 0!==t?t:0,maxOccupancy:null!==(i=n.maxOccupancy)&&void 0!==i?i:0,maxChildOccupancy:null!==(o=n.maxChildOccupancy)&&void 0!==o?o:0}}):[],startDate:eD}],urlReferer:eN,transactionStatus:eT,searchSessionId:eP,...eI?{utmSource:eI}:{},...eC?{utmFclid:eC}:{}},[e1,e3]=(0,u.useState)(1),[e2,e9]=(0,u.useState)(!1),[e5,e4]=(0,u.useState)(!1),[e7,e8]=(0,u.useState)(null),[e6,te]=(0,u.useState)(!1),[tt,ti]=(0,u.useState)(),[to,tn]=(0,u.useState)(),[,ta]=(0,u.useState)(0),[tl,tr,ts]=(0,F.Z)(!1),[tc,td,tu]=(0,F.Z)(!1),[tm,t_]=(0,u.useState)(e_),[tp,th]=(0,u.useState)({}),[tv,tg]=(0,u.useState)([]),[tx,tb]=(0,u.useState)([]),[tf,ty]=(0,u.useState)(!1),[tN,tT]=(0,u.useState)(!1),[tE,tI]=(0,u.useState)(null),{data:tC}=(0,i5.Z)(),{isLoading:tj,data:tk}=i7(!e2&&e$,e0),{mutateAsync:tP,data:tD,isLoading:tO}=i9(eo,eP),tF=(0,u.useMemo)(()=>{var e,t;if(!(null==tk?void 0:null===(e=tk.data)||void 0===e?void 0:e.interimPageUrlPath))return{cartId:"",publicId:"",startDate:"",endDate:"",nights:"",countryId:"",cityId:"",regionId:"",areaId:""};let i=new URLSearchParams(null==tk?void 0:null===(t=tk.data)||void 0===t?void 0:t.interimPageUrlPath);return{cartId:i.get(N.Tx.BOOKING_FORM_INTERIM_PAGE.CART_ID)||"",publicId:i.get(N.Tx.BOOKING_FORM_INTERIM_PAGE.PUBLIC_ID)||"",startDate:i.get(N.Tx.BOOKING_FORM_INTERIM_PAGE.START_DATE)||"",endDate:i.get(N.Tx.BOOKING_FORM_INTERIM_PAGE.END_DATE)||"",nights:i.get(N.Tx.BOOKING_FORM_INTERIM_PAGE.NIGHTS)||"",countryId:i.get(N.Tx.BOOKING_FORM_INTERIM_PAGE.COUNTRY_ID)||"",cityId:i.get(N.Tx.BOOKING_FORM_INTERIM_PAGE.CITY_ID)||"",regionId:i.get(N.Tx.BOOKING_FORM_INTERIM_PAGE.REGION_ID)||"",areaId:i.get(N.Tx.BOOKING_FORM_INTERIM_PAGE.AREA_ID)||""}},[null==tk?void 0:null===(t=tk.data)||void 0===t?void 0:t.interimPageUrlPath]),tA=(0,I.qC)(et),tS=(0,u.useMemo)(()=>(ea||[]).find(e=>!!(null==e?void 0:e.isPrimary))||{},[(0,C.lh)(ea)]),tR=Number((null==tD?void 0:tD.status)||"200"),tw=null==tD?void 0:tD.code,tL=(null==tD?void 0:tD.data)||{},tM=(null==tL?void 0:tL.popup)||{},tH=(0,K.nP)({i18n:es,isBookAPI:!0,errorHttpStatus:tR,errorCode:tt,initialPopupObj:tM}),tG=(0,K.xY)({isMultiOrderEnabled:eJ,activePageNumber:e1,popupErrorType:null==tH?void 0:tH.type}),tB=!!(null==tk?void 0:null===(i=tk.data)||void 0===i?void 0:i.interimPageUrlPath),tz=Number((null==tk?void 0:tk.status)||"200"),tU=null==tk?void 0:tk.code,tV=(null==tk?void 0:tk.data)||{},tW=(null==tV?void 0:tV.popup)||{},tZ=(0,K.nP)({i18n:es,isBookAPI:!1,errorHttpStatus:tz,errorCode:to,initialPopupObj:tW}),tX=(0,K.xY)({isMultiOrderEnabled:eJ,activePageNumber:e1,popupErrorType:null==tZ?void 0:tZ.type}),tK=null!==(Z=null==tV?void 0:tV.isSalutationEnabled)&&void 0!==Z?Z:eH.z1,tY=(null==tV?void 0:tV.currencyData)||N.PI,tQ=(null==tV?void 0:tV.dictionaryImages)||{},tq=(null==tV?void 0:tV.insuranceV2)||[],tJ=(null==tV?void 0:tV.hotels)||[],t$=(null==tJ?void 0:null===(l=tJ[0])||void 0===l?void 0:null===(n=l.detail)||void 0===n?void 0:n.rooms)||[],t0=(0,u.useMemo)(()=>{let e=N.PI,t=0;return(tV.hotels||[]).forEach(i=>{var o;((null==i?void 0:null===(o=i.detail)||void 0===o?void 0:o.rooms)||[]).forEach(i=>{var o,n;let a=(null==i?void 0:null===(o=i.rateInfo)||void 0===o?void 0:o.localCurrency)||{},l=null==a?void 0:a.currencyData,r=null!==(n=null==a?void 0:a.price)&&void 0!==n?n:0;l&&r&&(e=l,t+=r)})}),{currencyData:e,price:t}},[(0,C.lh)(tV)]),t1=(null==tV?void 0:tV.footerBanner)||{},t3=!!(null==en?void 0:en.isLogin),t2=!!(null==en?void 0:en.verifiedPhoneNumber),t9=(0,K.qc)((null==tV?void 0:null===(H=tV.hotels)||void 0===H?void 0:null===(M=H[0])||void 0===M?void 0:null===(L=M.detail)||void 0===L?void 0:null===(s=L.rooms)||void 0===s?void 0:null===(r=s[0])||void 0===r?void 0:r.paymentOption)||""),t5=(0,u.useMemo)(()=>!!((null==tV?void 0:tV.hotels)||[]).find(e=>!!((null==e?void 0:e.addOnCategoryGroups)||[]).length),[(0,C.lh)(null==tV?void 0:tV.hotels)]),t4=!eJ&&!!(null==tV?void 0:null===(G=tV.insuranceV2)||void 0===G?void 0:G.length),t7=t5||t4,t8=2===e1,t6=!t8,ie=t7&&2===e1||!t7&&1===e1,it="SUCCESS"===tw&&!tt,ii=(0,u.useMemo)(()=>(0,K.jX)(ec,et,tV),[ec,et,(0,C.lh)(tk)]),io=(0,u.useMemo)(()=>(0,eM.mh)({prebookData:tV,addOnsFormState:tx}),[(0,C.lh)(tV),(0,C.lh)(tx)]),ia=(0,u.useMemo)(()=>(0,K.kQ)(tq,tv),[(0,C.lh)(tq),(0,C.lh)(tv)]),il=(null!==(X=null==io?void 0:io.totalFinalPrice)&&void 0!==X?X:0)+(null!==(Y=null==ia?void 0:ia.totalStrikethroughPrice)&&void 0!==Y?Y:0),ir=(null!==(Q=null==io?void 0:io.totalFinalPrice)&&void 0!==Q?Q:0)+(null!==(J=null==ia?void 0:ia.totalFinalPrice)&&void 0!==J?J:0),is=(0,u.useMemo)(()=>(0,K.s)({prebookData:tV,additionalStrikethroughPrice:il,additionalFinalPrice:ir,additionalTixPoints:0}),[il,ir,0,(0,C.lh)(tV)]),ic=(0,u.useMemo)(()=>(0,K.C2)({prebookHotelData:tJ}),[(0,C.lh)(tV)]),id=(0,u.useMemo)(()=>{let e=(0,K.u2)(t$),{bedType:t,bedTypes:i}=(null==e?void 0:e[0])||{};return eJ?(0,w.o4)({multiOrderBedTypeData:e||[]}):(0,w.XV)({bedTypeData:t,bedTypesData:i})},[eJ,(0,C.lh)(tV)]),iu={backgroundImageSrc:(null==tV?void 0:null===(B=tV.dictionaryImages)||void 0===B?void 0:B.bgBenefitBanner)||"/",iconSrc:(null==tV?void 0:null===(z=tV.dictionaryImages)||void 0===z?void 0:z.icBenefitBanner)||"/",freeProtectionLongName:(null==tV?void 0:null===(U=tV.freeProtection)||void 0===U?void 0:U.longName)||"",discountPrice:is.discountPrice},im={isLoggedIn:t3,countryCodesData:(null==tC?void 0:tC.data)||[],profileData:ea||[],data:tm},i_={prebookData:tV,profileData:ea||[],formData:tp,countryListData:(null==tC?void 0:tC.data)||[]},ip={prebookData:tV,stayDetailsFormData:tp,formData:tx,gtmData:ev},ih={dictionaryImages:tQ||{},insuranceData:tq||[],formData:tv,gtmData:ev},iv={isPayAtHotel:t9,data:ii,strikethroughPrice:is.strikethroughPrice,finalPrice:is.promoPrice},ig={isPayAtHotel:t9,isShowPhoneVerificationBanner:ie&&!!is.tixPoints&&t3&&!t2,submitButtonText:es(ie?"bookingForm.priceFooter.selectPayment":"common.continue"),bannerData:(0,j.xb)(t1)?null:{enum:(null==t1?void 0:null===(W=t1.background)||void 0===W?void 0:W.enum)||"GRADIENT_VIOLA",iconUrl:(null==t1?void 0:t1.iconUrl)||"/",subtitle:(null==t1?void 0:t1.subtitle)||"",textColor:(null==t1?void 0:t1.textColor)||"",url:(null==t1?void 0:t1.url)||"/"},localCurrencyData:(null==t0?void 0:t0.currencyData)||N.PI,strikethroughPrice:is.strikethroughPrice,finalPrice:is.promoPrice,localCurrencyPrice:null!==($=null==t0?void 0:t0.price)&&void 0!==$?$:0,tiketPoints:is.tixPoints},ix={prebookData:tV,insuranceFormState:tv,addOnsFormState:tx,isPayAtHotel:t9,localCurrencyData:(null==t0?void 0:t0.currencyData)||N.PI,strikethroughPrice:is.strikethroughPrice,finalPrice:is.promoPrice,taxAndOtherFee:is.taxAndOtherFee,localCurrencyPrice:null!==(ee=null==t0?void 0:t0.price)&&void 0!==ee?ee:0},ib=()=>{er.reload()},iy=()=>{ti(null),tn(null)},iN=()=>{iy(),2===e1&&(0,K.bQ)({router:er})},iT=()=>{window.location.href=el("/")},iE=()=>{let e=el((0,K.Hw)({prebookData:tV,startDateString:eD,hotelId:eb,nightString:eO,roomString:eB||eY.toString(),adultString:ez||eQ.toString(),childStringArr:eU||[],utmSource:eI,utmClid:eC,utmExternal:ej,utmMedium:ek}));t6&&e4(!0),e?(0,K.sb)({router:er,url:e}):(0,K.bQ)({router:er})},iI=()=>{S.Z.pushObject(R.Z.PRICE_BREAKUP({...ev})),ty(!0)},iC=async()=>{var e,t,i,o,n,a;if(!(null===(t=window)||void 0===t?void 0:null===(e=t.navigator)||void 0===e?void 0:e.onLine)){ti("NO_INTERNET");return}let l={contactPerson:{...tm,id:"",countryId:(null==tV?void 0:null===(a=tV.hotels)||void 0===a?void 0:null===(n=a[0])||void 0===n?void 0:null===(o=n.detail)||void 0===o?void 0:null===(i=o.country)||void 0===i?void 0:i.id)||""},insurances:[],insurancesCredential:[],hotel:[],crossSellingSource:null,traveller:null,previousOrderId:0,submitTimestamp:0,b2bInterimPageData:null};((null==tV?void 0:tV.hotels)||[]).forEach(e=>{var t,i,o,n;let a=(null==e?void 0:null===(t=e.detail)||void 0===t?void 0:t.hotelId)||"-",r=(0,E.jK)(null!==(o=null==e?void 0:e.startDate)&&void 0!==o?o:new Date,N.zT.backend),s=null!==(n=null==e?void 0:e.night)&&void 0!==n?n:0,c=tp[a],d={hotelId:a,books:[]};((null==e?void 0:null===(i=e.detail)||void 0===i?void 0:i.rooms)||[]).forEach(e=>{let t=(null==e?void 0:e.cartId)||"",{guestData:i,preferenceData:o}=c.find(e=>(null==e?void 0:e.cartId)===t)||{},{addOnItemList:n,addOnRoomList:a}=tx.reduce((e,i)=>{let o=(0,j.Xh)(e),n=i||{},a="item"===((null==i?void 0:i.type)||"").toLowerCase();return n.cartId===t&&(a?o.addOnItemList.push(i):o.addOnRoomList.push(i)),o},{addOnItemList:[],addOnRoomList:[]});d.books.push({...o||{},cartId:t,bookingAddOnRequests:n.length>0?(0,eM.S0)({selectedAddOnItems:n,checkinDate:r,nightAmount:s}):[],childAges:eX,rooms:(i||[]).map((e,t)=>({guestDetail:{profileId:(null==e?void 0:e.profileId)||"",title:null==e?void 0:e.title,fullName:(null==e?void 0:e.fullName)||"",nationalityCode:(null==e?void 0:e.nationalityCode)||N.V3},nights:a.length>0?(0,eM.S0)({selectedAddOnItems:a,roomIdx:t,checkinDate:r,nightAmount:s}):[]}))})}),l.hotel.push(d)});let r=null==tV?void 0:tV.freeProtection;if(r){let e=null==r?void 0:r.productCode,t=null==r?void 0:r.credentialCode;l.insurances.push(e),l.insurancesCredential.push(t)}let{insuranceIds:s,insuranceCreds:c}=(tv||[]).reduce((e,t)=>{if(!t)return e;let{productCode:i,credentialCode:o}=(0,K.u1)(t);if(i||o){let t=(0,j.Xh)(e);return i&&t.insuranceIds.push(i),o&&t.insuranceCreds.push(o),t}return e},{insuranceIds:[],insuranceCreds:[]});if(l.insurances.push(...s),l.insurancesCredential.push(...c),l.submitTimestamp=Date.now(),iy(),tB){tI(l),tT(!0);return}await iD(l)},ij=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";e?window.location.href=el((0,K._K)({orderId:e,orderHash:t,isDesktop:ec})):iy()},ik=()=>{window.location.href=el((0,k.DZ)(!0))},iP=e=>{e&&tu(),iT()},iD=async e=>{let t=await tP(e);if("SUCCESS"!==t.code)["CURRENCY_NOT_ALLOWED","USER_CURRENCY_INVALID"].includes(t.code||"")?td():Number(t.status)>=500&&599>=Number(t.status)||"INTERNAL_SERVER_ERROR"===t.code?ti("SERVER_ERROR"):ti("GENERAL_ERROR");else if(t.data){var i,o,n,a;S.Z.pushGTM({orderId:(null===(i=t.data)||void 0===i?void 0:i.orderId)||"",email:null==tm?void 0:tm.email}),S.Z.pushGTMGlobal({orderId:null===(o=t.data)||void 0===o?void 0:o.orderId});let e=((null===(a=t.data)||void 0===a?void 0:null===(n=a.popup)||void 0===n?void 0:n.type)||"").toUpperCase();e?ti(e):(tN&&tT(!1),ep([]),ij(String(t.data.orderId),t.data.orderHash))}};(0,u.useEffect)(()=>{S.Z.pushGTMGlobal({vertical:"nha"===et?"nha":"hotel"}),eu&&S.Z.pushGTM(eu),ed()},[]),(0,u.useEffect)(()=>{S.Z.pushGTMGlobal({bookingFormCommonProperties:{isMultiRoom:eJ,activePageNumber:e1,isLoggedIn:t3}})},[e1]),(0,u.useEffect)(()=>{var e,t;if((0,j.xb)(tk))return;let i=null===(t=window)||void 0===t?void 0:null===(e=t.navigator)||void 0===e?void 0:e.onLine,o=(0,K.Ae)(i,tU,tj,tz);if(!(0,j.xb)(tV)){let e=iz({prebookData:tV,isSalutationEnabled:tK});t_((0,K.uv)(tS)),th(()=>{if(!(0,j.xb)(tS)){var t,i,o;(null===(o=e[eb])||void 0===o?void 0:null===(i=o[0])||void 0===i?void 0:null===(t=i.guestData)||void 0===t?void 0:t[0])&&(e[eb][0].guestData[0]=(0,K.$V)({profileObj:tS,isSalutationEnabled:tK}))}return e}),t4&&tg((0,K.Ax)(tq))}(null==tW?void 0:tW.type)&&(o=tW.type),tn(o)},[(0,C.lh)(tk)]),(0,u.useEffect)(()=>{let e=er.asPath||"/",{path:t,queryString:i}=(0,k.$j)(e);if(1===eK&&e1!==eK)e3(eK),(0,K.hz)();else if(1!==eK&&t6){let e=!!ew,o=i&&e?i.replace(new RegExp("(\\?|&)*".concat(N.Tx.BOOKING_FORM.PAGE,"=").concat(eK)),""):i;(0,K.sb)({router:er,url:t,as:el("".concat(t).concat(o?"?".concat(o):""))})}},[eK]),(0,u.useEffect)(()=>{if(!e5&&!tj&&!tO&&!to&&!tt&&e$){if(!tl&&er.asPath.includes(eH.ai)){var e,t,i;(0,K.sb)({router:er,url:null!==(i=null===(t=er.asPath)||void 0===t?void 0:null===(e=t.split(eH.ai))||void 0===e?void 0:e[0])&&void 0!==i?i:""})}return er.beforePopState(()=>t6&&!er.asPath.includes(eH.ai)?(setTimeout(()=>{let e=er.asPath||"/";(0,K.J5)({router:er,url:"".concat(e).concat(eH.ai)})},0),tr(),!1):(setTimeout(()=>{(0,K.hz)()},30),!0)),()=>{er.beforePopState(()=>!0)}}},[e1,tj,tO,to,tt,tl,er,tr]),(0,u.useEffect)(()=>{ta(Date.now())},[er.asPath]);let iO={BACK_TO_BF_FIRST_PAGE:()=>{iN()},NAVIGATE_HOMEPAGE:()=>{iT()},NAVIGATE_PREV_PAGE:()=>{iE()},NAVIGATE_PAYMENT_PAGE:()=>{var e,t;ij(String(null==tD?void 0:null===(e=tD.data)||void 0===e?void 0:e.orderId),null==tD?void 0:null===(t=tD.data)||void 0===t?void 0:t.orderHash)},NAVIGATE_LOGIN_PAGE:()=>{ik()},REFETCH_BOOK:()=>{iC()},REFRESH:()=>{ib()},NONE:()=>{iy()}};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(c(),{children:(0,o.jsx)("link",{rel:"preload",as:"image",href:T.y.NO_INTERNET})}),(0,o.jsx)(f.Z,{}),(0,o.jsxs)("div",{"data-testid":"booking-form-container",className:a()(i6().booking_form,{[i6().mobile_second_page]:!ec&&t8,[i6().is_pay_at_hotel]:t9,[i6().has_footer_banner]:!!ig.bannerData}),style:tN?{display:"none"}:{},children:[(0,o.jsx)(y.j,{device:ei,title:es("meta.bookingForm.title"),description:es(tA?"meta.bookingForm.hotelDescription":"meta.bookingForm.homesDescription"),isResponsive:!0,isCrawlingDisabled:!0}),(e5||tj||tO||it)&&(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(m.B,{title:es("bookingForm.relaxAndTakeABreath"),description:es("bookingForm.weAreProcessingYourBooking")})}),e$&&!e5&&!tj&&(0,j.xb)(to)&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(eA,{isDesktop:ec,isStepperShown:t7,activePageNumber:e1,onMobileBackButtonClick:()=>{(0,K.bQ)({router:er})}}),t6&&(0,o.jsx)(V,{className:i6().benefit_banner,currencyData:tY,backgroundImageSrc:iu.backgroundImageSrc,iconSrc:iu.iconSrc,discountPrice:iu.discountPrice,freeProtectionLongName:iu.freeProtectionLongName}),(0,o.jsxs)(_.W,{className:i6().content,children:[(0,o.jsxs)("div",{className:i6().form_container,children:[t6&&(0,o.jsxs)(o.Fragment,{children:[!t3&&(0,o.jsx)(eL,{className:i6().login_banner,isDesktop:ec,onClick:ik}),(0,o.jsx)(eE,{className:i6().contact_detail,isDesktop:ec,isLoggedIn:im.isLoggedIn,countryCodesData:im.countryCodesData,profileData:im.profileData,data:im.data,setData:t_,formHandlerEmitterRef:eg}),(0,o.jsx)(iZ,{rootClassName:i6().stay_details,sectionItemClassName:i6().stay_details_section_item,isDesktop:ec,productType:et,profileData:i_.profileData,prebookData:i_.prebookData,formData:i_.formData,setFormData:th,formHandlerEmitterRef:ex,countryListData:i_.countryListData,isSalutationEnabled:tK}),(0,o.jsx)(iq,{className:i6().surcharge_information,isDesktop:ec,isMultiOrderEnabled:eJ,surchargeInformationData:ic||[]})]}),t8&&(0,o.jsxs)(o.Fragment,{children:[t5&&(0,o.jsx)(oe,{rootClassName:i6().addons,chipsCarouselContainerClassName:i6().addon_chips_carousel_container,chipsClassName:i6().addon_chips,listContainerClassName:i6().addon_list_container,isDesktop:ec,productType:et,prebookData:ip.prebookData,stayDetailsFormData:ip.stayDetailsFormData,formData:ip.formData,gtmData:ip.gtmData,setFormData:tb}),!ec&&t5&&t4&&(0,o.jsx)(p.i,{className:i6().section_divider,variant:"bold"}),t4&&(0,o.jsx)(oi,{className:i6().insurance,isDesktop:ec,currencyData:tY,dictionaryImages:ih.dictionaryImages,insuranceData:ih.insuranceData,formData:ih.formData,gtmData:ih.gtmData,setFormData:tg})]}),(0,o.jsx)(eZ,{className:i6().price_footer,isDesktop:ec,isPayAtHotel:ig.isPayAtHotel,isShowPhoneVerificationBanner:ig.isShowPhoneVerificationBanner,submitButtonText:ig.submitButtonText,bannerData:ig.bannerData,currencyData:tY,localCurrencyData:ig.localCurrencyData,strikethroughPrice:ig.strikethroughPrice,finalPrice:ig.finalPrice,localCurrencyPrice:ig.localCurrencyPrice,tiketPoints:ig.tiketPoints,onFinalPriceClick:iI,onButtonClick:()=>{var e,t,i,o;let n=null==eg?void 0:null===(t=eg.current)||void 0===t?void 0:null===(e=t.onValidateAll)||void 0===e?void 0:e.call(t),a=null==ex?void 0:null===(o=ex.current)||void 0===o?void 0:null===(i=o.onValidateAll)||void 0===i?void 0:i.call(o);if(ie&&n&&a){let e=er.query[N.Tx.BOOKING_FORM.SHOW_LOGIN_NUDGES],t=er.query[N.Tx.BOOKING_FORM.ALLOW_TO_DISPLAY_LOGIN_PRICE];S.Z.pushObject(R.Z.SELECT_PAYMENT({...ev,bedType:id.bedType,totalBedRoom:id.totalBedRoom,showLoginPriceNudges:"string"==typeof e?e:"notSet",allowToDisplayLoginPrice:"string"==typeof t?t:"notSet"})),iC()}else if(t6&&n&&a){let e=er.asPath||"/",{path:t,queryString:i}=(0,k.$j)(e),o=i&&ew?i.replace("".concat(N.Tx.BOOKING_FORM.PAGE,"=").concat(e1),"".concat(N.Tx.BOOKING_FORM.PAGE,"=2")):"".concat(i,"&").concat(N.Tx.BOOKING_FORM.PAGE,"=2");S.Z.pushObject(R.Z.CONTINUE({...ev,bedType:id.bedType,totalBedRoom:id.totalBedRoom})),e3(2),e9(!0),(0,K.J5)({router:er,url:el("".concat(t,"?").concat(o))})}}})]}),ec&&(0,o.jsx)("div",{className:i6().summary_container,children:(0,o.jsx)(q,{isPayAtHotel:iv.isPayAtHotel,data:iv.data,currencyData:tY,strikethroughPrice:iv.strikethroughPrice,finalPrice:iv.finalPrice,onFinalPriceClick:iI})})]})]})]}),(0,o.jsx)(h.V,{isOpen:tl,image:(0,o.jsx)(b.E,{src:T.y.MULTI_ORDER_CONFIRMATION_PROMPT,alt:"booking-form-back-prompt-illustration",style:{objectFit:"contain"},width:ec?eH.X4.DESKTOP.WIDTH:eH.X4.MOBILE.WIDTH,height:ec?eH.X4.DESKTOP.HEIGHT:eH.X4.MOBILE.HEIGHT}),title:es("bookingForm.dialogBackPrompt.title"),description:es("bookingForm.dialogBackPrompt.description"),primaryButtonText:es("bookingForm.dialogBackPrompt.primaryButtonText"),secondaryButtonText:es("bookingForm.dialogBackPrompt.secondaryButtonText"),onPrimaryButtonClick:()=>{ts()},onSecondaryButtonClick:()=>{ts(),iE()}}),(0,o.jsx)(eG,{isDesktop:ec,isOpen:!!to&&!e5,popupData:tZ,popupHandlerMappingData:iO,additionalGTMProperties:tX}),(0,o.jsx)(x.Z,{title:es("roomDetails.priceDetail.title"),isDesktop:ec,isOpen:tf,modalProps:{paddingVariant:"noPadding"},bottomSheetProps:{variant:"noPadding"},onClose:()=>ty(!1),children:(0,o.jsx)(oo,{productType:et,prebookData:ix.prebookData,addOnsFormState:ix.addOnsFormState,insuranceFormState:ix.insuranceFormState,isPayAtHotel:ix.isPayAtHotel,localCurrencyData:ix.localCurrencyData,strikethroughPrice:ix.strikethroughPrice,finalPrice:ix.finalPrice,taxAndOtherFee:ix.taxAndOtherFee,localCurrencyPrice:ix.localCurrencyPrice})}),(0,o.jsx)(eG,{isDesktop:ec,isOpen:!!tt&&!e5,popupData:tH,popupHandlerMappingData:iO,additionalGTMProperties:tG}),(0,o.jsx)(h.V,{portalId:"missing-data-dialog-root",isOpen:!e$&&!e5&&(0,j.xb)(tD),image:(0,o.jsx)(b.E,{src:T.y.REJECT_OR_FAILED,alt:"booking-form-missing-data-prompt-illustration",style:{objectFit:"contain"},width:ec?eH.X4.DESKTOP.WIDTH:eH.X4.MOBILE.WIDTH,height:ec?eH.X4.DESKTOP.HEIGHT:eH.X4.MOBILE.HEIGHT}),title:es("bookingForm.dialogMissingData.title"),description:es("bookingForm.dialogMissingData.description"),primaryButtonText:es("bookingForm.dialogMissingData.primaryButtonText"),onPrimaryButtonClick:()=>{let e=tA?N.XV:N.uB;e4(!0),(0,K.J5)({router:er,url:el(e)})}}),(0,o.jsx)(v.l,{isOpen:tc,isLogin:t3,onChangeCurrency:()=>{iP(!0)},onClose:()=>{iP(!1)},isMultiCurrencyAvailable:!0}),tN&&(0,o.jsx)(ot,{payload:tF,onSuccess:e=>{tE&&iD({...tE,...e?{b2bInterimPageData:e}:{}})},onClickBack:()=>{tT(!1),tI(null)}})]})}},22794:function(e){e.exports={navigation_bar:"NavigationBar_navigation_bar__3XmGr",nav_button:"NavigationBar_nav_button__Msei5",title:"NavigationBar_title__hEFkc"}},20487:function(e){e.exports={room_image:"RoomImage_room_image__uWfyQ"}},68385:function(e){e.exports={benefit_banner_wrapper:"BenefitBanner_benefit_banner_wrapper__qgVEP",icon_wrapper:"BenefitBanner_icon_wrapper__USUX_",description_wrapper:"BenefitBanner_description_wrapper__UjAMy"}},63620:function(e){e.exports={bedroom_type_container:"BedroomTypeContent_bedroom_type_container__aZqqK",icon_wrapper:"BedroomTypeContent_icon_wrapper__yOKsr",bedroom_type_list:"BedroomTypeContent_bedroom_type_list__lMz8l",bedroom_label_text:"BedroomTypeContent_bedroom_label_text__jwPtQ"}},28129:function(e){e.exports={title:"AdditionalInfo_title__KZnN_",list:"AdditionalInfo_list__mTZCo",list_item:"AdditionalInfo_list_item__XaW5y",capitalized:"AdditionalInfo_capitalized__swhMb",feature_list:"AdditionalInfo_feature_list__42RKY"}},85874:function(e){e.exports={cancellation_policy:"CancellationPolicyPopup_cancellation_policy__470hj",policy:"CancellationPolicyPopup_policy__ozlcF",covid_info:"CancellationPolicyPopup_covid_info__tnyWA",check_in_procedure:"CancellationPolicyPopup_check_in_procedure__4Sikt",children:"CancellationPolicyPopup_children__WyGkS",more_policy:"CancellationPolicyPopup_more_policy__cTxue",title:"CancellationPolicyPopup_title__O5Hfl",subtitle:"CancellationPolicyPopup_subtitle__Y095Y",description:"CancellationPolicyPopup_description__w4faF",check_in_procedure_content:"CancellationPolicyPopup_check_in_procedure_content__birxt",item:"CancellationPolicyPopup_item__hgwd1"}},6325:function(e){e.exports={title:"CancellationPolicy_title__jc_Fq",additional_info:"CancellationPolicy_additional_info__0SdpX",cancellation_policies:"CancellationPolicy_cancellation_policies__VJue4",icon_wrapper:"CancellationPolicy_icon_wrapper__Nq5Bx",icon_policy:"CancellationPolicy_icon_policy__XTrzo",green:"CancellationPolicy_green__Bklhu",description_text:"CancellationPolicy_description_text__P7tkF"}},236:function(e){e.exports={cancellation_stay_policy_container:"CancellationStayPolicies_cancellation_stay_policy_container__rNta5",title_text:"CancellationStayPolicies_title_text__EA9nt",see_all_button:"CancellationStayPolicies_see_all_button__aO_nu",misc_policy_item_container:"CancellationStayPolicies_misc_policy_item_container__0sYs_",subtitle_text:"CancellationStayPolicies_subtitle_text__HCuFC"}},20571:function(e){e.exports={facility_list:"FacilityList_facility_list__orkiv",row_icon_text:"FacilityList_row_icon_text__IfAar",row_icon_wrapper:"FacilityList_row_icon_wrapper__1Zomk"}},25862:function(e){e.exports={title:"FacilityInfo_title__xNyKO"}},94744:function(e){e.exports={image_gallery:"ImageGallery_image_gallery__kq5UD",carousel_wrapper:"ImageGallery_carousel_wrapper___qA1g",slider_wrapper:"ImageGallery_slider_wrapper__Ymr33",slider_wrapper_singular:"ImageGallery_slider_wrapper_singular__DHWw8",slider_wrapper_pair:"ImageGallery_slider_wrapper_pair__RJ6fG",slider_wrapper_several:"ImageGallery_slider_wrapper_several__5ZwHz",slide_wrapper:"ImageGallery_slide_wrapper__D7XbG",image_error:"ImageGallery_image_error__ZIXdT"}},80103:function(e){e.exports={pay_at_hotel:"PayAtHotel_pay_at_hotel__SG5CX"}},88976:function(e){e.exports={title:"ReservationInfo_title__MLatq",subtitle_container:"ReservationInfo_subtitle_container__jceBb",hotel_star_rating_container:"ReservationInfo_hotel_star_rating_container__rKVsD",subtitle_circle_separator:"ReservationInfo_subtitle_circle_separator__uLIWK",subtitle:"ReservationInfo_subtitle__N_cSZ",date_info:"ReservationInfo_date_info__oX5F_",date_info_item:"ReservationInfo_date_info_item__6Pdw_",date_info_title:"ReservationInfo_date_info_title__nTgAB"}},33959:function(e){e.exports={section_wrapper:"BookingDetail_section_wrapper__fzMTa"}},8448:function(e){e.exports={booking_detail_card:"BookingSummary_booking_detail_card__9W3Zq",header:"BookingSummary_header__BTzYx",main_image:"BookingSummary_main_image__nISqp",main_image_wrapper:"BookingSummary_main_image_wrapper__9b_FM",hotel_name:"BookingSummary_hotel_name__Fl9GH",header_divider:"BookingSummary_header_divider__71xQM",nights:"BookingSummary_nights__OXynT",section_divider:"BookingSummary_section_divider__8bbeX",pay_at_hotel_container:"BookingSummary_pay_at_hotel_container__kGUFt",pay_at_hotel_price_detail:"BookingSummary_pay_at_hotel_price_detail__4AAL_",pay_at_hotel_price:"BookingSummary_pay_at_hotel_price__Lzmah",pay_at_hotel_divider:"BookingSummary_pay_at_hotel_divider__UcGmE",total_price_container:"BookingSummary_total_price_container__1EawC",total_price:"BookingSummary_total_price__WYNks",pay_now_crossed_price:"BookingSummary_pay_now_crossed_price__fVdgA",crossed_price:"BookingSummary_crossed_price__yYiBH"}},80532:function(e){e.exports={form_container:"Form_form_container__C3_R6",email_text_input:"Form_email_text_input__diiAI",radio:"Form_radio__ySLa4",smart_contact_popover:"Form_smart_contact_popover__LMC9v"}},73014:function(e){e.exports={form:"PopupInputMobile_form__m1aWh",button_save:"PopupInputMobile_button_save__kCymm"}},5290:function(e){e.exports={contact_detail_title_mobile:"ContactDetail_contact_detail_title_mobile__DI3iY",contact_detail_card:"ContactDetail_contact_detail_card__tC9Yv",contact_detail_description_desktop:"ContactDetail_contact_detail_description_desktop__ZyTMB"}},79496:function(e){e.exports={header_mobile:"Header_header_mobile__pUW_o",stepper_outer_wrapper:"Header_stepper_outer_wrapper__FUKUZ",stepper_inner_wrapper:"Header_stepper_inner_wrapper__24GOh",stepper:"Header_stepper__wgC4X"}},67138:function(e){e.exports={login_banner_wrapper:"LoginBanner_login_banner_wrapper__6xjij",login_banner:"LoginBanner_login_banner__UlnR1"}},16886:function(e){e.exports={form_item:"FormItem_form_item__c8Bqf",form_item_header:"FormItem_form_item_header__CSin2",form_item_content:"FormItem_form_item_content__qYBrl",radio_input_container:"FormItem_radio_input_container__EKVqq",radio_input:"FormItem_radio_input__nbOfk",radio_group_error_text:"FormItem_radio_group_error_text__b_rDV",text_input_container:"FormItem_text_input_container__VZD5I",smart_contact_popover:"FormItem_smart_contact_popover__AfYy_",nationality_field_wrapper:"FormItem_nationality_field_wrapper__n5AQ3"}},48387:function(e){e.exports={container:"PopupGuestDetailsForm_container__739Gu",bottom_sheet_sticky_footer:"PopupGuestDetailsForm_bottom_sheet_sticky_footer__ECHFz",form_header:"PopupGuestDetailsForm_form_header__J2F3s",form_item:"PopupGuestDetailsForm_form_item__drZdh",tab_panel_inner_container:"PopupGuestDetailsForm_tab_panel_inner_container__uqgyw",tab_list:"PopupGuestDetailsForm_tab_list___uJo2",form_container:"PopupGuestDetailsForm_form_container__uGs_L"}},26136:function(e){e.exports={price_footer_container:"PriceFooter_price_footer_container__8zg6U",gradient_banner_container:"PriceFooter_gradient_banner_container__54Dh2",icon_wrapper:"PriceFooter_icon_wrapper__hONdf",gradient_banner_text:"PriceFooter_gradient_banner_text__4GUqf",price_footer_inner_container:"PriceFooter_price_footer_inner_container__tf9bN",strikethrough_price_text:"PriceFooter_strikethrough_price_text__xeYTF",final_price_text:"PriceFooter_final_price_text__7PO0S",content:"PriceFooter_content__ZpVgm",info_container:"PriceFooter_info_container__JFPuS",price_label:"PriceFooter_price_label__CDshS",final_price_container:"PriceFooter_final_price_container__Xk7sb",action_container:"PriceFooter_action_container__r_8Ua",points_container:"PriceFooter_points_container__c34wj",special_content:"PriceFooter_special_content__y0acF",special_content_item:"PriceFooter_special_content_item__QLWmC",label_wrapper:"PriceFooter_label_wrapper__LCHk0",label_text:"PriceFooter_label_text__N4ZOF",value_wrapper:"PriceFooter_value_wrapper__81CiE",pay_at_hotel:"PriceFooter_pay_at_hotel__e7s5o"}},85165:function(e){e.exports={smart_contact:"SmartContact_smart_contact__FXFag",contact_item:"SmartContact_contact_item__tErRg"}},57406:function(e){e.exports={form_heading:"FormHeading_form_heading__3NdXX",image_wrapper:"FormHeading_image_wrapper__qAX5z",label_container:"FormHeading_label_container__OYl__",title_text:"FormHeading_title_text___ZyA9",subtitle_text:"FormHeading_subtitle_text__Pd1JH",date:"FormHeading_date___YarP"}},67099:function(e){e.exports={form_item_container:"FormItem_form_item_container__9Y4wf",divider:"FormItem_divider___PJ2L",room_guest_row:"FormItem_room_guest_row__1fCTt",room_number_text:"FormItem_room_number_text__cdJIR",guest_name_text:"FormItem_guest_name_text__iQXqX",special_request_text:"FormItem_special_request_text__RhT8A",filled:"FormItem_filled__Cw8gQ"}},52501:function(e){e.exports={form_subheading:"FormSubheading_form_subheading__Qby2z",heading_container:"FormSubheading_heading_container__D7F3k",title_text:"FormSubheading_title_text__WQXon",subtitle_text:"FormSubheading_subtitle_text__tNH2x",facility_list_container:"FormSubheading_facility_list_container__nBVoq",list_item:"FormSubheading_list_item__P98p2",icon_wrapper:"FormSubheading_icon_wrapper__rpGmU",label_text:"FormSubheading_label_text__FTmpL",bedroom_type_loader_list:"FormSubheading_bedroom_type_loader_list__34nS8",bedroom_type_loader_item:"FormSubheading_bedroom_type_loader_item__aKrx_"}},35859:function(e){e.exports={bedroom_type_container:"BedroomTypeContent_bedroom_type_container___VNOL",icon_wrapper:"BedroomTypeContent_icon_wrapper__M_I16",bedroom_type_list:"BedroomTypeContent_bedroom_type_list__wsjh4",text_truncated_single_row:"BedroomTypeContent_text_truncated_single_row__p_4CD",text_truncated_multi_row:"BedroomTypeContent_text_truncated_multi_row__3GVZW"}},78817:function(e){e.exports={form_desktop:"FormDesktop_form_desktop__a8vMd",input_date_container:"FormDesktop_input_date_container__Ps1rO",input_hour_container:"FormDesktop_input_hour_container___tpUI",input_minute_container:"FormDesktop_input_minute_container___1SIo",text_date_value:"FormDesktop_text_date_value__Ii_GY",input_time_container:"FormDesktop_input_time_container__EoKGx",time_input:"FormDesktop_time_input__ifoZv",time_divider:"FormDesktop_time_divider__ehg_q",button_navigation:"FormDesktop_button_navigation__Z2Iu4",action_container:"FormDesktop_action_container__Sg4yD",button_reset:"FormDesktop_button_reset__nS_kx"}},67206:function(e){e.exports={picker_indicator:"FormMobile_picker_indicator__zlzH0",picker_wrapper:"FormMobile_picker_wrapper__l2k0f",label_container:"FormMobile_label_container__515aT",multi_picker:"FormMobile_multi_picker__98Hma",date_label:"FormMobile_date_label__8QyI7",date_picker:"FormMobile_date_picker__syVdn",hour_label:"FormMobile_hour_label__YaqYI",hour_picker:"FormMobile_hour_picker__o_SRw",minute_label:"FormMobile_minute_label__EQ2tn",minute_picker:"FormMobile_minute_picker__Dgxqt"}},36269:function(e){e.exports={bottom_sheet_sticky_footer:"PopupDateSelect_bottom_sheet_sticky_footer__jlbj8",form_container:"PopupDateSelect_form_container__tL5r8",form_list_container:"PopupDateSelect_form_list_container__TtYyS",list_item:"PopupDateSelect_list_item__h1lVn",form_mobile:"PopupDateSelect_form_mobile__a4_Aa",form_desktop:"PopupDateSelect_form_desktop__dcFcs"}},46493:function(e){e.exports={bottom_sheet_sticky_footer:"PopupDropdownList_bottom_sheet_sticky_footer__Q4Vfh",form_container:"PopupDropdownList_form_container__ETJ9v",form_list_container:"PopupDropdownList_form_list_container__ZPuKc",list_item:"PopupDropdownList_list_item__dbRPw"}},69204:function(e){e.exports={bottom_sheet_sticky_footer:"PopupSpecialRequestForm_bottom_sheet_sticky_footer__tmDRC",form_container:"PopupSpecialRequestForm_form_container__gjT2e",form_heading:"PopupSpecialRequestForm_form_heading__A8c8_",heading_description:"PopupSpecialRequestForm_heading_description__yGxUa",form_chips_container:"PopupSpecialRequestForm_form_chips_container__GHSJa",form_chips_item:"PopupSpecialRequestForm_form_chips_item___uOQv",form_additional_note_wrapper:"PopupSpecialRequestForm_form_additional_note_wrapper__k4D0Z",action_container:"PopupSpecialRequestForm_action_container__8YLnt"}},1420:function(e){e.exports={stay_details:"StayDetails_stay_details__IHkKf",section_item:"StayDetails_section_item__vQ7yL",heading:"StayDetails_heading__HUwLf",heading_description:"StayDetails_heading_description__oKcy0",content:"StayDetails_content__VGvX3",form_heading:"StayDetails_form_heading__ITOT4",form_subheading:"StayDetails_form_subheading__i3vr6",form_item:"StayDetails_form_item__0AHyw",no_top_padding:"StayDetails_no_top_padding__SQRfU"}},2271:function(e){e.exports={stepper_container:"Stepper_stepper_container__x8wXb",stepper_item:"Stepper_stepper_item__CxL68",bullet:"Stepper_bullet__76vNd",completed:"Stepper_completed__anSL0",active:"Stepper_active__p63rl",label:"Stepper_label__RYVq_",divider:"Stepper_divider__YssMO",blue:"Stepper_blue__vT5wA"}},16411:function(e){e.exports={surcharge_info_per_room_list_container:"PopupInformation_surcharge_info_per_room_list_container__OrS6v",room_type_name:"PopupInformation_room_type_name__Sg_MY",divider:"PopupInformation_divider__fpXiT"}},6291:function(e){e.exports={booking_form:"main_booking_form__nwbVq",mobile_second_page:"main_mobile_second_page__om1kR",benefit_banner:"main_benefit_banner__u1hGz",content:"main_content__an1U3",form_container:"main_form_container__8W9Xo",summary_container:"main_summary_container__J26SB",login_banner:"main_login_banner__UKvKw",contact_detail:"main_contact_detail__S6k_Z",stay_details:"main_stay_details__AYa87",addons:"main_addons__ppsCQ",insurance:"main_insurance__zBX_J",section_divider:"main_section_divider__F71RZ",stay_details_section_item:"main_stay_details_section_item__4qJOL",addon_chips_carousel_container:"main_addon_chips_carousel_container__jyYHR",addon_chips:"main_addon_chips__QZnRn",is_pay_at_hotel:"main_is_pay_at_hotel__FtSKq",has_footer_banner:"main_has_footer_banner__botCN",addon_list_container:"main_addon_list_container__5zQJF",price_footer:"main_price_footer__bQubR",surcharge_information:"main_surcharge_information__99rXG"}}}]);