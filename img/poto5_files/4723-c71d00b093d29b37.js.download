(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4723],{26572:function(e){e.exports={wrapper:"CurrencyListSelection_wrapper__RKje8",header:"CurrencyListSelection_header__tc_QQ",list:"CurrencyListSelection_list____Ofd",disabled_currency:"CurrencyListSelection_disabled_currency__6CCc7",title_section:"CurrencyListSelection_title_section__hBsXr",left:"CurrencyListSelection_left___uRPp",list_currency_info:"CurrencyListSelection_list_currency_info__oDl7s",inactive_currency_info:"CurrencyListSelection_inactive_currency_info__Llz7V",custom_button:"CurrencyListSelection_custom_button__NRBpI",currency_info:"CurrencyListSelection_currency_info__c5pFK"}},34786:function(e){e.exports={error_container:"Error_error_container__ybDf7"}},24150:function(e){e.exports={loading_container:"Loading_loading_container__9d5RF"}},2537:function(e){e.exports={error_view:"ErrorView_error_view__zzH2k",image_container:"ErrorView_image_container__dFTHi",image:"ErrorView_image__FDSH5",content:"ErrorView_content___3966",description:"ErrorView_description__TsTi5",actions:"ErrorView_actions__oW6o_",btn_group:"ErrorView_btn_group__cRO7k",btn:"ErrorView_btn__t6TRW",error_view_container:"ErrorView_error_view_container__7L1sp",error_view_container_inline:"ErrorView_error_view_container_inline__qOiul"}},84723:function(e,n,r){"use strict";r.d(n,{l:function(){return ei}});var t,i,a=r(11527),c=r(48663),s=r(58322),o=r(50959),l=r(82187),u=r(91538),d=r(43576),y=r(9779),g=r(15615),m=r(23245),_=r(92816),h=r(67030),C=r(19443),p=r(67480),w=r(26572);let f={en:"Currency Options",id:"Pilihan Mata Uang"},b={en:"Check the important info about your selected currency. ",id:"Cek info penting terkait mata uang yang kamu pilih. "},v={en:"Read now!",id:"Baca sekarang, yuk!"},k={en:"Search currency",id:"Cari mata uang"},x={en:" is deactivated. You can change to another currency or use the default currency (IDR).",id:" sedang dinonaktifkan. Ganti ke mata uang lain atau gunakan pilihan bawaan (IDR)."},j={en:"We canâ€™t find the currency youâ€™re looking for",id:"Mata uang yang kamu cari nggak ketemu, nih"},I={en:"Make sure the currency or the country name is written correctly.",id:"Pastikan penulisan mata uang atau negaranya udah tepat, ya."},S={en:"Recommended Currencies",id:"Rekomendasi Mata Uang"},E={en:"Other Currencies",id:"Mata Uang Lainnya"},R={en:"Currency Info",id:"Informasi Penting"},T={en:"Sorry, there was a problem when selecting the currency. Please try again.",id:"Maaf ya, ada sedikit gangguan saat memilih mata uang. Coba lagi, yuk!"},L={en:"Retry",id:"Coba lagi"},N={en:[{code:"IDR",title:"Indonesian Rupiah",userIsActive:!0}],id:[{code:"IDR",title:"Rupiah Indonesia",userIsActive:!0}]},O="NOT_FOUND",M=(e,n)=>{let[r,t]=(0,o.useState)(e);return(0,o.useEffect)(()=>{let r=setTimeout(()=>t(e),n||500);return()=>{clearTimeout(r)}},[e,n]),r};(t=i||(i={})).CLICK="click",t.VIEW="view";let A={pushObject:e=>{window&&(window.dataLayer=window.dataLayer||[],window.dataLayer?.push(e))}},D=({dataLayer:e})=>{let n={...e};return{clickCurrency:({language:e,currency:r,dataLayerProp:t})=>{A.pushObject({...n,event:i.CLICK,eventCategory:"memberSetting",action:"submit",currency:r,language:e,slug:window?.location?.pathname,...t})},clickCurrencyInfoGtm:()=>{A.pushObject({...n,event:i.CLICK,eventCategory:"memberSetting",eventLabel:"currencyInfo",slug:window?.location?.pathname})},viewCurrencyWarningGtm:()=>{A.pushObject({...n,event:i.VIEW,eventCategory:"memberSetting",eventLabel:"currencyWarning",slug:window?.location?.pathname})}}},P=({src:e,alt:n})=>(0,a.jsx)("img",{src:e,alt:n,loading:"lazy"});var B=(0,o.memo)(({currency:e,dataLayer:n,disabledCurrency:r,imageRenderer:t=P,otherCurrencies:i=[],shouldDisableMultiCurrency:f,suggestedCurrencies:T=[],tickers:L,onChangeCurrency:O})=>{let{locale:A}=(0,s.tM)(),B=D({dataLayer:n}),[z,U]=(0,o.useState)(!1),[V,X]=(0,o.useState)(""),K=M(V),W=(0,o.useCallback)(e=>{X(e.target.value)},[]),$=(0,o.useCallback)(()=>{X("")},[]),G=e=>{B.clickCurrency({language:A.toUpperCase(),currency:e,dataLayerProp:n}),O?.(e)},F=(0,o.useCallback)(()=>{U(!1)},[]),Y=(0,o.useCallback)(e=>{let n=K.toLowerCase(),r=e?.title?.toLowerCase()??"";return(e?.code?.toLowerCase()??"").indexOf(n)>-1||r.indexOf(n)>-1},[K]),H=(0,o.useCallback)((e,n)=>{let r=!1===e.userIsActive;return(0,a.jsx)(g.Y,{block:!0,name:e.code,radioPosition:"right",value:e?.code??"",wrapperProps:{className:l({[w.disabled_currency]:r})},disabled:r,children:(0,a.jsxs)("div",{className:w.list,children:[(0,a.jsx)("div",{className:w.left,children:(0,a.jsx)(h.x,{size:"b2",variant:r?"disabled":"activity",weight:"bold",children:e.code})}),(0,a.jsx)(h.x,{size:"b2",variant:r?"disabled":"highEmphasis",children:e.title})]})},(e?.id??"")+(n||0))},[]),q=(0,o.useMemo)(()=>[...T].concat(i.filter(({id:e})=>!T.some(({id:n})=>n===e))).filter(Y),[T,i,Y]),Z=(0,o.useMemo)(()=>L?.filter?.(e=>!!e?.trim())??[],[L]),J=K&&!q.length;return(0,a.jsxs)("div",{className:w.wrapper,children:[!!Z.length&&(0,a.jsxs)(h.x,{size:"b2",children:[b[A],(0,a.jsx)(h.x,{size:"b2",variant:"activity",as:"button",className:w.custom_button,onClick:()=>{U(!0),B.clickCurrencyInfoGtm()},children:v[A]})]}),(0,a.jsxs)("section",{className:w.header,children:[(0,a.jsx)(_.R,{placeholder:k[A],value:V,onChange:W,onClear:$,lightBackground:!0}),!!r&&!K&&(0,a.jsx)(y.Z,{isOpen:!0,title:"",content:(0,a.jsxs)(h.x,{as:"p",size:"b3",children:[(0,a.jsx)("strong",{children:`${r?.title} (${r?.code})`})," ",x[A]]}),variant:"warning",className:w.inactive_currency_info})]}),J?(0,a.jsx)("section",{className:w.list,children:(0,a.jsx)(u.B,{image:t({alt:j[A],src:p.jDA}),title:j[A],description:I[A]})}):f?(0,a.jsx)(m.E,{name:"disabled-currencies",onChange:G,value:e,children:H(N[A][0])}):(0,a.jsx)("section",{className:w.list,children:K?(0,a.jsx)(m.E,{name:"currencies",onChange:G,value:e,children:q.map(H)}):(0,a.jsxs)(a.Fragment,{children:[!!T.length&&(0,a.jsxs)(m.E,{name:"suggested-currencies",onChange:G,value:e,children:[(0,a.jsx)("div",{className:w.title_section,children:(0,a.jsx)(h.x,{size:"b1",weight:"bold",children:S[A]})}),T.map(H)]}),!!i.length&&(0,a.jsxs)(m.E,{name:"other-currencies",onChange:G,value:e,children:[(0,a.jsx)("div",{className:w.title_section,children:(0,a.jsx)(h.x,{size:"b1",weight:"bold",children:E[A]})}),i.map(H)]})]})}),(0,a.jsx)(c.R,{isOpen:z,title:R[A],onClose:F,children:(0,a.jsx)("div",{className:w.currency_info,children:Z.map(e=>(0,a.jsx)(d.a,{title:"",description:e,left:(0,a.jsx)(C.r,{color:"#AEB2BE",size:"xs"}),className:w.list_currency_info},e))})})]})}),z=r(49641),U=r(34786);let V=(0,o.memo)(({onRetry:e})=>(0,a.jsx)("div",{className:U.error_container,children:(0,a.jsx)(z.o,{variant:"generic",isFullScreen:!1,onClickPrimaryButton:e})}));var X=r(76313),K=r(24150);let W=(0,o.memo)(()=>(0,a.jsx)("div",{className:K.loading_container,children:(0,a.jsx)("div",{style:{color:"var(--color-B400)",width:56},children:(0,a.jsx)(X.T,{})})})),$=({dataLayer:e,isLoading:n,isError:r,onRetry:t,currency:i,disabledCurrency:c,imageRenderer:s,otherCurrencies:o,shouldDisableMultiCurrency:l,suggestedCurrencies:u,tickers:d,onChangeCurrency:y})=>n?(0,a.jsx)(W,{}):r?(0,a.jsx)(V,{onRetry:t}):(0,a.jsx)(B,{currency:i,dataLayer:e,disabledCurrency:c,imageRenderer:s,otherCurrencies:o,shouldDisableMultiCurrency:l,suggestedCurrencies:u,tickers:d,onChangeCurrency:y});var G=r(70625),F=r(5185);let Y=()=>"undefined"!=typeof window&&window?.location?.hostname?.includes("local.tiket")?"https://gatotkaca.tiket.com":"",H=()=>"undefined"!=typeof window&&/:\/\/m\./.test(`https://${window?.location?.hostname}`)?"MOBILE_WEB":"DESKTOP",q=(e,n)=>n?e:`${Y()}/ms-gateway${e}`,Z=async({lang:e="id",customFetch:n})=>(n||fetch)(q("/tix-payment-dashboard/multi-currency/config/user?consumer_visible=true",n),{headers:{"Accept-Language":e,lang:e,"X-Audience":"tiket.com","X-Channel-Id":H(),"X-Cookie-Session-V2":"true","X-Request-Id":(0,F.Z)(),"X-Service-Id":"gateway","X-Store-Id":"TIKETCOM"}}).then(async e=>{let n=await e.json();if(404===e.status||404===n.status)throw O;if("SUCCESS"!==n.code)throw n.code;return n.data}),J=async({lang:e="id"},n,r)=>(r||fetch)(q("/tix-member-core/v2/account/currency",r),{method:"PUT",headers:{"Accept-Language":e,lang:e,"X-Audience":"tiket.com","X-Channel-Id":H(),"X-Cookie-Session-V2":"true","X-Request-Id":(0,F.Z)(),"X-Service-Id":"gateway","X-Store-Id":"TIKETCOM"},body:JSON.stringify(n)}).then(async e=>{let n=await e.json();if("SUCCESS"!==n.code)throw n.code;return n.data}),Q=(e,n,r,t)=>{let i=new Date;i.setTime(i.getTime()+(r??8760)*36e5);let a=`;expires=${i.toUTCString()}`,c=`;path=${t??"/"}`;document.cookie=`${e}=${n+a+";domain=.tiket.com"+c}`},ee=e=>{if("undefined"!=typeof window&&document){let n=`; ${document.cookie}`.split(`; ${e}=`);if(n&&2===n.length)return n.pop()?.split(";").shift()||""}return""},en=({currency:e,language:n})=>{try{window.commonCoreAttributes.updateCoreAttributes({...e?{currency:e}:{},...n?{language:n}:{}})}catch(e){console.error("Update Core Attributes Error",e)}},er="tiket_currency",et=({currency:e,dataLayer:n,isLogin:r,isMultiCurrencyAvailable:t,isOpen:i,onChangeCurrency:a,onDisabledCurrency:c,onError:l,onLoading:u})=>{let d=D({dataLayer:n}),{locale:y,customFetch:g}=(0,s.tM)(),[m,_]=(0,o.useState)(e||"");(0,o.useEffect)(()=>{_(t&&(e||ee(er))||"IDR")},[e,t]);let[h,C]=(0,o.useState)([]),[p,w]=(0,o.useState)([]),[f,b]=(0,o.useState)([]),[v,k]=(0,o.useState)(),[x,j]=(0,o.useState)(!1),[I,S]=(0,o.useState)(!1),[E,R]=(0,o.useState)(!1),[M,A]=(0,o.useState)(!1),P=e=>{A(e),u?.(e)},B=()=>{_("IDR"),w(N[y]),C(N[y])},z=e=>{Q(er,e),en({currency:e}),_(e),S(!0)},U=async(e,n)=>{P(!0);try{r&&await J({lang:y},{currency:e},g),z(e),n?c?.(n):a?.(e)}catch(n){console.error("Update Currency Error",n),l?.(n),(0,G.E)(T[y],{actionText:L[y],onClickAction:n=>{U(e),G.E.dismiss(n)},type:"error"})}finally{P(!1)}},V=async e=>{d.clickCurrency({language:y?.toUpperCase(),currency:"IDR",dataLayerProp:n}),await U("IDR",e)},X=async()=>{try{P(!0),R(!1),j(!1);let e=await Z({lang:y,customFetch:g}),n=(e?.suggestedCurrency||[]).map(e=>e?.code||""),r=(e?.multiCurrencyConfig||[]).filter(e=>!n.includes(e?.code||""));w(e?.suggestedCurrency||[]),C(r),b(e?.tickers??[]);let t=[...e?.suggestedCurrency??[],...e?.multiCurrencyConfig??[]].filter(e=>e.code?.toLowerCase()===(m||"").toLowerCase()).find(e=>!e.userIsActive);k(t),t&&(d.viewCurrencyWarningGtm(),await V(t.code||""))}catch(e){e===O?(j(!0),B(),"IDR"!==m&&await V(m)):(console.error("Currency Initial Load Error",e),R(!0)),l?.(e)}finally{P(!1)}};return(0,o.useEffect)(()=>{i&&(t?X():B())},[i]),{currency:m,disabledCurrency:v,otherCurrencies:h,suggestedCurrencies:p,isCurrencyChanged:I,isCurrencyListNotFound:x,isError:E,isLoading:M,tickers:f,onChangeCurrency:U,onRetry:X}},ei=({currency:e,isOpen:n,isLogin:r,isMultiCurrencyAvailable:t,dataLayer:i,onClose:o,onChangeCurrency:l,onDisabledCurrency:u,onError:d,onLoading:y})=>{let{locale:g}=(0,s.tM)(),{currency:m,disabledCurrency:_,otherCurrencies:h,suggestedCurrencies:C,isCurrencyChanged:p,isCurrencyListNotFound:w,isError:b,isLoading:v,tickers:k,onChangeCurrency:x,onRetry:j}=et({currency:e,dataLayer:i,isLogin:r,isMultiCurrencyAvailable:t,isOpen:n,onChangeCurrency:l,onDisabledCurrency:u,onError:d,onLoading:y});return(0,a.jsx)(c.R,{defaultPopupHeight:"full",isOpen:n,title:f[g],onClose:()=>o?.({isCurrencyChanged:p}),variant:"clean",children:(0,a.jsx)($,{isLoading:v,isError:b,currency:m,dataLayer:i,onRetry:j,disabledCurrency:_,otherCurrencies:h,shouldDisableMultiCurrency:!t||w,suggestedCurrencies:C,tickers:k,onChangeCurrency:x})})}},49641:function(e,n,r){"use strict";r.d(n,{o:function(){return m}});var t=r(11527),i=r(50959),a=r(82187),c=r(58322),s=r(67480),o=r(67077),l=r(67030);let u={IMAGE_ALT:{en:"Offline Mode",id:"Mode Offline"},TITLE:{en:"You need an internet connection",id:"Kamu butuh koneksi internet"},DESCRIPTION:{en:'Check your Wi-Fi, data package, cellular service, or tap "Reload".',id:'Coba cek Wi-Fi, paket data, sinyal selulermu, atau tekan "Reload".'}},d={server:{IMAGE_ALT:{en:"Server Error",id:"Kesalahan Server"},TITLE:{en:"Please wait. Improvements are being made",id:"Bentar ya, lagi ada perbaikan"},DESCRIPTION:{en:"Currently, we are improving our system to give you a better experience.",id:"Kami sedang mengembangkan sistem untuk memberikan layanan terbaik buatmu."},PRIMARY_BUTTON:{en:"Reload",id:"Reload"}},generic:{IMAGE_ALT:{en:"Error",id:"Error"},TITLE:{en:"Sorry, there is a problem",id:"Maaf ya, ada sedikit gangguan"},DESCRIPTION:{en:"Stay calm, we are working to solve it. Please try again!",id:"Tenang, kami sedang beraksi mengatasinya. Coba lagi, yuk!"},PRIMARY_BUTTON:{en:"Reload",id:"Reload"}},"offline-mode":{...u,PRIMARY_BUTTON:{en:"Settings",id:"Settings"},SECONDARY_BUTTON:{en:"Reload",id:"Reload"}},"offline-mode-without-settings":{...u,PRIMARY_BUTTON:{en:"Reload",id:"Reload"}}};var y=r(2537);let g=({src:e,alt:n})=>(0,t.jsx)("img",{src:e,alt:n,loading:"lazy",className:y.image}),m=({variant:e,isFullScreen:n=!0,className:r,imageRenderer:u=g,title:m,description:_,primaryButtonText:h,onClickPrimaryButton:C,secondaryButtonText:p,onClickSecondaryButton:w,...f})=>{let{locale:b}=(0,c.tM)(),v=(0,i.useMemo)(()=>{switch(e){case"server":return s.GEn;case"offline-mode":case"offline-mode-without-settings":return s.sb2;default:return s.JBG}},[e]),{IMAGE_ALT:k,TITLE:x,DESCRIPTION:j,PRIMARY_BUTTON:I,SECONDARY_BUTTON:S}=d[e]||{},E=k?.[b]||"",R=m||x?.[b]||"",T=_||j?.[b]||"",L=h||I?.[b]||"",N=p||S?.[b]||"",O=!!R,M=!!T,A=O||M,D=!!L,P=!!N;return(0,t.jsx)("div",{className:a(y.error_view_container,r,{[y.error_view_container_inline]:!n}),...f,children:(0,t.jsxs)("div",{className:y.error_view,children:[(0,t.jsx)("div",{className:y.image_container,children:u({src:v,alt:E})}),A&&(0,t.jsxs)("div",{className:y.content,children:[O&&(0,t.jsx)(l.x,{as:"h3",size:"h3",weight:"bold",children:R}),M&&(0,t.jsx)(l.x,{as:"p",size:"b1",className:y.description,children:T})]}),(D||P)&&(0,t.jsx)("div",{className:y.actions,children:(0,t.jsxs)("div",{className:y.btn_group,children:[N&&(0,t.jsx)(o.z,{variant:"secondary",size:"large",className:y.btn,onClick:()=>{w&&w()},children:N}),L&&(0,t.jsx)(o.z,{variant:"primary",size:"large",className:y.btn,onClick:()=>{C&&C()},children:L})]})})]})})}}}]);